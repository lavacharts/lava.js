!function t(n,e,r){function o(u,s){if(!e[u]){if(!n[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=e[u]={exports:{}};n[u][0].call(f.exports,function(t){var e=n[u][1][t];return o(e?e:t)},f,f.exports,t,n,e,r)}return e[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,n,e){(function(){"use strict";this.lava=t("./lava.js"),this.addEventListener("resize",this.lava.redrawCharts),this.lava.run()}).apply(window)},{"./lava.js":2}],2:[function(t,n,e){"use strict";const r=t("events"),o=t("util");var i=function(){r.call(this),this._charts=[],this._dashboards=[],this._readyCallback=null,this.dataVer="0.6",this.errors=t("./lava/Errors.js")};o.inherits(i,r),n.exports=new i,i.prototype.Chart=t("./lava/Chart.js"),i.prototype.Dashboard=t("./lava/Dashboard.js"),i.prototype.DataTable=function(t){return new window.google.visualization.DataTable(t)},i.prototype.ready=function(t){if("function"!=typeof t)throw this.errors.INVALID_CALLBACK(t);this._readyCallback=t,this.on("ready",this._readyCallback)},i.prototype.event=function(t,n,e){return e(t,n)},i.prototype.loadData=function(t,n,e){this.getChart(t,function(t){"undefined"!=typeof n.data?t.setData(n.data):t.setData(n),"undefined"!=typeof n.formats&&t.applyFormats(n.formats),t.redraw(),"function"==typeof e&&e(t)})},i.prototype.storeChart=function(t){this._charts.push(t)},i.prototype.storeDashboard=function(t){this._dashboards.push(t)},i.prototype.getChart=function(n,e){var r=t("underscore");if("string"!=typeof n)throw this.errors.INVALID_LABEL(n);if("function"!=typeof e)throw this.errors.INVALID_CALLBACK(e);var o=r.find(this._charts,r.matches({label:n}),this);if(!o)throw this.errors.CHART_NOT_FOUND(n);e(o)},i.prototype.getCharts=function(t){if("function"!=typeof t)throw this.errors.INVALID_CALLBACK(t);t(this._charts)},i.prototype.redrawCharts=function(){var n=t("underscore");n.debounce(function(){n.each(this._charts,function(t){t.redraw()})}.bind(this),300)},i.prototype.getDashboard=function(n,e){var r=t("underscore");if("function"!=typeof e)throw this.errors.INVALID_CALLBACK(e);var o=r.find(this._dashboards,r.matches({label:n}),this);if(!o)throw this.errors.DASHBOARD_NOT_FOUND(n);e(o)},i.prototype.loadJsapi=function(){var n=(t("q"),document.createElement("script"));n.type="text/javascript",n.async=!0,n.src="//www.google.com/jsapi",n.onload=n.onreadystatechange=function(t){t=t||window.event,("load"===t.type||/loaded|complete/.test(this.readyState))&&(this.onload=this.onreadystatechange=null,this.emit("jsapi:ready",window.google))}.bind(this),document.head.appendChild(n)},i.prototype.run=function(){this.loadJsapi();var t=0;this.on("rendered",function(){t++,t==this._charts.length&&this._readyCallback()})}},{"./lava/Chart.js":3,"./lava/Dashboard.js":4,"./lava/Errors.js":5,events:7,q:12,underscore:13,util:11}],3:[function(t,n,e){"use strict";var r=function(n,e){this.type=n,this.label=e,this.element=null,this.data=null,this.chart=null,this.options=null,this.formats=[],this.render=null,this._errors=t("./errors.js"),this.deferred=t("q").defer()};r.prototype.setData=function(t){this.data=new window.google.visualization.DataTable(t,lava.dataVer)},r.prototype.setElement=function(t){if(this.element=document.getElementById(t),!this.element)throw this._errors.ELEMENT_ID_NOT_FOUND(t)},r.prototype.redraw=function(){this.chart.draw(this.data,this.options)},r.prototype.applyFormats=function(t){for(var n=0;n<t.length;n++){var e=t[n],r=new google.visualization[e.type](e.config);r.format(this.data,e.index)}},n.exports=r},{"./errors.js":6,q:12}],4:[function(t,n,e){"use strict";var r=function(n){this.label=n,this.element=null,this.render=null,this.bindings=[],this.dashboard=null,this._data=null,this._errors=t("./errors.js")};r.prototype.setData=function(t){this._data=new window.google.visualization.DataTable(t,lava.dataVer)},r.prototype.setElement=function(t){if(this.element=document.getElementById(t),!this.element)throw this._errors.ELEMENT_ID_NOT_FOUND(t)},n.exports=r},{"./errors.js":6}],5:[function(t,n,e){"use strict";n.exports={INVALID_CALLBACK:function(t){return new Error("[Lavacharts] "+typeof t+" is not a valid callback.")},INVALID_LABEL:function(t){return new Error("[Lavacharts] "+typeof t+" is not a valid label.")},ELEMENT_ID_NOT_FOUND:function(t){return new Error("[Lavacharts] DOM node #"+t+" was not found.")},CHART_NOT_FOUND:function(t){return new Error('[Lavacharts] Chart with label "'+t+'" was not found.')},DASHBOARD_NOT_FOUND:function(t){return new Error('[Lavacharts] Dashboard with label "'+t+'" was not found.')}}},{}],6:[function(t,n,e){arguments[4][5][0].apply(e,arguments)},{dup:5}],7:[function(t,n,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function i(t){return"number"==typeof t}function u(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}n.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var n,e,r,i,a,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if(n=arguments[1],n instanceof Error)throw n;throw TypeError('Uncaught, unspecified "error" event.')}if(e=this._events[t],s(e))return!1;if(o(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),a=1;r>a;a++)i[a-1]=arguments[a];e.apply(this,i)}else if(u(e)){for(r=arguments.length,i=new Array(r-1),a=1;r>a;a++)i[a-1]=arguments[a];for(c=e.slice(),r=c.length,a=0;r>a;a++)c[a].apply(this,i)}return!0},r.prototype.addListener=function(t,n){var e;if(!o(n))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(n.listener)?n.listener:n),this._events[t]?u(this._events[t])?this._events[t].push(n):this._events[t]=[this._events[t],n]:this._events[t]=n,u(this._events[t])&&!this._events[t].warned){var e;e=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[t].length>e&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,n){function e(){this.removeListener(t,e),r||(r=!0,n.apply(this,arguments))}if(!o(n))throw TypeError("listener must be a function");var r=!1;return e.listener=n,this.on(t,e),this},r.prototype.removeListener=function(t,n){var e,r,i,s;if(!o(n))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(e=this._events[t],i=e.length,r=-1,e===n||o(e.listener)&&e.listener===n)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,n);else if(u(e)){for(s=i;s-- >0;)if(e[s]===n||e[s].listener&&e[s].listener===n){r=s;break}if(0>r)return this;1===e.length?(e.length=0,delete this._events[t]):e.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,n)}return this},r.prototype.removeAllListeners=function(t){var n,e;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(n in this._events)"removeListener"!==n&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events={},this}if(e=this._events[t],o(e))this.removeListener(t,e);else for(;e.length;)this.removeListener(t,e[e.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var n;return n=this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,n){var e;return e=t._events&&t._events[n]?o(t._events[n])?1:t._events[n].length:0}},{}],8:[function(t,n,e){"function"==typeof Object.create?n.exports=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(t,n){t.super_=n;var e=function(){};e.prototype=n.prototype,t.prototype=new e,t.prototype.constructor=t}},{}],9:[function(t,n,e){function r(){f=!1,s.length?c=s.concat(c):l=-1,c.length&&o()}function o(){if(!f){var t=setTimeout(r);f=!0;for(var n=c.length;n;){for(s=c,c=[];++l<n;)s&&s[l].run();l=-1,n=c.length}s=null,f=!1,clearTimeout(t)}}function i(t,n){this.fun=t,this.array=n}function u(){}var s,a=n.exports={},c=[],f=!1,l=-1;a.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];c.push(new i(t,n)),1!==c.length||f||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=u,a.addListener=u,a.once=u,a.off=u,a.removeListener=u,a.removeAllListeners=u,a.emit=u,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],10:[function(t,n,e){n.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],11:[function(t,n,e){(function(n,r){function o(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),a(r,t,r.depth)}function i(t,n){var e=o.styles[n];return e?"["+o.colors[e][0]+"m"+t+"["+o.colors[e][1]+"m":t}function u(t,n){return t}function s(t){var n={};return t.forEach(function(t,e){n[t]=!0}),n}function a(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return w(o)||(o=a(t,o,r)),o}var i=c(t,n);if(i)return i;var u=Object.keys(n),v=s(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),O(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(n);if(0===u.length){if(E(n)){var y=n.name?": "+n.name:"";return t.stylize("[Function"+y+"]","special")}if(j(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return t.stylize(Date.prototype.toString.call(n),"date");if(O(n))return f(n)}var m="",g=!1,b=["{","}"];if(d(n)&&(g=!0,b=["[","]"]),E(n)){var _=n.name?": "+n.name:"";m=" [Function"+_+"]"}if(j(n)&&(m=" "+RegExp.prototype.toString.call(n)),k(n)&&(m=" "+Date.prototype.toUTCString.call(n)),O(n)&&(m=" "+f(n)),0===u.length&&(!g||0==n.length))return b[0]+m+b[1];if(0>r)return j(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var x;return x=g?l(t,n,r,v,u):u.map(function(e){return p(t,n,r,v,e,g)}),t.seen.pop(),h(x,m,b)}function c(t,n){if(_(n))return t.stylize("undefined","undefined");if(w(n)){var e="'"+JSON.stringify(n).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(e,"string")}return g(n)?t.stylize(""+n,"number"):v(n)?t.stylize(""+n,"boolean"):y(n)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,n,e,r,o){for(var i=[],u=0,s=n.length;s>u;++u)N(n,String(u))?i.push(p(t,n,e,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(t,n,e,r,o,!0))}),i}function p(t,n,e,r,o,i){var u,s,c;if(c=Object.getOwnPropertyDescriptor(n,o)||{value:n[o]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),N(r,o)||(u="["+o+"]"),s||(t.seen.indexOf(c.value)<0?(s=y(e)?a(t,c.value,null):a(t,c.value,e-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),_(u)){if(i&&o.match(/^\d+$/))return s;u=JSON.stringify(""+o),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+s}function h(t,n,e){var r=0,o=t.reduce(function(t,n){return r++,n.indexOf("\n")>=0&&r++,t+n.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?e[0]+(""===n?"":n+"\n ")+" "+t.join(",\n  ")+" "+e[1]:e[0]+n+" "+t.join(", ")+" "+e[1]}function d(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return null==t}function g(t){return"number"==typeof t}function w(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function _(t){return void 0===t}function j(t){return x(t)&&"[object RegExp]"===D(t)}function x(t){return"object"==typeof t&&null!==t}function k(t){return x(t)&&"[object Date]"===D(t)}function O(t){return x(t)&&("[object Error]"===D(t)||t instanceof Error)}function E(t){return"function"==typeof t}function A(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function D(t){return Object.prototype.toString.call(t)}function L(t){return 10>t?"0"+t.toString(10):t.toString(10)}function T(){var t=new Date,n=[L(t.getHours()),L(t.getMinutes()),L(t.getSeconds())].join(":");return[t.getDate(),I[t.getMonth()],n].join(" ")}function N(t,n){return Object.prototype.hasOwnProperty.call(t,n)}var S=/%[sdj%]/g;e.format=function(t){if(!w(t)){for(var n=[],e=0;e<arguments.length;e++)n.push(o(arguments[e]));return n.join(" ")}for(var e=1,r=arguments,i=r.length,u=String(t).replace(S,function(t){if("%%"===t)return"%";if(e>=i)return t;switch(t){case"%s":return String(r[e++]);case"%d":return Number(r[e++]);case"%j":try{return JSON.stringify(r[e++])}catch(n){return"[Circular]"}default:return t}}),s=r[e];i>e;s=r[++e])u+=y(s)||!x(s)?" "+s:" "+o(s);return u},e.deprecate=function(t,o){function i(){if(!u){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),u=!0}return t.apply(this,arguments)}if(_(r.process))return function(){return e.deprecate(t,o).apply(this,arguments)};if(n.noDeprecation===!0)return t;var u=!1;return i};var C,R={};e.debuglog=function(t){if(_(C)&&(C=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(C)){var r=n.pid;R[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else R[t]=function(){};return R[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=v,e.isNull=y,e.isNullOrUndefined=m,e.isNumber=g,e.isString=w,e.isSymbol=b,e.isUndefined=_,e.isRegExp=j,e.isObject=x,e.isDate=k,e.isError=O,e.isFunction=E,e.isPrimitive=A,e.isBuffer=t("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",T(),e.format.apply(e,arguments))},e.inherits=t("inherits"),e._extend=function(t,n){if(!n||!x(n))return t;for(var e=Object.keys(n),r=e.length;r--;)t[e[r]]=n[e[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":10,_process:9,inherits:8}],12:[function(t,n,e){(function(t){!function(t){"use strict";if("function"==typeof bootstrap)bootstrap("promise",t);else if("object"==typeof e&&"object"==typeof n)n.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=t}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var r="undefined"!=typeof window?window:self,o=r.Q;r.Q=t(),r.Q.noConflict=function(){return r.Q=o,this}}}(function(){"use strict";function n(t){return function(){return G.apply(t,arguments)}}function e(t){return t===Object(t)}function r(t){return"[object StopIteration]"===rt(t)||t instanceof H}function o(t,n){if(q&&n.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(ot)){for(var e=[],r=n;r;r=r.source)r.stack&&e.unshift(r.stack);e.unshift(t.stack);var o=e.join("\n"+ot+"\n");t.stack=i(o)}}function i(t){for(var n=t.split("\n"),e=[],r=0;r<n.length;++r){var o=n[r];a(o)||u(o)||!o||e.push(o)}return e.join("\n")}function u(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function s(t){var n=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(n)return[n[1],Number(n[2])];var e=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function a(t){var n=s(t);if(!n)return!1;var e=n[0],r=n[1];return e===K&&r>=J&&ct>=r}function c(){if(q)try{throw new Error}catch(t){var n=t.stack.split("\n"),e=n[0].indexOf("@")>0?n[1]:n[2],r=s(e);if(!r)return;return K=r[0],r[1]}}function f(t,n,e){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(n+" is deprecated, use "+e+" instead.",new Error("").stack),t.apply(t,arguments)}}function l(t){return t instanceof v?t:w(t)?D(t):A(t)}function p(){function t(t){n=t,i.source=t,W(e,function(n,e){l.nextTick(function(){t.promiseDispatch.apply(t,e)})},void 0),e=void 0,r=void 0}var n,e=[],r=[],o=tt(p.prototype),i=tt(v.prototype);if(i.promiseDispatch=function(t,o,i){var u=Z(arguments);e?(e.push(u),"when"===o&&i[1]&&r.push(i[1])):l.nextTick(function(){n.promiseDispatch.apply(n,u)})},i.valueOf=function(){if(e)return i;var t=m(n);return g(t)&&(n=t),t},i.inspect=function(){return n?n.inspect():{state:"pending"}},l.longStackSupport&&q)try{throw new Error}catch(u){i.stack=u.stack.substring(u.stack.indexOf("\n")+1)}return o.promise=i,o.resolve=function(e){n||t(l(e))},o.fulfill=function(e){n||t(A(e))},o.reject=function(e){n||t(E(e))},o.notify=function(t){n||W(r,function(n,e){l.nextTick(function(){e(t)})},void 0)},o}function h(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var n=p();try{t(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}return n.promise}function d(t){return h(function(n,e){for(var r=0,o=t.length;o>r;r++)l(t[r]).then(n,e)})}function v(t,n,e){void 0===n&&(n=function(t){return E(new Error("Promise does not support operation: "+t))}),void 0===e&&(e=function(){return{state:"unknown"}});var r=tt(v.prototype);if(r.promiseDispatch=function(e,o,i){var u;try{u=t[o]?t[o].apply(r,i):n.call(r,o,i)}catch(s){u=E(s)}e&&e(u)},r.inspect=e,e){var o=e();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var t=e();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function y(t,n,e,r){return l(t).then(n,e,r)}function m(t){if(g(t)){var n=t.inspect();if("fulfilled"===n.state)return n.value}return t}function g(t){return t instanceof v}function w(t){return e(t)&&"function"==typeof t.then}function b(t){return g(t)&&"pending"===t.inspect().state}function _(t){return!g(t)||"fulfilled"===t.inspect().state}function j(t){return g(t)&&"rejected"===t.inspect().state}function x(){it.length=0,ut.length=0,at||(at=!0)}function k(n,e){at&&("object"==typeof t&&"function"==typeof t.emit&&l.nextTick.runAfter(function(){-1!==X(ut,n)&&(t.emit("unhandledRejection",e,n),st.push(n))}),ut.push(n),e&&"undefined"!=typeof e.stack?it.push(e.stack):it.push("(no stack) "+e))}function O(n){if(at){var e=X(ut,n);-1!==e&&("object"==typeof t&&"function"==typeof t.emit&&l.nextTick.runAfter(function(){var r=X(st,n);-1!==r&&(t.emit("rejectionHandled",it[e],n),st.splice(r,1))}),ut.splice(e,1),it.splice(e,1))}}function E(t){var n=v({when:function(n){return n&&O(this),n?n(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return k(n,t),n}function A(t){return v({when:function(){return t},get:function(n){return t[n]},set:function(n,e){t[n]=e},"delete":function(n){delete t[n]},post:function(n,e){return null===n||void 0===n?t.apply(void 0,e):t[n].apply(t,e)},apply:function(n,e){return t.apply(n,e)},keys:function(){return et(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function D(t){var n=p();return l.nextTick(function(){try{t.then(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}}),n.promise}function L(t){return v({isDef:function(){}},function(n,e){return I(t,n,e)},function(){return l(t).inspect()})}function T(t,n,e){return l(t).spread(n,e)}function N(t){return function(){function n(t,n){var u;if("undefined"==typeof StopIteration){try{u=e[t](n)}catch(s){return E(s)}return u.done?l(u.value):y(u.value,o,i)}try{u=e[t](n)}catch(s){return r(s)?l(s.value):E(s)}return y(u,o,i)}var e=t.apply(this,arguments),o=n.bind(n,"next"),i=n.bind(n,"throw");return o()}}function S(t){l.done(l.async(t)())}function C(t){throw new H(t)}function R(t){return function(){return T([this,F(arguments)],function(n,e){return t.apply(n,e)})}}function I(t,n,e){return l(t).dispatch(n,e)}function F(t){return y(t,function(t){var n=0,e=p();return W(t,function(r,o,i){var u;g(o)&&"fulfilled"===(u=o.inspect()).state?t[i]=u.value:(++n,y(o,function(r){t[i]=r,0===--n&&e.resolve(t)},e.reject,function(t){e.notify({index:i,value:t})}))},void 0),0===n&&e.resolve(t),e.promise})}function M(t){if(0===t.length)return l.resolve();var n=l.defer(),e=0;return W(t,function(r,o,i){function u(t){n.resolve(t)}function s(){e--,0===e&&n.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function a(t){n.notify({index:i,value:t})}var c=t[i];e++,y(c,u,s,a)},void 0),n.promise}function z(t){return y(t,function(t){return t=Y(t,l),y(F(Y(t,function(t){return y(t,Q,Q)})),function(){return t})})}function B(t){return l(t).allSettled()}function U(t,n){return l(t).then(void 0,void 0,n)}function P(t,n){return l(t).nodeify(n)}var q=!1;try{throw new Error}catch(V){q=!!V.stack}var K,H,J=c(),Q=function(){},$=function(){function n(){for(var t,n;r.next;)r=r.next,t=r.task,r.task=void 0,n=r.domain,n&&(r.domain=void 0,n.enter()),e(t,n);for(;a.length;)t=a.pop(),e(t);i=!1}function e(t,e){try{t()}catch(r){if(s)throw e&&e.exit(),setTimeout(n,0),e&&e.enter(),r;setTimeout(function(){throw r},0)}e&&e.exit()}var r={task:void 0,next:null},o=r,i=!1,u=void 0,s=!1,a=[];if($=function(n){o=o.next={task:n,domain:s&&t.domain,next:null},i||(i=!0,u())},"object"==typeof t&&"[object process]"===t.toString()&&t.nextTick)s=!0,u=function(){t.nextTick(n)};else if("function"==typeof setImmediate)u="undefined"!=typeof window?setImmediate.bind(window,n):function(){setImmediate(n)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=function(){u=f,c.port1.onmessage=n,n()};var f=function(){c.port2.postMessage(0)};u=function(){setTimeout(n,0),f()}}else u=function(){setTimeout(n,0)};return $.runAfter=function(t){a.push(t),i||(i=!0,u())},$}(),G=Function.call,Z=n(Array.prototype.slice),W=n(Array.prototype.reduce||function(t,n){var e=0,r=this.length;if(1===arguments.length)for(;;){if(e in this){n=this[e++];break}if(++e>=r)throw new TypeError}for(;r>e;e++)e in this&&(n=t(n,this[e],e));return n}),X=n(Array.prototype.indexOf||function(t){for(var n=0;n<this.length;n++)if(this[n]===t)return n;return-1}),Y=n(Array.prototype.map||function(t,n){var e=this,r=[];return W(e,function(o,i,u){r.push(t.call(n,i,u,e))},void 0),r}),tt=Object.create||function(t){function n(){}return n.prototype=t,new n},nt=n(Object.prototype.hasOwnProperty),et=Object.keys||function(t){var n=[];for(var e in t)nt(t,e)&&n.push(e);return n},rt=n(Object.prototype.toString);H="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var ot="From previous event:";l.resolve=l,l.nextTick=$,l.longStackSupport=!1,"object"==typeof t&&t&&t.env&&t.env.Q_DEBUG&&(l.longStackSupport=!0),l.defer=p,p.prototype.makeNodeResolver=function(){var t=this;return function(n,e){n?t.reject(n):arguments.length>2?t.resolve(Z(arguments,1)):t.resolve(e)}},l.Promise=h,l.promise=h,h.race=d,h.all=F,h.reject=E,h.resolve=l,l.passByCopy=function(t){return t},v.prototype.passByCopy=function(){return this},l.join=function(t,n){return l(t).join(n)},v.prototype.join=function(t){return l([this,t]).spread(function(t,n){if(t===n)return t;throw new Error("Can't join: not the same: "+t+" "+n)})},l.race=d,v.prototype.race=function(){return this.then(l.race)},l.makePromise=v,v.prototype.toString=function(){return"[object Promise]"},v.prototype.then=function(t,n,e){function r(n){try{return"function"==typeof t?t(n):n}catch(e){return E(e)}}function i(t){if("function"==typeof n){o(t,s);try{return n(t)}catch(e){return E(e)}}return E(t)}function u(t){return"function"==typeof e?e(t):t}var s=this,a=p(),c=!1;return l.nextTick(function(){s.promiseDispatch(function(t){c||(c=!0,a.resolve(r(t)))},"when",[function(t){c||(c=!0,a.resolve(i(t)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(t){var n,e=!1;try{n=u(t)}catch(r){if(e=!0,!l.onerror)throw r;l.onerror(r)}e||a.notify(n)}]),a.promise},l.tap=function(t,n){return l(t).tap(n)},v.prototype.tap=function(t){return t=l(t),this.then(function(n){return t.fcall(n).thenResolve(n)})},l.when=y,v.prototype.thenResolve=function(t){return this.then(function(){return t})},l.thenResolve=function(t,n){return l(t).thenResolve(n)},v.prototype.thenReject=function(t){return this.then(function(){throw t})},l.thenReject=function(t,n){return l(t).thenReject(n)},l.nearer=m,l.isPromise=g,l.isPromiseAlike=w,l.isPending=b,v.prototype.isPending=function(){return"pending"===this.inspect().state},l.isFulfilled=_,v.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},l.isRejected=j,v.prototype.isRejected=function(){return"rejected"===this.inspect().state};var it=[],ut=[],st=[],at=!0;l.resetUnhandledRejections=x,l.getUnhandledReasons=function(){return it.slice()},l.stopUnhandledRejectionTracking=function(){x(),at=!1},x(),l.reject=E,l.fulfill=A,l.master=L,l.spread=T,v.prototype.spread=function(t,n){return this.all().then(function(n){return t.apply(void 0,n)},n)},l.async=N,l.spawn=S,l["return"]=C,l.promised=R,l.dispatch=I,v.prototype.dispatch=function(t,n){var e=this,r=p();return l.nextTick(function(){e.promiseDispatch(r.resolve,t,n)}),r.promise},l.get=function(t,n){return l(t).dispatch("get",[n])},v.prototype.get=function(t){return this.dispatch("get",[t])},l.set=function(t,n,e){return l(t).dispatch("set",[n,e])},v.prototype.set=function(t,n){return this.dispatch("set",[t,n])},l.del=l["delete"]=function(t,n){return l(t).dispatch("delete",[n])},v.prototype.del=v.prototype["delete"]=function(t){return this.dispatch("delete",[t])},l.mapply=l.post=function(t,n,e){return l(t).dispatch("post",[n,e])},v.prototype.mapply=v.prototype.post=function(t,n){return this.dispatch("post",[t,n])},l.send=l.mcall=l.invoke=function(t,n){return l(t).dispatch("post",[n,Z(arguments,2)])},v.prototype.send=v.prototype.mcall=v.prototype.invoke=function(t){return this.dispatch("post",[t,Z(arguments,1)])},l.fapply=function(t,n){return l(t).dispatch("apply",[void 0,n])},v.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},l["try"]=l.fcall=function(t){return l(t).dispatch("apply",[void 0,Z(arguments,1)])},v.prototype.fcall=function(){return this.dispatch("apply",[void 0,Z(arguments)])},l.fbind=function(t){var n=l(t),e=Z(arguments,1);return function(){return n.dispatch("apply",[this,e.concat(Z(arguments))])}},v.prototype.fbind=function(){var t=this,n=Z(arguments);return function(){return t.dispatch("apply",[this,n.concat(Z(arguments))])}},l.keys=function(t){return l(t).dispatch("keys",[])},v.prototype.keys=function(){return this.dispatch("keys",[])},l.all=F,v.prototype.all=function(){return F(this)},l.any=M,v.prototype.any=function(){return M(this)},l.allResolved=f(z,"allResolved","allSettled"),v.prototype.allResolved=function(){return z(this)},l.allSettled=B,v.prototype.allSettled=function(){return this.then(function(t){return F(Y(t,function(t){function n(){return t.inspect()}return t=l(t),t.then(n,n)}))})},l.fail=l["catch"]=function(t,n){return l(t).then(void 0,n)},v.prototype.fail=v.prototype["catch"]=function(t){return this.then(void 0,t)},l.progress=U,v.prototype.progress=function(t){return this.then(void 0,void 0,t)},l.fin=l["finally"]=function(t,n){return l(t)["finally"](n)},v.prototype.fin=v.prototype["finally"]=function(t){return t=l(t),this.then(function(n){return t.fcall().then(function(){return n})},function(n){return t.fcall().then(function(){throw n})})},l.done=function(t,n,e,r){return l(t).done(n,e,r)},v.prototype.done=function(n,e,r){var i=function(t){l.nextTick(function(){if(o(t,u),!l.onerror)throw t;l.onerror(t)})},u=n||e||r?this.then(n,e,r):this;"object"==typeof t&&t&&t.domain&&(i=t.domain.bind(i)),u.then(void 0,i)},l.timeout=function(t,n,e){return l(t).timeout(n,e)},v.prototype.timeout=function(t,n){var e=p(),r=setTimeout(function(){n&&"string"!=typeof n||(n=new Error(n||"Timed out after "+t+" ms"),n.code="ETIMEDOUT"),e.reject(n)},t);return this.then(function(t){clearTimeout(r),e.resolve(t)},function(t){clearTimeout(r),e.reject(t)},e.notify),e.promise},l.delay=function(t,n){return void 0===n&&(n=t,t=void 0),l(t).delay(n)},v.prototype.delay=function(t){return this.then(function(n){var e=p();return setTimeout(function(){e.resolve(n)},t),e.promise})},l.nfapply=function(t,n){return l(t).nfapply(n)},v.prototype.nfapply=function(t){var n=p(),e=Z(t);return e.push(n.makeNodeResolver()),this.fapply(e).fail(n.reject),n.promise},l.nfcall=function(t){var n=Z(arguments,1);return l(t).nfapply(n)},v.prototype.nfcall=function(){var t=Z(arguments),n=p();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},l.nfbind=l.denodeify=function(t){var n=Z(arguments,1);return function(){var e=n.concat(Z(arguments)),r=p();return e.push(r.makeNodeResolver()),l(t).fapply(e).fail(r.reject),r.promise}},v.prototype.nfbind=v.prototype.denodeify=function(){var t=Z(arguments);return t.unshift(this),l.denodeify.apply(void 0,t)},l.nbind=function(t,n){var e=Z(arguments,2);return function(){function r(){return t.apply(n,arguments)}var o=e.concat(Z(arguments)),i=p();return o.push(i.makeNodeResolver()),l(r).fapply(o).fail(i.reject),i.promise}},v.prototype.nbind=function(){var t=Z(arguments,0);return t.unshift(this),l.nbind.apply(void 0,t)},l.nmapply=l.npost=function(t,n,e){return l(t).npost(n,e)},v.prototype.nmapply=v.prototype.npost=function(t,n){var e=Z(n||[]),r=p();return e.push(r.makeNodeResolver()),this.dispatch("post",[t,e]).fail(r.reject),r.promise},l.nsend=l.nmcall=l.ninvoke=function(t,n){var e=Z(arguments,2),r=p();return e.push(r.makeNodeResolver()),l(t).dispatch("post",[n,e]).fail(r.reject),r.promise},v.prototype.nsend=v.prototype.nmcall=v.prototype.ninvoke=function(t){var n=Z(arguments,1),e=p();return n.push(e.makeNodeResolver()),this.dispatch("post",[t,n]).fail(e.reject),e.promise},l.nodeify=P,v.prototype.nodeify=function(t){return t?void this.then(function(n){l.nextTick(function(){t(null,n)})},function(n){l.nextTick(function(){t(n)})}):this},l.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ct=c();return l})}).call(this,t("_process"))},{_process:9}],13:[function(t,n,e){(function(){function t(t){function n(n,e,r,o,i,u){for(;i>=0&&u>i;i+=t){var s=o?o[i]:i;r=e(r,n[s],s,n)}return r}return function(e,r,o,i){r=_(r,i,4);var u=!D(e)&&b.keys(e),s=(u||e).length,a=t>0?0:s-1;
return arguments.length<3&&(o=e[u?u[a]:a],a+=t),n(e,r,o,u,a,s)}}function r(t){return function(n,e,r){e=j(e,r);for(var o=A(n),i=t>0?0:o-1;i>=0&&o>i;i+=t)if(e(n[i],i,n))return i;return-1}}function o(t,n,e){return function(r,o,i){var u=0,s=A(r);if("number"==typeof i)t>0?u=i>=0?i:Math.max(i+s,u):s=i>=0?Math.min(i+1,s):i+s+1;else if(e&&i&&s)return i=e(r,o),r[i]===o?i:-1;if(o!==o)return i=n(p.call(r,u,s),b.isNaN),i>=0?i+u:-1;for(i=t>0?u:s-1;i>=0&&s>i;i+=t)if(r[i]===o)return i;return-1}}function i(t,n){var e=C.length,r=t.constructor,o=b.isFunction(r)&&r.prototype||c,i="constructor";for(b.has(t,i)&&!b.contains(n,i)&&n.push(i);e--;)i=C[e],i in t&&t[i]!==o[i]&&!b.contains(n,i)&&n.push(i)}var u=this,s=u._,a=Array.prototype,c=Object.prototype,f=Function.prototype,l=a.push,p=a.slice,h=c.toString,d=c.hasOwnProperty,v=Array.isArray,y=Object.keys,m=f.bind,g=Object.create,w=function(){},b=function(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)};"undefined"!=typeof e?("undefined"!=typeof n&&n.exports&&(e=n.exports=b),e._=b):u._=b,b.VERSION="1.8.3";var _=function(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)};case 4:return function(e,r,o,i){return t.call(n,e,r,o,i)}}return function(){return t.apply(n,arguments)}},j=function(t,n,e){return null==t?b.identity:b.isFunction(t)?_(t,n,e):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,n){return j(t,n,1/0)};var x=function(t,n){return function(e){var r=arguments.length;if(2>r||null==e)return e;for(var o=1;r>o;o++)for(var i=arguments[o],u=t(i),s=u.length,a=0;s>a;a++){var c=u[a];n&&void 0!==e[c]||(e[c]=i[c])}return e}},k=function(t){if(!b.isObject(t))return{};if(g)return g(t);w.prototype=t;var n=new w;return w.prototype=null,n},O=function(t){return function(n){return null==n?void 0:n[t]}},E=Math.pow(2,53)-1,A=O("length"),D=function(t){var n=A(t);return"number"==typeof n&&n>=0&&E>=n};b.each=b.forEach=function(t,n,e){n=_(n,e);var r,o;if(D(t))for(r=0,o=t.length;o>r;r++)n(t[r],r,t);else{var i=b.keys(t);for(r=0,o=i.length;o>r;r++)n(t[i[r]],i[r],t)}return t},b.map=b.collect=function(t,n,e){n=j(n,e);for(var r=!D(t)&&b.keys(t),o=(r||t).length,i=Array(o),u=0;o>u;u++){var s=r?r[u]:u;i[u]=n(t[s],s,t)}return i},b.reduce=b.foldl=b.inject=t(1),b.reduceRight=b.foldr=t(-1),b.find=b.detect=function(t,n,e){var r;return r=D(t)?b.findIndex(t,n,e):b.findKey(t,n,e),void 0!==r&&-1!==r?t[r]:void 0},b.filter=b.select=function(t,n,e){var r=[];return n=j(n,e),b.each(t,function(t,e,o){n(t,e,o)&&r.push(t)}),r},b.reject=function(t,n,e){return b.filter(t,b.negate(j(n)),e)},b.every=b.all=function(t,n,e){n=j(n,e);for(var r=!D(t)&&b.keys(t),o=(r||t).length,i=0;o>i;i++){var u=r?r[i]:i;if(!n(t[u],u,t))return!1}return!0},b.some=b.any=function(t,n,e){n=j(n,e);for(var r=!D(t)&&b.keys(t),o=(r||t).length,i=0;o>i;i++){var u=r?r[i]:i;if(n(t[u],u,t))return!0}return!1},b.contains=b.includes=b.include=function(t,n,e,r){return D(t)||(t=b.values(t)),("number"!=typeof e||r)&&(e=0),b.indexOf(t,n,e)>=0},b.invoke=function(t,n){var e=p.call(arguments,2),r=b.isFunction(n);return b.map(t,function(t){var o=r?n:t[n];return null==o?o:o.apply(t,e)})},b.pluck=function(t,n){return b.map(t,b.property(n))},b.where=function(t,n){return b.filter(t,b.matcher(n))},b.findWhere=function(t,n){return b.find(t,b.matcher(n))},b.max=function(t,n,e){var r,o,i=-(1/0),u=-(1/0);if(null==n&&null!=t){t=D(t)?t:b.values(t);for(var s=0,a=t.length;a>s;s++)r=t[s],r>i&&(i=r)}else n=j(n,e),b.each(t,function(t,e,r){o=n(t,e,r),(o>u||o===-(1/0)&&i===-(1/0))&&(i=t,u=o)});return i},b.min=function(t,n,e){var r,o,i=1/0,u=1/0;if(null==n&&null!=t){t=D(t)?t:b.values(t);for(var s=0,a=t.length;a>s;s++)r=t[s],i>r&&(i=r)}else n=j(n,e),b.each(t,function(t,e,r){o=n(t,e,r),(u>o||o===1/0&&i===1/0)&&(i=t,u=o)});return i},b.shuffle=function(t){for(var n,e=D(t)?t:b.values(t),r=e.length,o=Array(r),i=0;r>i;i++)n=b.random(0,i),n!==i&&(o[i]=o[n]),o[n]=e[i];return o},b.sample=function(t,n,e){return null==n||e?(D(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,n))},b.sortBy=function(t,n,e){return n=j(n,e),b.pluck(b.map(t,function(t,e,r){return{value:t,index:e,criteria:n(t,e,r)}}).sort(function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return t.index-n.index}),"value")};var L=function(t){return function(n,e,r){var o={};return e=j(e,r),b.each(n,function(r,i){var u=e(r,i,n);t(o,r,u)}),o}};b.groupBy=L(function(t,n,e){b.has(t,e)?t[e].push(n):t[e]=[n]}),b.indexBy=L(function(t,n,e){t[e]=n}),b.countBy=L(function(t,n,e){b.has(t,e)?t[e]++:t[e]=1}),b.toArray=function(t){return t?b.isArray(t)?p.call(t):D(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:D(t)?t.length:b.keys(t).length},b.partition=function(t,n,e){n=j(n,e);var r=[],o=[];return b.each(t,function(t,e,i){(n(t,e,i)?r:o).push(t)}),[r,o]},b.first=b.head=b.take=function(t,n,e){return null!=t?null==n||e?t[0]:b.initial(t,t.length-n):void 0},b.initial=function(t,n,e){return p.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))},b.last=function(t,n,e){return null!=t?null==n||e?t[t.length-1]:b.rest(t,Math.max(0,t.length-n)):void 0},b.rest=b.tail=b.drop=function(t,n,e){return p.call(t,null==n||e?1:n)},b.compact=function(t){return b.filter(t,b.identity)};var T=function(t,n,e,r){for(var o=[],i=0,u=r||0,s=A(t);s>u;u++){var a=t[u];if(D(a)&&(b.isArray(a)||b.isArguments(a))){n||(a=T(a,n,e));var c=0,f=a.length;for(o.length+=f;f>c;)o[i++]=a[c++]}else e||(o[i++]=a)}return o};b.flatten=function(t,n){return T(t,n,!1)},b.without=function(t){return b.difference(t,p.call(arguments,1))},b.uniq=b.unique=function(t,n,e,r){b.isBoolean(n)||(r=e,e=n,n=!1),null!=e&&(e=j(e,r));for(var o=[],i=[],u=0,s=A(t);s>u;u++){var a=t[u],c=e?e(a,u,t):a;n?(u&&i===c||o.push(a),i=c):e?b.contains(i,c)||(i.push(c),o.push(a)):b.contains(o,a)||o.push(a)}return o},b.union=function(){return b.uniq(T(arguments,!0,!0))},b.intersection=function(t){for(var n=[],e=arguments.length,r=0,o=A(t);o>r;r++){var i=t[r];if(!b.contains(n,i)){for(var u=1;e>u&&b.contains(arguments[u],i);u++);u===e&&n.push(i)}}return n},b.difference=function(t){var n=T(arguments,!0,!0,1);return b.filter(t,function(t){return!b.contains(n,t)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var n=t&&b.max(t,A).length||0,e=Array(n),r=0;n>r;r++)e[r]=b.pluck(t,r);return e},b.object=function(t,n){for(var e={},r=0,o=A(t);o>r;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(t,n,e,r){e=j(e,r,1);for(var o=e(n),i=0,u=A(t);u>i;){var s=Math.floor((i+u)/2);e(t[s])<o?i=s+1:u=s}return i},b.indexOf=o(1,b.findIndex,b.sortedIndex),b.lastIndexOf=o(-1,b.findLastIndex),b.range=function(t,n,e){null==n&&(n=t||0,t=0),e=e||1;for(var r=Math.max(Math.ceil((n-t)/e),0),o=Array(r),i=0;r>i;i++,t+=e)o[i]=t;return o};var N=function(t,n,e,r,o){if(!(r instanceof n))return t.apply(e,o);var i=k(t.prototype),u=t.apply(i,o);return b.isObject(u)?u:i};b.bind=function(t,n){if(m&&t.bind===m)return m.apply(t,p.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var e=p.call(arguments,2),r=function(){return N(t,r,n,this,e.concat(p.call(arguments)))};return r},b.partial=function(t){var n=p.call(arguments,1),e=function(){for(var r=0,o=n.length,i=Array(o),u=0;o>u;u++)i[u]=n[u]===b?arguments[r++]:n[u];for(;r<arguments.length;)i.push(arguments[r++]);return N(t,e,this,this,i)};return e},b.bindAll=function(t){var n,e,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(n=1;r>n;n++)e=arguments[n],t[e]=b.bind(t[e],t);return t},b.memoize=function(t,n){var e=function(r){var o=e.cache,i=""+(n?n.apply(this,arguments):r);return b.has(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return e.cache={},e},b.delay=function(t,n){var e=p.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},n)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,n,e){var r,o,i,u=null,s=0;e||(e={});var a=function(){s=e.leading===!1?0:b.now(),u=null,i=t.apply(r,o),u||(r=o=null)};return function(){var c=b.now();s||e.leading!==!1||(s=c);var f=n-(c-s);return r=this,o=arguments,0>=f||f>n?(u&&(clearTimeout(u),u=null),s=c,i=t.apply(r,o),u||(r=o=null)):u||e.trailing===!1||(u=setTimeout(a,f)),i}},b.debounce=function(t,n,e){var r,o,i,u,s,a=function(){var c=b.now()-u;n>c&&c>=0?r=setTimeout(a,n-c):(r=null,e||(s=t.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,u=b.now();var c=e&&!r;return r||(r=setTimeout(a,n)),c&&(s=t.apply(i,o),i=o=null),s}},b.wrap=function(t,n){return b.partial(n,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,n=t.length-1;return function(){for(var e=n,r=t[n].apply(this,arguments);e--;)r=t[e].call(this,r);return r}},b.after=function(t,n){return function(){return--t<1?n.apply(this,arguments):void 0}},b.before=function(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),1>=t&&(n=null),e}},b.once=b.partial(b.before,2);var S=!{toString:null}.propertyIsEnumerable("toString"),C=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(t){if(!b.isObject(t))return[];if(y)return y(t);var n=[];for(var e in t)b.has(t,e)&&n.push(e);return S&&i(t,n),n},b.allKeys=function(t){if(!b.isObject(t))return[];var n=[];for(var e in t)n.push(e);return S&&i(t,n),n},b.values=function(t){for(var n=b.keys(t),e=n.length,r=Array(e),o=0;e>o;o++)r[o]=t[n[o]];return r},b.mapObject=function(t,n,e){n=j(n,e);for(var r,o=b.keys(t),i=o.length,u={},s=0;i>s;s++)r=o[s],u[r]=n(t[r],r,t);return u},b.pairs=function(t){for(var n=b.keys(t),e=n.length,r=Array(e),o=0;e>o;o++)r[o]=[n[o],t[n[o]]];return r},b.invert=function(t){for(var n={},e=b.keys(t),r=0,o=e.length;o>r;r++)n[t[e[r]]]=e[r];return n},b.functions=b.methods=function(t){var n=[];for(var e in t)b.isFunction(t[e])&&n.push(e);return n.sort()},b.extend=x(b.allKeys),b.extendOwn=b.assign=x(b.keys),b.findKey=function(t,n,e){n=j(n,e);for(var r,o=b.keys(t),i=0,u=o.length;u>i;i++)if(r=o[i],n(t[r],r,t))return r},b.pick=function(t,n,e){var r,o,i={},u=t;if(null==u)return i;b.isFunction(n)?(o=b.allKeys(u),r=_(n,e)):(o=T(arguments,!1,!1,1),r=function(t,n,e){return n in e},u=Object(u));for(var s=0,a=o.length;a>s;s++){var c=o[s],f=u[c];r(f,c,u)&&(i[c]=f)}return i},b.omit=function(t,n,e){if(b.isFunction(n))n=b.negate(n);else{var r=b.map(T(arguments,!1,!1,1),String);n=function(t,n){return!b.contains(r,n)}}return b.pick(t,n,e)},b.defaults=x(b.allKeys,!0),b.create=function(t,n){var e=k(t);return n&&b.extendOwn(e,n),e},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,n){return n(t),t},b.isMatch=function(t,n){var e=b.keys(n),r=e.length;if(null==t)return!r;for(var o=Object(t),i=0;r>i;i++){var u=e[i];if(n[u]!==o[u]||!(u in o))return!1}return!0};var R=function(t,n,e,r){if(t===n)return 0!==t||1/t===1/n;if(null==t||null==n)return t===n;t instanceof b&&(t=t._wrapped),n instanceof b&&(n=n._wrapped);var o=h.call(t);if(o!==h.call(n))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!==+t?+n!==+n:0===+t?1/+t===1/n:+t===+n;case"[object Date]":case"[object Boolean]":return+t===+n}var i="[object Array]"===o;if(!i){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,s=n.constructor;if(u!==s&&!(b.isFunction(u)&&u instanceof u&&b.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in n)return!1}e=e||[],r=r||[];for(var a=e.length;a--;)if(e[a]===t)return r[a]===n;if(e.push(t),r.push(n),i){if(a=t.length,a!==n.length)return!1;for(;a--;)if(!R(t[a],n[a],e,r))return!1}else{var c,f=b.keys(t);if(a=f.length,b.keys(n).length!==a)return!1;for(;a--;)if(c=f[a],!b.has(n,c)||!R(t[c],n[c],e,r))return!1}return e.pop(),r.pop(),!0};b.isEqual=function(t,n){return R(t,n)},b.isEmpty=function(t){return null==t?!0:D(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=v||function(t){return"[object Array]"===h.call(t)},b.isObject=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){b["is"+t]=function(n){return h.call(n)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,n){return null!=t&&d.call(t,n)},b.noConflict=function(){return u._=s,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=O,b.propertyOf=function(t){return null==t?function(){}:function(n){return t[n]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(n){return b.isMatch(n,t)}},b.times=function(t,n,e){var r=Array(Math.max(0,t));n=_(n,e,1);for(var o=0;t>o;o++)r[o]=n(o);return r},b.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=b.invert(I),M=function(t){var n=function(n){return t[n]},e="(?:"+b.keys(t).join("|")+")",r=RegExp(e),o=RegExp(e,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,n):t}};b.escape=M(I),b.unescape=M(F),b.result=function(t,n,e){var r=null==t?void 0:t[n];return void 0===r&&(r=e),b.isFunction(r)?r.call(t):r};var z=0;b.uniqueId=function(t){var n=++z+"";return t?t+n:n},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\u2028|\u2029/g,q=function(t){return"\\"+U[t]};b.template=function(t,n,e){!n&&e&&(n=e),n=b.defaults({},n,b.templateSettings);var r=RegExp([(n.escape||B).source,(n.interpolate||B).source,(n.evaluate||B).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,function(n,e,r,u,s){return i+=t.slice(o,s).replace(P,q),o=s+n.length,e?i+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":u&&(i+="';\n"+u+"\n__p+='"),n}),i+="';\n",n.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var u=new Function(n.variable||"obj","_",i)}catch(s){throw s.source=i,s}var a=function(t){return u.call(this,t,b)},c=n.variable||"obj";return a.source="function("+c+"){\n"+i+"}",a},b.chain=function(t){var n=b(t);return n._chain=!0,n};var V=function(t,n){return t._chain?b(n).chain():n};b.mixin=function(t){b.each(b.functions(t),function(n){var e=b[n]=t[n];b.prototype[n]=function(){var t=[this._wrapped];return l.apply(t,arguments),V(this,e.apply(b,t))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=a[t];b.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],V(this,e)}}),b.each(["concat","join","slice"],function(t){var n=a[t];b.prototype[t]=function(){return V(this,n.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhdmEubWluLmpzIl0sIm5hbWVzIjpbImUiLCJ0IiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsImkiLCJmIiwiRXJyb3IiLCJjb2RlIiwibCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwxLCJtb2R1bGUiLCJ0aGlzIiwibGF2YSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWRyYXdDaGFydHMiLCJydW4iLCJhcHBseSIsIndpbmRvdyIsIi4vbGF2YS5qcyIsMiwiRXZlbnRFbWl0dGVyIiwidXRpbCIsIl9jaGFydHMiLCJfZGFzaGJvYXJkcyIsIl9yZWFkeUNhbGxiYWNrIiwiZGF0YVZlciIsImVycm9ycyIsImluaGVyaXRzIiwicHJvdG90eXBlIiwiQ2hhcnQiLCJEYXNoYm9hcmQiLCJEYXRhVGFibGUiLCJkYXRhIiwiZ29vZ2xlIiwidmlzdWFsaXphdGlvbiIsInJlYWR5IiwiY2FsbGJhY2siLCJJTlZBTElEX0NBTExCQUNLIiwib24iLCJldmVudCIsImNoYXJ0IiwibG9hZERhdGEiLCJsYWJlbCIsImpzb24iLCJnZXRDaGFydCIsInNldERhdGEiLCJmb3JtYXRzIiwiYXBwbHlGb3JtYXRzIiwicmVkcmF3Iiwic3RvcmVDaGFydCIsInB1c2giLCJzdG9yZURhc2hib2FyZCIsImRhc2giLCJfIiwiSU5WQUxJRF9MQUJFTCIsImZpbmQiLCJtYXRjaGVzIiwiQ0hBUlRfTk9UX0ZPVU5EIiwiZ2V0Q2hhcnRzIiwiZGVib3VuY2UiLCJlYWNoIiwiYmluZCIsImdldERhc2hib2FyZCIsIkRBU0hCT0FSRF9OT1RfRk9VTkQiLCJsb2FkSnNhcGkiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiYXN5bmMiLCJzcmMiLCJvbmxvYWQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJ0ZXN0IiwicmVhZHlTdGF0ZSIsImVtaXQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJyZW5kZXJlZENvdW50IiwiLi9sYXZhL0NoYXJ0LmpzIiwiLi9sYXZhL0Rhc2hib2FyZC5qcyIsIi4vbGF2YS9FcnJvcnMuanMiLCJldmVudHMiLCJxIiwidW5kZXJzY29yZSIsMywiZWxlbWVudCIsIm9wdGlvbnMiLCJyZW5kZXIiLCJfZXJyb3JzIiwiZGVmZXJyZWQiLCJkZWZlciIsInNldEVsZW1lbnQiLCJlbGVtSWQiLCJnZXRFbGVtZW50QnlJZCIsIkVMRU1FTlRfSURfTk9UX0ZPVU5EIiwiZHJhdyIsImZvcm1hdEFyciIsImZvcm1hdEpzb24iLCJmb3JtYXR0ZXIiLCJjb25maWciLCJmb3JtYXQiLCJpbmRleCIsIi4vZXJyb3JzLmpzIiw0LCJiaW5kaW5ncyIsImRhc2hib2FyZCIsIl9kYXRhIiw1LDYsImFyZ3VtZW50cyIsImR1cCIsNywiX2V2ZW50cyIsIl9tYXhMaXN0ZW5lcnMiLCJ1bmRlZmluZWQiLCJpc0Z1bmN0aW9uIiwiYXJnIiwiaXNOdW1iZXIiLCJpc09iamVjdCIsImlzVW5kZWZpbmVkIiwiZGVmYXVsdE1heExpc3RlbmVycyIsInNldE1heExpc3RlbmVycyIsImlzTmFOIiwiVHlwZUVycm9yIiwiZXIiLCJoYW5kbGVyIiwibGVuIiwiYXJncyIsImxpc3RlbmVycyIsImVycm9yIiwiQXJyYXkiLCJzbGljZSIsImFkZExpc3RlbmVyIiwibGlzdGVuZXIiLCJtIiwibmV3TGlzdGVuZXIiLCJ3YXJuZWQiLCJjb25zb2xlIiwidHJhY2UiLCJvbmNlIiwiZyIsInJlbW92ZUxpc3RlbmVyIiwiZmlyZWQiLCJsaXN0IiwicG9zaXRpb24iLCJzcGxpY2UiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJrZXkiLCJyZXQiLCJsaXN0ZW5lckNvdW50IiwiZW1pdHRlciIsOCwiT2JqZWN0IiwiY3JlYXRlIiwiY3RvciIsInN1cGVyQ3RvciIsInN1cGVyXyIsImNvbnN0cnVjdG9yIiwidmFsdWUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJUZW1wQ3RvciIsOSwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImNvbmNhdCIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJJdGVtIiwiZnVuIiwiYXJyYXkiLCJub29wIiwicHJvY2VzcyIsIm5leHRUaWNrIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9mZiIsImJpbmRpbmciLCJuYW1lIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsMTAsImNvcHkiLCJmaWxsIiwicmVhZFVJbnQ4IiwxMSwiZ2xvYmFsIiwiaW5zcGVjdCIsIm9iaiIsIm9wdHMiLCJjdHgiLCJzZWVuIiwic3R5bGl6ZSIsInN0eWxpemVOb0NvbG9yIiwiZGVwdGgiLCJjb2xvcnMiLCJpc0Jvb2xlYW4iLCJzaG93SGlkZGVuIiwiX2V4dGVuZCIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHIiLCJzdHlsZVR5cGUiLCJzdHlsZSIsInN0eWxlcyIsImFycmF5VG9IYXNoIiwiaGFzaCIsImZvckVhY2giLCJ2YWwiLCJpZHgiLCJyZWN1cnNlVGltZXMiLCJpc1N0cmluZyIsInByaW1pdGl2ZSIsImZvcm1hdFByaW1pdGl2ZSIsImtleXMiLCJ2aXNpYmxlS2V5cyIsImdldE93blByb3BlcnR5TmFtZXMiLCJpc0Vycm9yIiwiaW5kZXhPZiIsImZvcm1hdEVycm9yIiwiaXNSZWdFeHAiLCJSZWdFeHAiLCJ0b1N0cmluZyIsImlzRGF0ZSIsIkRhdGUiLCJiYXNlIiwiYnJhY2VzIiwiaXNBcnJheSIsInRvVVRDU3RyaW5nIiwib3V0cHV0IiwiZm9ybWF0QXJyYXkiLCJtYXAiLCJmb3JtYXRQcm9wZXJ0eSIsInBvcCIsInJlZHVjZVRvU2luZ2xlU3RyaW5nIiwic2ltcGxlIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlcGxhY2UiLCJpc051bGwiLCJoYXNPd25Qcm9wZXJ0eSIsIlN0cmluZyIsIm1hdGNoIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldCIsInNldCIsInNwbGl0IiwibGluZSIsImpvaW4iLCJzdWJzdHIiLCJudW1MaW5lc0VzdCIsInJlZHVjZSIsInByZXYiLCJjdXIiLCJhciIsImlzTnVsbE9yVW5kZWZpbmVkIiwiaXNTeW1ib2wiLCJyZSIsIm9iamVjdFRvU3RyaW5nIiwiZCIsImlzUHJpbWl0aXZlIiwicGFkIiwidGltZXN0YW1wIiwidGltZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXREYXRlIiwibW9udGhzIiwiZ2V0TW9udGgiLCJwcm9wIiwiZm9ybWF0UmVnRXhwIiwib2JqZWN0cyIsIngiLCJOdW1iZXIiLCJkZXByZWNhdGUiLCJmbiIsIm1zZyIsImRlcHJlY2F0ZWQiLCJ0aHJvd0RlcHJlY2F0aW9uIiwidHJhY2VEZXByZWNhdGlvbiIsIm5vRGVwcmVjYXRpb24iLCJkZWJ1Z0Vudmlyb24iLCJkZWJ1Z3MiLCJkZWJ1Z2xvZyIsIk5PREVfREVCVUciLCJ0b1VwcGVyQ2FzZSIsInBpZCIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJpbnZlcnNlIiwid2hpdGUiLCJncmV5IiwiYmxhY2siLCJibHVlIiwiY3lhbiIsImdyZWVuIiwibWFnZW50YSIsInJlZCIsInllbGxvdyIsInNwZWNpYWwiLCJudW1iZXIiLCJib29sZWFuIiwibnVsbCIsInN0cmluZyIsImRhdGUiLCJyZWdleHAiLCJpc0J1ZmZlciIsImxvZyIsIm9yaWdpbiIsImFkZCIsInNlbGYiLCIuL3N1cHBvcnQvaXNCdWZmZXIiLCJfcHJvY2VzcyIsMTIsImRlZmluaXRpb24iLCJib290c3RyYXAiLCJkZWZpbmUiLCJhbWQiLCJzZXMiLCJvayIsIm1ha2VRIiwicHJldmlvdXNRIiwiUSIsIm5vQ29uZmxpY3QiLCJ1bmN1cnJ5VGhpcyIsImlzU3RvcEl0ZXJhdGlvbiIsImV4Y2VwdGlvbiIsIm9iamVjdF90b1N0cmluZyIsIlFSZXR1cm5WYWx1ZSIsIm1ha2VTdGFja1RyYWNlTG9uZyIsInByb21pc2UiLCJoYXNTdGFja3MiLCJzdGFjayIsIlNUQUNLX0pVTVBfU0VQQVJBVE9SIiwic3RhY2tzIiwicCIsInNvdXJjZSIsInVuc2hpZnQiLCJjb25jYXRlZFN0YWNrcyIsImZpbHRlclN0YWNrU3RyaW5nIiwic3RhY2tTdHJpbmciLCJsaW5lcyIsImRlc2lyZWRMaW5lcyIsImlzSW50ZXJuYWxGcmFtZSIsImlzTm9kZUZyYW1lIiwic3RhY2tMaW5lIiwiZ2V0RmlsZU5hbWVBbmRMaW5lTnVtYmVyIiwiYXR0ZW1wdDEiLCJleGVjIiwiYXR0ZW1wdDIiLCJhdHRlbXB0MyIsImZpbGVOYW1lQW5kTGluZU51bWJlciIsImZpbGVOYW1lIiwibGluZU51bWJlciIsInFGaWxlTmFtZSIsInFTdGFydGluZ0xpbmUiLCJxRW5kaW5nTGluZSIsImNhcHR1cmVMaW5lIiwiZmlyc3RMaW5lIiwiYWx0ZXJuYXRpdmUiLCJ3YXJuIiwiUHJvbWlzZSIsImlzUHJvbWlzZUFsaWtlIiwiY29lcmNlIiwiZnVsZmlsbCIsImJlY29tZSIsIm5ld1Byb21pc2UiLCJyZXNvbHZlZFByb21pc2UiLCJhcnJheV9yZWR1Y2UiLCJtZXNzYWdlcyIsIm1lc3NhZ2UiLCJwcm9taXNlRGlzcGF0Y2giLCJwcm9ncmVzc0xpc3RlbmVycyIsIm9iamVjdF9jcmVhdGUiLCJyZXNvbHZlIiwib3AiLCJvcGVyYW5kcyIsImFycmF5X3NsaWNlIiwidmFsdWVPZiIsIm5lYXJlclZhbHVlIiwibmVhcmVyIiwiaXNQcm9taXNlIiwic3RhdGUiLCJsb25nU3RhY2tTdXBwb3J0Iiwic3Vic3RyaW5nIiwicmVqZWN0IiwicmVhc29uIiwibm90aWZ5IiwicHJvZ3Jlc3MiLCJwcm9ncmVzc0xpc3RlbmVyIiwicmVzb2x2ZXIiLCJyYWNlIiwiYW5zd2VyUHMiLCJ0aGVuIiwiZGVzY3JpcHRvciIsImZhbGxiYWNrIiwicmVzdWx0IiwiaW5zcGVjdGVkIiwid2hlbiIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwicHJvZ3Jlc3NlZCIsIm9iamVjdCIsImlzUGVuZGluZyIsImlzRnVsZmlsbGVkIiwiaXNSZWplY3RlZCIsInJlc2V0VW5oYW5kbGVkUmVqZWN0aW9ucyIsInVuaGFuZGxlZFJlYXNvbnMiLCJ1bmhhbmRsZWRSZWplY3Rpb25zIiwidHJhY2tVbmhhbmRsZWRSZWplY3Rpb25zIiwidHJhY2tSZWplY3Rpb24iLCJydW5BZnRlciIsImFycmF5X2luZGV4T2YiLCJyZXBvcnRlZFVuaGFuZGxlZFJlamVjdGlvbnMiLCJ1bnRyYWNrUmVqZWN0aW9uIiwiYXQiLCJhdFJlcG9ydCIsInJlamVjdGlvbiIsInJocyIsImRlbGV0ZSIsInBvc3QiLCJ0aGlzcCIsIm9iamVjdF9rZXlzIiwibWFzdGVyIiwiaXNEZWYiLCJkaXNwYXRjaCIsInNwcmVhZCIsIm1ha2VHZW5lcmF0b3IiLCJjb250aW51ZXIiLCJ2ZXJiIiwiU3RvcEl0ZXJhdGlvbiIsImdlbmVyYXRvciIsImRvbmUiLCJlcnJiYWNrIiwic3Bhd24iLCJfcmV0dXJuIiwicHJvbWlzZWQiLCJhbGwiLCJwcm9taXNlcyIsInBlbmRpbmdDb3VudCIsInNuYXBzaG90IiwiYW55IiwiY3VycmVudCIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsIm9uUHJvZ3Jlc3MiLCJhbGxSZXNvbHZlZCIsImFycmF5X21hcCIsImFsbFNldHRsZWQiLCJub2RlaWZ5Iiwibm9kZWJhY2siLCJmbHVzaCIsInRhc2siLCJkb21haW4iLCJuZXh0IiwiZW50ZXIiLCJydW5TaW5nbGUiLCJsYXRlclF1ZXVlIiwiZmx1c2hpbmciLCJpc05vZGVKUyIsImV4aXQiLCJ0YWlsIiwicmVxdWVzdFRpY2siLCJzZXRJbW1lZGlhdGUiLCJNZXNzYWdlQ2hhbm5lbCIsImNoYW5uZWwiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInJlcXVlc3RQb3J0VGljayIsInBvcnQyIiwicG9zdE1lc3NhZ2UiLCJGdW5jdGlvbiIsImJhc2lzIiwiY29sbGVjdCIsIlR5cGUiLCJvYmplY3RfaGFzT3duUHJvcGVydHkiLCJSZXR1cm5WYWx1ZSIsIlFfREVCVUciLCJtYWtlTm9kZVJlc29sdmVyIiwicGFzc0J5Q29weSIsInkiLCJ0aGF0IiwibWFrZVByb21pc2UiLCJfZnVsZmlsbGVkIiwiX3JlamVjdGVkIiwibmV3RXhjZXB0aW9uIiwiX3Byb2dyZXNzZWQiLCJuZXdWYWx1ZSIsInRocmV3Iiwib25lcnJvciIsInRhcCIsImZjYWxsIiwidGhlblJlc29sdmUiLCJ0aGVuUmVqZWN0IiwiZ2V0VW5oYW5kbGVkUmVhc29ucyIsInN0b3BVbmhhbmRsZWRSZWplY3Rpb25UcmFja2luZyIsImRlbCIsIm1hcHBseSIsInNlbmQiLCJtY2FsbCIsImludm9rZSIsImZhcHBseSIsImZiaW5kIiwicmVnYXJkbGVzcyIsImZhaWwiLCJmaW4iLCJvblVuaGFuZGxlZEVycm9yIiwibXMiLCJ0aW1lb3V0SWQiLCJkZWxheSIsIm5mYXBwbHkiLCJub2RlQXJncyIsIm5mY2FsbCIsIm5mYmluZCIsImRlbm9kZWlmeSIsImJhc2VBcmdzIiwibmJpbmQiLCJib3VuZCIsIm5tYXBwbHkiLCJucG9zdCIsIm5zZW5kIiwibm1jYWxsIiwibmludm9rZSIsMTMsImNyZWF0ZVJlZHVjZSIsIml0ZXJhdG9yIiwiaXRlcmF0ZWUiLCJtZW1vIiwiY3VycmVudEtleSIsImNvbnRleHQiLCJvcHRpbWl6ZUNiIiwiaXNBcnJheUxpa2UiLCJjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlciIsInByZWRpY2F0ZSIsImNiIiwiZ2V0TGVuZ3RoIiwiY3JlYXRlSW5kZXhGaW5kZXIiLCJwcmVkaWNhdGVGaW5kIiwic29ydGVkSW5kZXgiLCJpdGVtIiwiTWF0aCIsIm1heCIsIm1pbiIsImNvbGxlY3ROb25FbnVtUHJvcHMiLCJub25FbnVtSWR4Iiwibm9uRW51bWVyYWJsZVByb3BzIiwicHJvdG8iLCJPYmpQcm90byIsImhhcyIsImNvbnRhaW5zIiwicm9vdCIsInByZXZpb3VzVW5kZXJzY29yZSIsIkFycmF5UHJvdG8iLCJGdW5jUHJvdG8iLCJuYXRpdmVJc0FycmF5IiwibmF0aXZlS2V5cyIsIm5hdGl2ZUJpbmQiLCJuYXRpdmVDcmVhdGUiLCJDdG9yIiwiX3dyYXBwZWQiLCJWRVJTSU9OIiwiZnVuYyIsImFyZ0NvdW50Iiwib3RoZXIiLCJjb2xsZWN0aW9uIiwiYWNjdW11bGF0b3IiLCJpZGVudGl0eSIsIm1hdGNoZXIiLCJwcm9wZXJ0eSIsIkluZmluaXR5IiwiY3JlYXRlQXNzaWduZXIiLCJrZXlzRnVuYyIsInVuZGVmaW5lZE9ubHkiLCJiYXNlQ3JlYXRlIiwiTUFYX0FSUkFZX0lOREVYIiwicG93IiwicmVzdWx0cyIsImZvbGRsIiwiaW5qZWN0IiwicmVkdWNlUmlnaHQiLCJmb2xkciIsImRldGVjdCIsImZpbmRJbmRleCIsImZpbmRLZXkiLCJmaWx0ZXIiLCJzZWxlY3QiLCJuZWdhdGUiLCJldmVyeSIsInNvbWUiLCJpbmNsdWRlcyIsImluY2x1ZGUiLCJmcm9tSW5kZXgiLCJndWFyZCIsInZhbHVlcyIsIm1ldGhvZCIsImlzRnVuYyIsInBsdWNrIiwid2hlcmUiLCJhdHRycyIsImZpbmRXaGVyZSIsImNvbXB1dGVkIiwibGFzdENvbXB1dGVkIiwic2h1ZmZsZSIsInJhbmQiLCJzaHVmZmxlZCIsInJhbmRvbSIsInNhbXBsZSIsInNvcnRCeSIsImNyaXRlcmlhIiwic29ydCIsImxlZnQiLCJyaWdodCIsImIiLCJncm91cCIsImJlaGF2aW9yIiwiZ3JvdXBCeSIsImluZGV4QnkiLCJjb3VudEJ5IiwidG9BcnJheSIsInNpemUiLCJwYXJ0aXRpb24iLCJwYXNzIiwiZmlyc3QiLCJ0YWtlIiwiaW5pdGlhbCIsImxhc3QiLCJyZXN0IiwiZHJvcCIsImNvbXBhY3QiLCJmbGF0dGVuIiwiaW5wdXQiLCJzaGFsbG93Iiwic3RyaWN0Iiwic3RhcnRJbmRleCIsImlzQXJndW1lbnRzIiwiaiIsIndpdGhvdXQiLCJkaWZmZXJlbmNlIiwidW5pcSIsInVuaXF1ZSIsImlzU29ydGVkIiwidW5pb24iLCJpbnRlcnNlY3Rpb24iLCJhcmdzTGVuZ3RoIiwiemlwIiwidW56aXAiLCJmaW5kTGFzdEluZGV4IiwibG93IiwiaGlnaCIsIm1pZCIsImZsb29yIiwibGFzdEluZGV4T2YiLCJyYW5nZSIsInN0YXJ0Iiwic3RvcCIsInN0ZXAiLCJjZWlsIiwiZXhlY3V0ZUJvdW5kIiwic291cmNlRnVuYyIsImJvdW5kRnVuYyIsImNhbGxpbmdDb250ZXh0IiwicGFydGlhbCIsImJvdW5kQXJncyIsImJpbmRBbGwiLCJtZW1vaXplIiwiaGFzaGVyIiwiY2FjaGUiLCJhZGRyZXNzIiwid2FpdCIsInRocm90dGxlIiwicHJldmlvdXMiLCJsYXRlciIsImxlYWRpbmciLCJub3ciLCJyZW1haW5pbmciLCJ0cmFpbGluZyIsImltbWVkaWF0ZSIsImNhbGxOb3ciLCJ3cmFwIiwid3JhcHBlciIsImNvbXBvc2UiLCJhZnRlciIsInRpbWVzIiwiYmVmb3JlIiwiaGFzRW51bUJ1ZyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiYWxsS2V5cyIsIm1hcE9iamVjdCIsInBhaXJzIiwiaW52ZXJ0IiwiZnVuY3Rpb25zIiwibWV0aG9kcyIsIm5hbWVzIiwiZXh0ZW5kIiwiZXh0ZW5kT3duIiwiYXNzaWduIiwicGljayIsIm9pdGVyYXRlZSIsIm9taXQiLCJkZWZhdWx0cyIsInByb3BzIiwiY2xvbmUiLCJpbnRlcmNlcHRvciIsImlzTWF0Y2giLCJlcSIsImFTdGFjayIsImJTdGFjayIsImNsYXNzTmFtZSIsImFyZUFycmF5cyIsImFDdG9yIiwiYkN0b3IiLCJpc0VxdWFsIiwiaXNFbXB0eSIsImlzRWxlbWVudCIsIm5vZGVUeXBlIiwiSW50OEFycmF5IiwiaXNGaW5pdGUiLCJwYXJzZUZsb2F0IiwiY29uc3RhbnQiLCJwcm9wZXJ0eU9mIiwiYWNjdW0iLCJnZXRUaW1lIiwiZXNjYXBlTWFwIiwiJiIsIjwiLCI+IiwiXCIiLCInIiwiYCIsInVuZXNjYXBlTWFwIiwiY3JlYXRlRXNjYXBlciIsImVzY2FwZXIiLCJ0ZXN0UmVnZXhwIiwicmVwbGFjZVJlZ2V4cCIsImVzY2FwZSIsInVuZXNjYXBlIiwiaWRDb3VudGVyIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJpZCIsInRlbXBsYXRlU2V0dGluZ3MiLCJldmFsdWF0ZSIsImludGVycG9sYXRlIiwibm9NYXRjaCIsImVzY2FwZXMiLCJcXCIsIlxyIiwiXG4iLCLigKgiLCLigKkiLCJlc2NhcGVDaGFyIiwidGVtcGxhdGUiLCJ0ZXh0Iiwic2V0dGluZ3MiLCJvbGRTZXR0aW5ncyIsIm9mZnNldCIsInZhcmlhYmxlIiwiYXJndW1lbnQiLCJjaGFpbiIsImluc3RhbmNlIiwiX2NoYWluIiwibWl4aW4iLCJ0b0pTT04iXSwibWFwcGluZ3MiOiJDQUFBLFFBQVVBLEdBQUVDLEVBQUVDLEVBQUVDLEdBQUcsUUFBU0MsR0FBRUMsRUFBRUMsR0FBRyxJQUFJSixFQUFFRyxHQUFHLENBQUMsSUFBSUosRUFBRUksR0FBRyxDQUFDLEdBQUlFLEdBQWtCLGtCQUFUQyxVQUFxQkEsT0FBUSxLQUFJRixHQUFHQyxFQUFFLE1BQU9BLEdBQUVGLEdBQUUsRUFBSSxJQUFHSSxFQUFFLE1BQU9BLEdBQUVKLEdBQUUsRUFBSSxJQUFJSyxHQUFFLEdBQUlDLE9BQU0sdUJBQXVCTixFQUFFLElBQUssTUFBTUssR0FBRUUsS0FBSyxtQkFBbUJGLEVBQUUsR0FBSUcsR0FBRVgsRUFBRUcsSUFBSVMsV0FBWWIsR0FBRUksR0FBRyxHQUFHVSxLQUFLRixFQUFFQyxRQUFRLFNBQVNkLEdBQUcsR0FBSUUsR0FBRUQsRUFBRUksR0FBRyxHQUFHTCxFQUFHLE9BQU9JLEdBQUVGLEVBQUVBLEVBQUVGLElBQUlhLEVBQUVBLEVBQUVDLFFBQVFkLEVBQUVDLEVBQUVDLEVBQUVDLEdBQUcsTUFBT0QsR0FBRUcsR0FBR1MsUUFBa0QsSUFBSSxHQUExQ0wsR0FBa0Isa0JBQVRELFVBQXFCQSxRQUFnQkgsRUFBRSxFQUFFQSxFQUFFRixFQUFFYSxPQUFPWCxJQUFJRCxFQUFFRCxFQUFFRSxHQUFJLE9BQU9ELEtBQUthLEdBQUcsU0FBU1QsRUFBUVUsRUFBT0osSUFDdmQsV0FDRSxZQUVBSyxNQUFLQyxLQUFPWixFQUFRLGFBS3BCVyxLQUFLRSxpQkFB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LE9BREE3Z0IsR0FBS2xDLE1BQU0rRyxFQUFNbEIsV0FDVitTLEVBQU9qWixLQUFNc2pCLEVBQUtqakIsTUFBTXFDLEVBQUcwRSxRQU14QzFFLEVBQUVvdEIsTUFBTXB0QixHQUdSQSxFQUFFTyxNQUFNLE1BQU8sT0FBUSxVQUFXLFFBQVMsT0FBUSxTQUFVLFdBQVksU0FBU2dJLEdBQ2hGLEdBQUlzYSxHQUFTMUMsRUFBVzVYLEVBQ3hCdkksR0FBRXpCLFVBQVVnSyxHQUFRLFdBQ2xCLEdBQUlZLEdBQU03TCxLQUFLb2pCLFFBR2YsT0FGQW1DLEdBQU9sbEIsTUFBTXdMLEVBQUszRixXQUNKLFVBQVQrRSxHQUE2QixXQUFUQSxHQUFxQyxJQUFmWSxFQUFJaE0sY0FBcUJnTSxHQUFJLEdBQ3JFb04sRUFBT2paLEtBQU02TCxNQUt4Qm5KLEVBQUVPLE1BQU0sU0FBVSxPQUFRLFNBQVUsU0FBU2dJLEdBQzNDLEdBQUlzYSxHQUFTMUMsRUFBVzVYLEVBQ3hCdkksR0FBRXpCLFVBQVVnSyxHQUFRLFdBQ2xCLE1BQU9nTyxHQUFPalosS0FBTXVsQixFQUFPbGxCLE1BQU1MLEtBQUtvakIsU0FBVWxkLGVBS3BEeEQsRUFBRXpCLFVBQVVrSSxNQUFRLFdBQ2xCLE1BQU9uSixNQUFLb2pCLFVBS2QxZ0IsRUFBRXpCLFVBQVU4VyxRQUFVclYsRUFBRXpCLFVBQVU4dUIsT0FBU3J0QixFQUFFekIsVUFBVWtJLE1BRXZEekcsRUFBRXpCLFVBQVUrTSxTQUFXLFdBQ3JCLE1BQU8sR0FBS2hPLEtBQUtvakIsVUFVRyxrQkFBWG5QLFNBQXlCQSxPQUFPQyxLQUN6Q0QsT0FBTyxnQkFBa0IsV0FDdkIsTUFBT3ZSLE9BR1g5QyxLQUFLSSxnQkFFSSIsImZpbGUiOiJsYXZhLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbigpe1xyXG4gIFwidXNlIHN0cmljdFwiXHJcblxyXG4gIHRoaXMubGF2YSA9IHJlcXVpcmUoJy4vbGF2YS5qcycpO1xyXG5cclxuICAvKipcclxuICAgKiBBZGRpbmcgdGhlIHJlc2l6ZSBldmVudCBsaXN0ZW5lciBmb3IgcmVkcmF3aW5nIGNoYXJ0cy5cclxuICAgKi9cclxuICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMubGF2YS5yZWRyYXdDaGFydHMpO1xyXG5cclxuICAvKipcclxuICAgKiBMZXQncyBnbyFcclxuICAgKi9cclxuICB0aGlzLmxhdmEucnVuKCk7XHJcblxyXG59KS5hcHBseSh3aW5kb3cpO1xyXG5cbn0se1wiLi9sYXZhLmpzXCI6Mn1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKTtcclxuY29uc3QgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcclxuXHJcbi8qKlxyXG4gKiBsYXZhLmpzXHJcbiAqXHJcbiAqIEF1dGhvcjogIEtldmluIEhpbGxcclxuICogRW1haWw6ICAga2V2aW5raGlsbEBnbWFpbC5jb21cclxuICogR2l0aHViOiAgaHR0cHM6Ly9naXRodWIuY29tL2tldmlua2hpbGwvbGF2YWNoYXJ0c1xyXG4gKiBMaWNlbnNlOiBNSVRcclxuICovXHJcbnZhciBsYXZhID0gZnVuY3Rpb24oKSB7XHJcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XHJcblxyXG4gIHRoaXMuX2NoYXJ0cyAgICAgICAgPSBbXTtcclxuICB0aGlzLl9kYXNoYm9hcmRzICAgID0gW107XHJcbiAgdGhpcy5fcmVhZHlDYWxsYmFjayA9IG51bGw7XHJcblxyXG4gIHRoaXMuZGF0YVZlciA9ICcwLjYnO1xyXG4gIHRoaXMuZXJyb3JzICA9IHJlcXVpcmUoJy4vbGF2YS9FcnJvcnMuanMnKTtcclxufTtcclxuXHJcbnV0aWwuaW5oZXJpdHMobGF2YSwgRXZlbnRFbWl0dGVyKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IGxhdmEoKTtcclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIExhdmFDaGFydCBvYmplY3QuXHJcbiAqL1xyXG5sYXZhLnByb3RvdHlwZS5DaGFydCA9IHJlcXVpcmUoJy4vbGF2YS9DaGFydC5qcycpXHJcblxyXG4vKipcclxuICogRGFzaGJvYXJkIG9iamVjdC5cclxuICovXHJcbmxhdmEucHJvdG90eXBlLkRhc2hib2FyZCA9IHJlcXVpcmUoJy4vbGF2YS9EYXNoYm9hcmQuanMnKTtcclxuXHJcblxyXG5sYXZhLnByb3RvdHlwZS5EYXRhVGFibGUgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gIHJldHVybiBuZXcgd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uLkRhdGFUYWJsZShkYXRhKTtcclxufTtcclxuXHJcbmxhdmEucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgdGhyb3cgdGhpcy5lcnJvcnMuSU5WQUxJRF9DQUxMQkFDSyhjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICB0aGlzLl9yZWFkeUNhbGxiYWNrID0gY2FsbGJhY2s7XHJcblxyXG4gIHRoaXMub24oJ3JlYWR5JywgdGhpcy5fcmVhZHlDYWxsYmFjayk7XHJcbn07XHJcblxyXG4vKipcclxuICogRXZlbnQgd3JhcHBlciBmb3IgY2hhcnQgZXZlbnRzLlxyXG4gKlxyXG4gKlxyXG4gKiBVc2VkIGludGVybmFsbHkgd2hlbiBldmVudHMgYXJlIGFwcGxpZWQgc28gdGhlIHVzZXIgZXZlbnQgZnVuY3Rpb24gaGFzXHJcbiAqIGFjY2VzcyB0byB0aGUgY2hhcnQgd2l0aGluIHRoZSBldmVudCBjYWxsYmFjay5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGV2ZW50XHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBjaGFydFxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKi9cclxubGF2YS5wcm90b3R5cGUuZXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIGNoYXJ0LCBjYWxsYmFjaykge1xyXG4gIHJldHVybiBjYWxsYmFjayhldmVudCwgY2hhcnQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIExvYWRzIGEgbmV3IERhdGFUYWJsZSBpbnRvIHRoZSBjaGFydCBhbmQgcmVkcmF3cy5cclxuICpcclxuICpcclxuICogVXNlZCB3aXRoIGFuIEFKQVggY2FsbCB0byBhIFBIUCBtZXRob2QgcmV0dXJuaW5nIERhdGFUYWJsZS0+dG9Kc29uKCksXHJcbiAqIGEgY2hhcnQgY2FuIGJlIGR5bmFtaWNhbGx5IHVwZGF0ZSBpbiBwYWdlLCB3aXRob3V0IHJlbG9hZHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxyXG4gKiBAcGFyYW0ge3N0cmluZ30ganNvblxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKi9cclxubGF2YS5wcm90b3R5cGUubG9hZERhdGEgPSBmdW5jdGlvbiAobGFiZWwsIGpzb24sIGNhbGxiYWNrKSB7XHJcbiAgdGhpcy5nZXRDaGFydChsYWJlbCwgZnVuY3Rpb24gKGNoYXJ0KSB7XHJcbiAgICBpZiAodHlwZW9mIGpzb24uZGF0YSAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICBjaGFydC5zZXREYXRhKGpzb24uZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjaGFydC5zZXREYXRhKGpzb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YganNvbi5mb3JtYXRzICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIGNoYXJ0LmFwcGx5Rm9ybWF0cyhqc29uLmZvcm1hdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYXJ0LnJlZHJhdygpO1xyXG5cclxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBjYWxsYmFjayhjaGFydCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vKipcclxuICogU3RvcmVzIGEgY2hhcnQgd2l0aGluIGxhdmEuanNcclxuICpcclxuICogQHBhcmFtIGNoYXJ0IENoYXJ0XHJcbiAqL1xyXG5sYXZhLnByb3RvdHlwZS5zdG9yZUNoYXJ0ID0gZnVuY3Rpb24gKGNoYXJ0KSB7XHJcbiAgdGhpcy5fY2hhcnRzLnB1c2goY2hhcnQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFN0b3JlcyBhIGRhc2hib2FyZCB3aXRoaW4gbGF2YS5qc1xyXG4gKlxyXG4gKiBAcGFyYW0gY2hhcnQgQ2hhcnRcclxuICovXHJcbmxhdmEucHJvdG90eXBlLnN0b3JlRGFzaGJvYXJkID0gZnVuY3Rpb24gKGRhc2gpIHtcclxuICAgIHRoaXMuX2Rhc2hib2FyZHMucHVzaChkYXNoKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBMYXZhQ2hhcnQgamF2YXNjcmlwdCBvYmplY3RzXHJcbiAqXHJcbiAqXHJcbiAqIFRoZSBMYXZhQ2hhcnQgb2JqZWN0IGhvbGRzIGFsbCB0aGUgdXNlciBkZWZpbmVkIHByb3BlcnRpZXMgc3VjaCBhcyBkYXRhLCBvcHRpb25zLCBmb3JtYXRzLFxyXG4gKiB0aGUgR29vZ2xlQ2hhcnQgb2JqZWN0LCBhbmQgcmVsYXRpdmUgbWV0aG9kcyBmb3IgaW50ZXJuYWwgdXNlLlxyXG4gKlxyXG4gKiBUaGUgR29vZ2xlQ2hhcnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBcIi5jaGFydFwiIGZyb20gdGhlIHJldHVybmVkIExhdmFDaGFydC5cclxuICogSXQgY2FuIGJlIHVzZWQgdG8gYWNjZXNzIGFueSBvZiB0aGUgYXZhaWxhYmxlIG1ldGhvZHMgc3VjaCBhc1xyXG4gKiBnZXRJbWFnZVVSSSgpIG9yIGdldENoYXJ0TGF5b3V0SW50ZXJmYWNlKCkuXHJcbiAqIFNlZSBodHRwczovL2dvb2dsZS1kZXZlbG9wZXJzLmFwcHNwb3QuY29tL2NoYXJ0L2ludGVyYWN0aXZlL2RvY3MvZ2FsbGVyeS9saW5lY2hhcnQjbWV0aG9kc1xyXG4gKiBmb3Igc29tZSBleGFtcGxlcyByZWxhdGl2ZSB0byBMaW5lQ2hhcnRzLlxyXG4gKlxyXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgbGFiZWxcclxuICogQHBhcmFtICB7ZnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqL1xyXG5sYXZhLnByb3RvdHlwZS5nZXRDaGFydCA9IGZ1bmN0aW9uIChsYWJlbCwgY2FsbGJhY2spIHtcclxuICB2YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcclxuXHJcbiAgaWYgKHR5cGVvZiBsYWJlbCAhPSAnc3RyaW5nJykge1xyXG4gICAgdGhyb3cgdGhpcy5lcnJvcnMuSU5WQUxJRF9MQUJFTChsYWJlbCk7XHJcbiAgfVxyXG5cclxuICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdmdW5jdGlvbicpIHtcclxuICAgIHRocm93IHRoaXMuZXJyb3JzLklOVkFMSURfQ0FMTEJBQ0soY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgdmFyIGNoYXJ0ID0gXy5maW5kKHRoaXMuX2NoYXJ0cywgXy5tYXRjaGVzKHtsYWJlbDpsYWJlbH0pLCB0aGlzKTtcclxuXHJcbiAgaWYgKCEgY2hhcnQpIHtcclxuICAgIHRocm93IHRoaXMuZXJyb3JzLkNIQVJUX05PVF9GT1VORChsYWJlbCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNhbGxiYWNrKGNoYXJ0KTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBjaGFydHMgYXJyYXkgYW5kIHBhc3MgaW50byB0aGUgY2FsbGJhY2tcclxuICpcclxuICogQHBhcmFtIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAqL1xyXG5sYXZhLnByb3RvdHlwZS5nZXRDaGFydHMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdmdW5jdGlvbicpIHtcclxuICAgIHRocm93IHRoaXMuZXJyb3JzLklOVkFMSURfQ0FMTEJBQ0soY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgY2FsbGJhY2sodGhpcy5fY2hhcnRzKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZWRyYXdzIGFsbCBvZiB0aGUgcmVnaXN0ZXJlZCBjaGFydHMgb24gc2NyZWVuLlxyXG4gKlxyXG4gKiBUaGlzIG1ldGhvZCBpcyBhdHRhY2hlZCB0byB0aGUgd2luZG93IHJlc2l6ZSBldmVudCB3aXRoIGEgMzAwbXMgZGVib3VuY2VcclxuICogdG8gbWFrZSB0aGUgY2hhcnRzIHJlc3BvbnNpdmUgdG8gdGhlIGJyb3dzZXIgcmVzaXppbmcuXHJcbiAqL1xyXG5sYXZhLnByb3RvdHlwZS5yZWRyYXdDaGFydHMgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcclxuXHJcbiAgXy5kZWJvdW5jZShmdW5jdGlvbigpIHtcclxuICAgIF8uZWFjaCh0aGlzLl9jaGFydHMsIGZ1bmN0aW9uIChjaGFydCkge1xyXG4gICAgICBjaGFydC5yZWRyYXcoKTtcclxuICAgIH0pO1xyXG4gIH0uYmluZCh0aGlzKSwgMzAwKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXRyaWV2ZSBhIERhc2hib2FyZCBmcm9tIGxhdmEuanNcclxuICpcclxuICogQHBhcmFtICB7c3RyaW5nfSAgIGxhYmVsICAgIERhc2hib2FyZCBsYWJlbC5cclxuICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAqL1xyXG5sYXZhLnByb3RvdHlwZS5nZXREYXNoYm9hcmQgPSBmdW5jdGlvbiAobGFiZWwsIGNhbGxiYWNrKSB7XHJcbiAgdmFyIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XHJcblxyXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgIHRocm93IHRoaXMuZXJyb3JzLklOVkFMSURfQ0FMTEJBQ0soY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgdmFyIGRhc2ggPSBfLmZpbmQodGhpcy5fZGFzaGJvYXJkcywgXy5tYXRjaGVzKHtsYWJlbDpsYWJlbH0pLCB0aGlzKTtcclxuXHJcbiAgaWYgKCEgZGFzaCkge1xyXG4gICAgdGhyb3cgdGhpcy5lcnJvcnMuREFTSEJPQVJEX05PVF9GT1VORChsYWJlbCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNhbGxiYWNrKGRhc2gpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBMb2FkIEdvb2dsZSdzIGpzYXBpIGFuZCBmaXJlIGFuIGV2ZW50IHdoZW4gcmVhZHkuXHJcbiAqL1xyXG5sYXZhLnByb3RvdHlwZS5sb2FkSnNhcGkgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgUSA9IHJlcXVpcmUoJ3EnKTtcclxuICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG5cclxuICBzLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcclxuICBzLmFzeW5jID0gdHJ1ZTtcclxuICBzLnNyYyA9ICcvL3d3dy5nb29nbGUuY29tL2pzYXBpJztcclxuICBzLm9ubG9hZCA9IHMub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcclxuXHJcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJsb2FkXCIgfHwgKC9sb2FkZWR8Y29tcGxldGUvLnRlc3QodGhpcy5yZWFkeVN0YXRlKSkpIHtcclxuICAgICAgdGhpcy5vbmxvYWQgPSB0aGlzLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XHJcblxyXG4gICAgICB0aGlzLmVtaXQoJ2pzYXBpOnJlYWR5Jywgd2luZG93Lmdvb2dsZSk7XHJcbiAgICB9XHJcbiAgfS5iaW5kKHRoaXMpO1xyXG5cclxuICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHMpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJ1biB0aGUgbGF2YS5qcyBtb2R1bGVcclxuICovXHJcbmxhdmEucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCkge1xyXG4gIHRoaXMubG9hZEpzYXBpKCk7XHJcblxyXG4gIHZhciByZW5kZXJlZENvdW50ID0gMDtcclxuXHJcbiAgdGhpcy5vbigncmVuZGVyZWQnLCBmdW5jdGlvbigpIHtcclxuICAgIHJlbmRlcmVkQ291bnQrKztcclxuXHJcbiAgICBpZiAocmVuZGVyZWRDb3VudCA9PSB0aGlzLl9jaGFydHMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuX3JlYWR5Q2FsbGJhY2soKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXG59LHtcIi4vbGF2YS9DaGFydC5qc1wiOjMsXCIuL2xhdmEvRGFzaGJvYXJkLmpzXCI6NCxcIi4vbGF2YS9FcnJvcnMuanNcIjo1LFwiZXZlbnRzXCI6NyxcInFcIjoxMixcInVuZGVyc2NvcmVcIjoxMyxcInV0aWxcIjoxMX1dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuICogTGF2YUNoYXJ0IG9iamVjdC5cclxuICpcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG52YXIgQ2hhcnQgPSBmdW5jdGlvbiAodHlwZSwgbGFiZWwpIHtcclxuICB0aGlzLnR5cGUgICAgID0gdHlwZTtcclxuICB0aGlzLmxhYmVsICAgID0gbGFiZWw7XHJcbiAgdGhpcy5lbGVtZW50ICA9IG51bGw7XHJcbiAgdGhpcy5kYXRhICAgICA9IG51bGw7XHJcbiAgdGhpcy5jaGFydCAgICA9IG51bGw7XHJcbiAgdGhpcy5vcHRpb25zICA9IG51bGw7XHJcbiAgdGhpcy5mb3JtYXRzICA9IFtdO1xyXG4gIHRoaXMucmVuZGVyICAgPSBudWxsO1xyXG4gIHRoaXMuX2Vycm9ycyAgPSByZXF1aXJlKCcuL2Vycm9ycy5qcycpO1xyXG4gIHRoaXMuZGVmZXJyZWQgPSByZXF1aXJlKCdxJykuZGVmZXIoKTtcclxufTtcclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICB0aGlzLmRhdGEgPSBuZXcgd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uLkRhdGFUYWJsZShkYXRhLCBsYXZhLmRhdGFWZXIpO1xyXG59O1xyXG5cclxuQ2hhcnQucHJvdG90eXBlLnNldEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbUlkKSB7XHJcbiAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbUlkKTtcclxuXHJcbiAgaWYgKCEgdGhpcy5lbGVtZW50KSB7XHJcbiAgICB0aHJvdyB0aGlzLl9lcnJvcnMuRUxFTUVOVF9JRF9OT1RfRk9VTkQoZWxlbUlkKTtcclxuICB9XHJcbn07XHJcblxyXG5DaGFydC5wcm90b3R5cGUucmVkcmF3ID0gZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy5jaGFydC5kcmF3KHRoaXMuZGF0YSwgdGhpcy5vcHRpb25zKTtcclxufTtcclxuXHJcbkNoYXJ0LnByb3RvdHlwZS5hcHBseUZvcm1hdHMgPSBmdW5jdGlvbiAoZm9ybWF0QXJyKSB7XHJcbiAgZm9yKHZhciBhPTA7IGEgPCBmb3JtYXRBcnIubGVuZ3RoOyBhKyspIHtcclxuICAgIHZhciBmb3JtYXRKc29uID0gZm9ybWF0QXJyW2FdO1xyXG4gICAgdmFyIGZvcm1hdHRlciA9IG5ldyBnb29nbGUudmlzdWFsaXphdGlvbltmb3JtYXRKc29uLnR5cGVdKGZvcm1hdEpzb24uY29uZmlnKTtcclxuXHJcbiAgICBmb3JtYXR0ZXIuZm9ybWF0KHRoaXMuZGF0YSwgZm9ybWF0SnNvbi5pbmRleCk7XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBDaGFydDtcclxuXG59LHtcIi4vZXJyb3JzLmpzXCI6NixcInFcIjoxMn1dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuICogRGFzaGJvYXJkIG9iamVjdC5cclxuICpcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG52YXIgRGFzaGJvYXJkID0gZnVuY3Rpb24gKGxhYmVsKSB7XHJcbiAgdGhpcy5sYWJlbCAgICAgPSBsYWJlbDtcclxuICB0aGlzLmVsZW1lbnQgICA9IG51bGw7XHJcbiAgdGhpcy5yZW5kZXIgICAgPSBudWxsO1xyXG4gIHRoaXMuYmluZGluZ3MgID0gW107XHJcbiAgdGhpcy5kYXNoYm9hcmQgPSBudWxsO1xyXG4gIHRoaXMuX2RhdGEgICAgID0gbnVsbDtcclxuICB0aGlzLl9lcnJvcnMgICA9IHJlcXVpcmUoJy4vZXJyb3JzLmpzJyk7XHJcbn07XHJcblxyXG5EYXNoYm9hcmQucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gIHRoaXMuX2RhdGEgPSBuZXcgd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uLkRhdGFUYWJsZShkYXRhLCBsYXZhLmRhdGFWZXIpO1xyXG59O1xyXG5cclxuRGFzaGJvYXJkLnByb3RvdHlwZS5zZXRFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1JZCkge1xyXG4gIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1JZCk7XHJcblxyXG4gIGlmICghIHRoaXMuZWxlbWVudCkge1xyXG4gICAgdGhyb3cgdGhpcy5fZXJyb3JzLkVMRU1FTlRfSURfTk9UX0ZPVU5EKGVsZW1JZCk7XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBEYXNoYm9hcmQ7XHJcblxufSx7XCIuL2Vycm9ycy5qc1wiOjZ9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiAqIGxhdmEuZXJyb3JzLmpzXHJcbiAqXHJcbiAqIEF1dGhvcjogIEtldmluIEhpbGxcclxuICogRW1haWw6ICAga2V2aW5raGlsbEBnbWFpbC5jb21cclxuICogR2l0aHViOiAgaHR0cHM6Ly9naXRodWIuY29tL2tldmlua2hpbGwvbGF2YWNoYXJ0c1xyXG4gKiBMaWNlbnNlOiBNSVRcclxuICovXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIElOVkFMSURfQ0FMTEJBQ0sgOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHJldHVybiBuZXcgRXJyb3IoJ1tMYXZhY2hhcnRzXSAnICsgdHlwZW9mIGNhbGxiYWNrICsgJyBpcyBub3QgYSB2YWxpZCBjYWxsYmFjay4nKTtcclxuICB9LFxyXG4gIElOVkFMSURfTEFCRUwgOiBmdW5jdGlvbiAobGFiZWwpIHtcclxuICAgIHJldHVybiBuZXcgRXJyb3IoJ1tMYXZhY2hhcnRzXSAnICsgdHlwZW9mIGxhYmVsICsgJyBpcyBub3QgYSB2YWxpZCBsYWJlbC4nKTtcclxuICB9LFxyXG4gIEVMRU1FTlRfSURfTk9UX0ZPVU5EIDogZnVuY3Rpb24gKGVsZW1JZCkge1xyXG4gICAgcmV0dXJuIG5ldyBFcnJvcignW0xhdmFjaGFydHNdIERPTSBub2RlICMnICsgZWxlbUlkICsgJyB3YXMgbm90IGZvdW5kLicpO1xyXG4gIH0sXHJcbiAgQ0hBUlRfTk9UX0ZPVU5EIDogZnVuY3Rpb24gKGxhYmVsKSB7XHJcbiAgICByZXR1cm4gbmV3IEVycm9yKCdbTGF2YWNoYXJ0c10gQ2hhcnQgd2l0aCBsYWJlbCBcIicgKyBsYWJlbCArICdcIiB3YXMgbm90IGZvdW5kLicpO1xyXG4gIH0sXHJcbiAgREFTSEJPQVJEX05PVF9GT1VORCA6IGZ1bmN0aW9uIChsYWJlbCkge1xyXG4gICAgcmV0dXJuIG5ldyBFcnJvcignW0xhdmFjaGFydHNdIERhc2hib2FyZCB3aXRoIGxhYmVsIFwiJyArIGxhYmVsICsgJ1wiIHdhcyBub3QgZm91bmQuJyk7XHJcbiAgfVxyXG59O1xyXG5cbn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuYXJndW1lbnRzWzRdWzVdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKVxufSx7XCJkdXBcIjo1fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfVxuICAgICAgdGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgdmFyIG07XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCFlbWl0dGVyLl9ldmVudHMgfHwgIWVtaXR0ZXIuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSAwO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKGVtaXR0ZXIuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gMTtcbiAgZWxzZVxuICAgIHJldCA9IGVtaXR0ZXIuX2V2ZW50c1t0eXBlXS5sZW5ndGg7XG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5cbn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG5cbn0se31dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cbn0se31dLDEwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn1cbn0se31dLDExOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpe1xuLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxufSx7XCIuL3N1cHBvcnQvaXNCdWZmZXJcIjoxMCxcIl9wcm9jZXNzXCI6OSxcImluaGVyaXRzXCI6OH1dLDEyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4vLyB2aW06dHM9NDpzdHM9NDpzdz00OlxuLyohXG4gKlxuICogQ29weXJpZ2h0IDIwMDktMjAxMiBLcmlzIEtvd2FsIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUXG4gKiBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL3Jhdy9tYXN0ZXIvTElDRU5TRVxuICpcbiAqIFdpdGggcGFydHMgYnkgVHlsZXIgQ2xvc2VcbiAqIENvcHlyaWdodCAyMDA3LTIwMDkgVHlsZXIgQ2xvc2UgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgWCBsaWNlbnNlIGZvdW5kXG4gKiBhdCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLmh0bWxcbiAqIEZvcmtlZCBhdCByZWZfc2VuZC5qcyB2ZXJzaW9uOiAyMDA5LTA1LTExXG4gKlxuICogV2l0aCBwYXJ0cyBieSBNYXJrIE1pbGxlclxuICogQ29weXJpZ2h0IChDKSAyMDExIEdvb2dsZSBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5cbihmdW5jdGlvbiAoZGVmaW5pdGlvbikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgLy8gVGhpcyBmaWxlIHdpbGwgZnVuY3Rpb24gcHJvcGVybHkgYXMgYSA8c2NyaXB0PiB0YWcsIG9yIGEgbW9kdWxlXG4gICAgLy8gdXNpbmcgQ29tbW9uSlMgYW5kIE5vZGVKUyBvciBSZXF1aXJlSlMgbW9kdWxlIGZvcm1hdHMuICBJblxuICAgIC8vIENvbW1vbi9Ob2RlL1JlcXVpcmVKUywgdGhlIG1vZHVsZSBleHBvcnRzIHRoZSBRIEFQSSBhbmQgd2hlblxuICAgIC8vIGV4ZWN1dGVkIGFzIGEgc2ltcGxlIDxzY3JpcHQ+LCBpdCBjcmVhdGVzIGEgUSBnbG9iYWwgaW5zdGVhZC5cblxuICAgIC8vIE1vbnRhZ2UgUmVxdWlyZVxuICAgIGlmICh0eXBlb2YgYm9vdHN0cmFwID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgYm9vdHN0cmFwKFwicHJvbWlzZVwiLCBkZWZpbml0aW9uKTtcblxuICAgIC8vIENvbW1vbkpTXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZGVmaW5pdGlvbigpO1xuXG4gICAgLy8gUmVxdWlyZUpTXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZGVmaW5pdGlvbik7XG5cbiAgICAvLyBTRVMgKFNlY3VyZSBFY21hU2NyaXB0KVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAoIXNlcy5vaygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXMubWFrZVEgPSBkZWZpbml0aW9uO1xuICAgICAgICB9XG5cbiAgICAvLyA8c2NyaXB0PlxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAvLyBQcmVmZXIgd2luZG93IG92ZXIgc2VsZiBmb3IgYWRkLW9uIHNjcmlwdHMuIFVzZSBzZWxmIGZvclxuICAgICAgICAvLyBub24td2luZG93ZWQgY29udGV4dHMuXG4gICAgICAgIHZhciBnbG9iYWwgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogc2VsZjtcblxuICAgICAgICAvLyBHZXQgdGhlIGB3aW5kb3dgIG9iamVjdCwgc2F2ZSB0aGUgcHJldmlvdXMgUSBnbG9iYWxcbiAgICAgICAgLy8gYW5kIGluaXRpYWxpemUgUSBhcyBhIGdsb2JhbC5cbiAgICAgICAgdmFyIHByZXZpb3VzUSA9IGdsb2JhbC5RO1xuICAgICAgICBnbG9iYWwuUSA9IGRlZmluaXRpb24oKTtcblxuICAgICAgICAvLyBBZGQgYSBub0NvbmZsaWN0IGZ1bmN0aW9uIHNvIFEgY2FuIGJlIHJlbW92ZWQgZnJvbSB0aGVcbiAgICAgICAgLy8gZ2xvYmFsIG5hbWVzcGFjZS5cbiAgICAgICAgZ2xvYmFsLlEubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGdsb2JhbC5RID0gcHJldmlvdXNRO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGVudmlyb25tZW50IHdhcyBub3QgYW50aWNpcGF0ZWQgYnkgUS4gUGxlYXNlIGZpbGUgYSBidWcuXCIpO1xuICAgIH1cblxufSkoZnVuY3Rpb24gKCkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBoYXNTdGFja3MgPSBmYWxzZTtcbnRyeSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCk7XG59IGNhdGNoIChlKSB7XG4gICAgaGFzU3RhY2tzID0gISFlLnN0YWNrO1xufVxuXG4vLyBBbGwgY29kZSBhZnRlciB0aGlzIHBvaW50IHdpbGwgYmUgZmlsdGVyZWQgZnJvbSBzdGFjayB0cmFjZXMgcmVwb3J0ZWRcbi8vIGJ5IFEuXG52YXIgcVN0YXJ0aW5nTGluZSA9IGNhcHR1cmVMaW5lKCk7XG52YXIgcUZpbGVOYW1lO1xuXG4vLyBzaGltc1xuXG4vLyB1c2VkIGZvciBmYWxsYmFjayBpbiBcImFsbFJlc29sdmVkXCJcbnZhciBub29wID0gZnVuY3Rpb24gKCkge307XG5cbi8vIFVzZSB0aGUgZmFzdGVzdCBwb3NzaWJsZSBtZWFucyB0byBleGVjdXRlIGEgdGFzayBpbiBhIGZ1dHVyZSB0dXJuXG4vLyBvZiB0aGUgZXZlbnQgbG9vcC5cbnZhciBuZXh0VGljayA9KGZ1bmN0aW9uICgpIHtcbiAgICAvLyBsaW5rZWQgbGlzdCBvZiB0YXNrcyAoc2luZ2xlLCB3aXRoIGhlYWQgbm9kZSlcbiAgICB2YXIgaGVhZCA9IHt0YXNrOiB2b2lkIDAsIG5leHQ6IG51bGx9O1xuICAgIHZhciB0YWlsID0gaGVhZDtcbiAgICB2YXIgZmx1c2hpbmcgPSBmYWxzZTtcbiAgICB2YXIgcmVxdWVzdFRpY2sgPSB2b2lkIDA7XG4gICAgdmFyIGlzTm9kZUpTID0gZmFsc2U7XG4gICAgLy8gcXVldWUgZm9yIGxhdGUgdGFza3MsIHVzZWQgYnkgdW5oYW5kbGVkIHJlamVjdGlvbiB0cmFja2luZ1xuICAgIHZhciBsYXRlclF1ZXVlID0gW107XG5cbiAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgLyoganNoaW50IGxvb3BmdW5jOiB0cnVlICovXG4gICAgICAgIHZhciB0YXNrLCBkb21haW47XG5cbiAgICAgICAgd2hpbGUgKGhlYWQubmV4dCkge1xuICAgICAgICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgICAgICAgIHRhc2sgPSBoZWFkLnRhc2s7XG4gICAgICAgICAgICBoZWFkLnRhc2sgPSB2b2lkIDA7XG4gICAgICAgICAgICBkb21haW4gPSBoZWFkLmRvbWFpbjtcblxuICAgICAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgICAgICAgIGhlYWQuZG9tYWluID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGRvbWFpbi5lbnRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVuU2luZ2xlKHRhc2ssIGRvbWFpbik7XG5cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAobGF0ZXJRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRhc2sgPSBsYXRlclF1ZXVlLnBvcCgpO1xuICAgICAgICAgICAgcnVuU2luZ2xlKHRhc2spO1xuICAgICAgICB9XG4gICAgICAgIGZsdXNoaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIHJ1bnMgYSBzaW5nbGUgZnVuY3Rpb24gaW4gdGhlIGFzeW5jIHF1ZXVlXG4gICAgZnVuY3Rpb24gcnVuU2luZ2xlKHRhc2ssIGRvbWFpbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGFzaygpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChpc05vZGVKUykge1xuICAgICAgICAgICAgICAgIC8vIEluIG5vZGUsIHVuY2F1Z2h0IGV4Y2VwdGlvbnMgYXJlIGNvbnNpZGVyZWQgZmF0YWwgZXJyb3JzLlxuICAgICAgICAgICAgICAgIC8vIFJlLXRocm93IHRoZW0gc3luY2hyb25vdXNseSB0byBpbnRlcnJ1cHQgZmx1c2hpbmchXG5cbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgY29udGludWF0aW9uIGlmIHRoZSB1bmNhdWdodCBleGNlcHRpb24gaXMgc3VwcHJlc3NlZFxuICAgICAgICAgICAgICAgIC8vIGxpc3RlbmluZyBcInVuY2F1Z2h0RXhjZXB0aW9uXCIgZXZlbnRzIChhcyBkb21haW5zIGRvZXMpLlxuICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIGluIG5leHQgZXZlbnQgdG8gYXZvaWQgdGljayByZWN1cnNpb24uXG4gICAgICAgICAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgICAgICAgICAgICBkb21haW4uZXhpdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZsdXNoLCAwKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbi5lbnRlcigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IGU7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gYnJvd3NlcnMsIHVuY2F1Z2h0IGV4Y2VwdGlvbnMgYXJlIG5vdCBmYXRhbC5cbiAgICAgICAgICAgICAgICAvLyBSZS10aHJvdyB0aGVtIGFzeW5jaHJvbm91c2x5IHRvIGF2b2lkIHNsb3ctZG93bnMuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICBkb21haW4uZXhpdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dFRpY2sgPSBmdW5jdGlvbiAodGFzaykge1xuICAgICAgICB0YWlsID0gdGFpbC5uZXh0ID0ge1xuICAgICAgICAgICAgdGFzazogdGFzayxcbiAgICAgICAgICAgIGRvbWFpbjogaXNOb2RlSlMgJiYgcHJvY2Vzcy5kb21haW4sXG4gICAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCFmbHVzaGluZykge1xuICAgICAgICAgICAgZmx1c2hpbmcgPSB0cnVlO1xuICAgICAgICAgICAgcmVxdWVzdFRpY2soKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgcHJvY2Vzcy50b1N0cmluZygpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIiAmJiBwcm9jZXNzLm5leHRUaWNrKSB7XG4gICAgICAgIC8vIEVuc3VyZSBRIGlzIGluIGEgcmVhbCBOb2RlIGVudmlyb25tZW50LCB3aXRoIGEgYHByb2Nlc3MubmV4dFRpY2tgLlxuICAgICAgICAvLyBUbyBzZWUgdGhyb3VnaCBmYWtlIE5vZGUgZW52aXJvbm1lbnRzOlxuICAgICAgICAvLyAqIE1vY2hhIHRlc3QgcnVubmVyIC0gZXhwb3NlcyBhIGBwcm9jZXNzYCBnbG9iYWwgd2l0aG91dCBhIGBuZXh0VGlja2BcbiAgICAgICAgLy8gKiBCcm93c2VyaWZ5IC0gZXhwb3NlcyBhIGBwcm9jZXNzLm5leFRpY2tgIGZ1bmN0aW9uIHRoYXQgdXNlc1xuICAgICAgICAvLyAgIGBzZXRUaW1lb3V0YC4gSW4gdGhpcyBjYXNlIGBzZXRJbW1lZGlhdGVgIGlzIHByZWZlcnJlZCBiZWNhdXNlXG4gICAgICAgIC8vICAgIGl0IGlzIGZhc3Rlci4gQnJvd3NlcmlmeSdzIGBwcm9jZXNzLnRvU3RyaW5nKClgIHlpZWxkc1xuICAgICAgICAvLyAgIFwiW29iamVjdCBPYmplY3RdXCIsIHdoaWxlIGluIGEgcmVhbCBOb2RlIGVudmlyb25tZW50XG4gICAgICAgIC8vICAgYHByb2Nlc3MubmV4dFRpY2soKWAgeWllbGRzIFwiW29iamVjdCBwcm9jZXNzXVwiLlxuICAgICAgICBpc05vZGVKUyA9IHRydWU7XG5cbiAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICAgICAgfTtcblxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIC8vIEluIElFMTAsIE5vZGUuanMgMC45Kywgb3IgaHR0cHM6Ly9naXRodWIuY29tL05vYmxlSlMvc2V0SW1tZWRpYXRlXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXF1ZXN0VGljayA9IHNldEltbWVkaWF0ZS5iaW5kKHdpbmRvdywgZmx1c2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGZsdXNoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAodHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIC8vIG1vZGVybiBicm93c2Vyc1xuICAgICAgICAvLyBodHRwOi8vd3d3Lm5vbmJsb2NraW5nLmlvLzIwMTEvMDYvd2luZG93bmV4dHRpY2suaHRtbFxuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICAvLyBBdCBsZWFzdCBTYWZhcmkgVmVyc2lvbiA2LjAuNSAoODUzNi4zMC4xKSBpbnRlcm1pdHRlbnRseSBjYW5ub3QgY3JlYXRlXG4gICAgICAgIC8vIHdvcmtpbmcgbWVzc2FnZSBwb3J0cyB0aGUgZmlyc3QgdGltZSBhIHBhZ2UgbG9hZHMuXG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVxdWVzdFRpY2sgPSByZXF1ZXN0UG9ydFRpY2s7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZsdXNoO1xuICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlcXVlc3RQb3J0VGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIE9wZXJhIHJlcXVpcmVzIHVzIHRvIHByb3ZpZGUgYSBtZXNzYWdlIHBheWxvYWQsIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgICAgICAgIC8vIHdoZXRoZXIgd2UgdXNlIGl0LlxuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZsdXNoLCAwKTtcbiAgICAgICAgICAgIHJlcXVlc3RQb3J0VGljaygpO1xuICAgICAgICB9O1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gb2xkIGJyb3dzZXJzXG4gICAgICAgIHJlcXVlc3RUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmbHVzaCwgMCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIHJ1bnMgYSB0YXNrIGFmdGVyIGFsbCBvdGhlciB0YXNrcyBoYXZlIGJlZW4gcnVuXG4gICAgLy8gdGhpcyBpcyB1c2VmdWwgZm9yIHVuaGFuZGxlZCByZWplY3Rpb24gdHJhY2tpbmcgdGhhdCBuZWVkcyB0byBoYXBwZW5cbiAgICAvLyBhZnRlciBhbGwgYHRoZW5gZCB0YXNrcyBoYXZlIGJlZW4gcnVuLlxuICAgIG5leHRUaWNrLnJ1bkFmdGVyID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgbGF0ZXJRdWV1ZS5wdXNoKHRhc2spO1xuICAgICAgICBpZiAoIWZsdXNoaW5nKSB7XG4gICAgICAgICAgICBmbHVzaGluZyA9IHRydWU7XG4gICAgICAgICAgICByZXF1ZXN0VGljaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gbmV4dFRpY2s7XG59KSgpO1xuXG4vLyBBdHRlbXB0IHRvIG1ha2UgZ2VuZXJpY3Mgc2FmZSBpbiB0aGUgZmFjZSBvZiBkb3duc3RyZWFtXG4vLyBtb2RpZmljYXRpb25zLlxuLy8gVGhlcmUgaXMgbm8gc2l0dWF0aW9uIHdoZXJlIHRoaXMgaXMgbmVjZXNzYXJ5LlxuLy8gSWYgeW91IG5lZWQgYSBzZWN1cml0eSBndWFyYW50ZWUsIHRoZXNlIHByaW1vcmRpYWxzIG5lZWQgdG8gYmVcbi8vIGRlZXBseSBmcm96ZW4gYW55d2F5LCBhbmQgaWYgeW91IGRvbuKAmXQgbmVlZCBhIHNlY3VyaXR5IGd1YXJhbnRlZSxcbi8vIHRoaXMgaXMganVzdCBwbGFpbiBwYXJhbm9pZC5cbi8vIEhvd2V2ZXIsIHRoaXMgKiptaWdodCoqIGhhdmUgdGhlIG5pY2Ugc2lkZS1lZmZlY3Qgb2YgcmVkdWNpbmcgdGhlIHNpemUgb2Zcbi8vIHRoZSBtaW5pZmllZCBjb2RlIGJ5IHJlZHVjaW5nIHguY2FsbCgpIHRvIG1lcmVseSB4KClcbi8vIFNlZSBNYXJrIE1pbGxlcuKAmXMgZXhwbGFuYXRpb24gb2Ygd2hhdCB0aGlzIGRvZXMuXG4vLyBodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1jb252ZW50aW9uczpzYWZlX21ldGFfcHJvZ3JhbW1pbmdcbnZhciBjYWxsID0gRnVuY3Rpb24uY2FsbDtcbmZ1bmN0aW9uIHVuY3VycnlUaGlzKGYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2FsbC5hcHBseShmLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG4vLyBUaGlzIGlzIGVxdWl2YWxlbnQsIGJ1dCBzbG93ZXI6XG4vLyB1bmN1cnJ5VGhpcyA9IEZ1bmN0aW9uX2JpbmQuYmluZChGdW5jdGlvbl9iaW5kLmNhbGwpO1xuLy8gaHR0cDovL2pzcGVyZi5jb20vdW5jdXJyeXRoaXNcblxudmFyIGFycmF5X3NsaWNlID0gdW5jdXJyeVRoaXMoQXJyYXkucHJvdG90eXBlLnNsaWNlKTtcblxudmFyIGFycmF5X3JlZHVjZSA9IHVuY3VycnlUaGlzKFxuICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgfHwgZnVuY3Rpb24gKGNhbGxiYWNrLCBiYXNpcykge1xuICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGg7XG4gICAgICAgIC8vIGNvbmNlcm5pbmcgdGhlIGluaXRpYWwgdmFsdWUsIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIC8vIHNlZWsgdG8gdGhlIGZpcnN0IHZhbHVlIGluIHRoZSBhcnJheSwgYWNjb3VudGluZ1xuICAgICAgICAgICAgLy8gZm9yIHRoZSBwb3NzaWJpbGl0eSB0aGF0IGlzIGlzIGEgc3BhcnNlIGFycmF5XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IGluIHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzaXMgPSB0aGlzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCsraW5kZXggPj0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlICgxKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWR1Y2VcbiAgICAgICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAvLyBhY2NvdW50IGZvciB0aGUgcG9zc2liaWxpdHkgdGhhdCB0aGUgYXJyYXkgaXMgc3BhcnNlXG4gICAgICAgICAgICBpZiAoaW5kZXggaW4gdGhpcykge1xuICAgICAgICAgICAgICAgIGJhc2lzID0gY2FsbGJhY2soYmFzaXMsIHRoaXNbaW5kZXhdLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2lzO1xuICAgIH1cbik7XG5cbnZhciBhcnJheV9pbmRleE9mID0gdW5jdXJyeVRoaXMoXG4gICAgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgfHwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIG5vdCBhIHZlcnkgZ29vZCBzaGltLCBidXQgZ29vZCBlbm91Z2ggZm9yIG91ciBvbmUgdXNlIG9mIGl0XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbik7XG5cbnZhciBhcnJheV9tYXAgPSB1bmN1cnJ5VGhpcyhcbiAgICBBcnJheS5wcm90b3R5cGUubWFwIHx8IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc3ApIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgY29sbGVjdCA9IFtdO1xuICAgICAgICBhcnJheV9yZWR1Y2Uoc2VsZiwgZnVuY3Rpb24gKHVuZGVmaW5lZCwgdmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICBjb2xsZWN0LnB1c2goY2FsbGJhY2suY2FsbCh0aGlzcCwgdmFsdWUsIGluZGV4LCBzZWxmKSk7XG4gICAgICAgIH0sIHZvaWQgMCk7XG4gICAgICAgIHJldHVybiBjb2xsZWN0O1xuICAgIH1cbik7XG5cbnZhciBvYmplY3RfY3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiAocHJvdG90eXBlKSB7XG4gICAgZnVuY3Rpb24gVHlwZSgpIHsgfVxuICAgIFR5cGUucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICAgIHJldHVybiBuZXcgVHlwZSgpO1xufTtcblxudmFyIG9iamVjdF9oYXNPd25Qcm9wZXJ0eSA9IHVuY3VycnlUaGlzKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuXG52YXIgb2JqZWN0X2tleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3RfaGFzT3duUHJvcGVydHkob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn07XG5cbnZhciBvYmplY3RfdG9TdHJpbmcgPSB1bmN1cnJ5VGhpcyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKTtcblxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IE9iamVjdCh2YWx1ZSk7XG59XG5cbi8vIGdlbmVyYXRvciByZWxhdGVkIHNoaW1zXG5cbi8vIEZJWE1FOiBSZW1vdmUgdGhpcyBmdW5jdGlvbiBvbmNlIEVTNiBnZW5lcmF0b3JzIGFyZSBpbiBTcGlkZXJNb25rZXkuXG5mdW5jdGlvbiBpc1N0b3BJdGVyYXRpb24oZXhjZXB0aW9uKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgb2JqZWN0X3RvU3RyaW5nKGV4Y2VwdGlvbikgPT09IFwiW29iamVjdCBTdG9wSXRlcmF0aW9uXVwiIHx8XG4gICAgICAgIGV4Y2VwdGlvbiBpbnN0YW5jZW9mIFFSZXR1cm5WYWx1ZVxuICAgICk7XG59XG5cbi8vIEZJWE1FOiBSZW1vdmUgdGhpcyBoZWxwZXIgYW5kIFEucmV0dXJuIG9uY2UgRVM2IGdlbmVyYXRvcnMgYXJlIGluXG4vLyBTcGlkZXJNb25rZXkuXG52YXIgUVJldHVyblZhbHVlO1xuaWYgKHR5cGVvZiBSZXR1cm5WYWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIFFSZXR1cm5WYWx1ZSA9IFJldHVyblZhbHVlO1xufSBlbHNlIHtcbiAgICBRUmV0dXJuVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH07XG59XG5cbi8vIGxvbmcgc3RhY2sgdHJhY2VzXG5cbnZhciBTVEFDS19KVU1QX1NFUEFSQVRPUiA9IFwiRnJvbSBwcmV2aW91cyBldmVudDpcIjtcblxuZnVuY3Rpb24gbWFrZVN0YWNrVHJhY2VMb25nKGVycm9yLCBwcm9taXNlKSB7XG4gICAgLy8gSWYgcG9zc2libGUsIHRyYW5zZm9ybSB0aGUgZXJyb3Igc3RhY2sgdHJhY2UgYnkgcmVtb3ZpbmcgTm9kZSBhbmQgUVxuICAgIC8vIGNydWZ0LCB0aGVuIGNvbmNhdGVuYXRpbmcgd2l0aCB0aGUgc3RhY2sgdHJhY2Ugb2YgYHByb21pc2VgLiBTZWUgIzU3LlxuICAgIGlmIChoYXNTdGFja3MgJiZcbiAgICAgICAgcHJvbWlzZS5zdGFjayAmJlxuICAgICAgICB0eXBlb2YgZXJyb3IgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgZXJyb3IgIT09IG51bGwgJiZcbiAgICAgICAgZXJyb3Iuc3RhY2sgJiZcbiAgICAgICAgZXJyb3Iuc3RhY2suaW5kZXhPZihTVEFDS19KVU1QX1NFUEFSQVRPUikgPT09IC0xXG4gICAgKSB7XG4gICAgICAgIHZhciBzdGFja3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgcCA9IHByb21pc2U7ICEhcDsgcCA9IHAuc291cmNlKSB7XG4gICAgICAgICAgICBpZiAocC5zdGFjaykge1xuICAgICAgICAgICAgICAgIHN0YWNrcy51bnNoaWZ0KHAuc3RhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YWNrcy51bnNoaWZ0KGVycm9yLnN0YWNrKTtcblxuICAgICAgICB2YXIgY29uY2F0ZWRTdGFja3MgPSBzdGFja3Muam9pbihcIlxcblwiICsgU1RBQ0tfSlVNUF9TRVBBUkFUT1IgKyBcIlxcblwiKTtcbiAgICAgICAgZXJyb3Iuc3RhY2sgPSBmaWx0ZXJTdGFja1N0cmluZyhjb25jYXRlZFN0YWNrcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaWx0ZXJTdGFja1N0cmluZyhzdGFja1N0cmluZykge1xuICAgIHZhciBsaW5lcyA9IHN0YWNrU3RyaW5nLnNwbGl0KFwiXFxuXCIpO1xuICAgIHZhciBkZXNpcmVkTGluZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBsaW5lID0gbGluZXNbaV07XG5cbiAgICAgICAgaWYgKCFpc0ludGVybmFsRnJhbWUobGluZSkgJiYgIWlzTm9kZUZyYW1lKGxpbmUpICYmIGxpbmUpIHtcbiAgICAgICAgICAgIGRlc2lyZWRMaW5lcy5wdXNoKGxpbmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZXNpcmVkTGluZXMuam9pbihcIlxcblwiKTtcbn1cblxuZnVuY3Rpb24gaXNOb2RlRnJhbWUoc3RhY2tMaW5lKSB7XG4gICAgcmV0dXJuIHN0YWNrTGluZS5pbmRleE9mKFwiKG1vZHVsZS5qczpcIikgIT09IC0xIHx8XG4gICAgICAgICAgIHN0YWNrTGluZS5pbmRleE9mKFwiKG5vZGUuanM6XCIpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0RmlsZU5hbWVBbmRMaW5lTnVtYmVyKHN0YWNrTGluZSkge1xuICAgIC8vIE5hbWVkIGZ1bmN0aW9uczogXCJhdCBmdW5jdGlvbk5hbWUgKGZpbGVuYW1lOmxpbmVOdW1iZXI6Y29sdW1uTnVtYmVyKVwiXG4gICAgLy8gSW4gSUUxMCBmdW5jdGlvbiBuYW1lIGNhbiBoYXZlIHNwYWNlcyAoXCJBbm9ueW1vdXMgZnVuY3Rpb25cIikgT19vXG4gICAgdmFyIGF0dGVtcHQxID0gL2F0IC4rIFxcKCguKyk6KFxcZCspOig/OlxcZCspXFwpJC8uZXhlYyhzdGFja0xpbmUpO1xuICAgIGlmIChhdHRlbXB0MSkge1xuICAgICAgICByZXR1cm4gW2F0dGVtcHQxWzFdLCBOdW1iZXIoYXR0ZW1wdDFbMl0pXTtcbiAgICB9XG5cbiAgICAvLyBBbm9ueW1vdXMgZnVuY3Rpb25zOiBcImF0IGZpbGVuYW1lOmxpbmVOdW1iZXI6Y29sdW1uTnVtYmVyXCJcbiAgICB2YXIgYXR0ZW1wdDIgPSAvYXQgKFteIF0rKTooXFxkKyk6KD86XFxkKykkLy5leGVjKHN0YWNrTGluZSk7XG4gICAgaWYgKGF0dGVtcHQyKSB7XG4gICAgICAgIHJldHVybiBbYXR0ZW1wdDJbMV0sIE51bWJlcihhdHRlbXB0MlsyXSldO1xuICAgIH1cblxuICAgIC8vIEZpcmVmb3ggc3R5bGU6IFwiZnVuY3Rpb25AZmlsZW5hbWU6bGluZU51bWJlciBvciBAZmlsZW5hbWU6bGluZU51bWJlclwiXG4gICAgdmFyIGF0dGVtcHQzID0gLy4qQCguKyk6KFxcZCspJC8uZXhlYyhzdGFja0xpbmUpO1xuICAgIGlmIChhdHRlbXB0Mykge1xuICAgICAgICByZXR1cm4gW2F0dGVtcHQzWzFdLCBOdW1iZXIoYXR0ZW1wdDNbMl0pXTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzSW50ZXJuYWxGcmFtZShzdGFja0xpbmUpIHtcbiAgICB2YXIgZmlsZU5hbWVBbmRMaW5lTnVtYmVyID0gZ2V0RmlsZU5hbWVBbmRMaW5lTnVtYmVyKHN0YWNrTGluZSk7XG5cbiAgICBpZiAoIWZpbGVOYW1lQW5kTGluZU51bWJlcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGZpbGVOYW1lID0gZmlsZU5hbWVBbmRMaW5lTnVtYmVyWzBdO1xuICAgIHZhciBsaW5lTnVtYmVyID0gZmlsZU5hbWVBbmRMaW5lTnVtYmVyWzFdO1xuXG4gICAgcmV0dXJuIGZpbGVOYW1lID09PSBxRmlsZU5hbWUgJiZcbiAgICAgICAgbGluZU51bWJlciA+PSBxU3RhcnRpbmdMaW5lICYmXG4gICAgICAgIGxpbmVOdW1iZXIgPD0gcUVuZGluZ0xpbmU7XG59XG5cbi8vIGRpc2NvdmVyIG93biBmaWxlIG5hbWUgYW5kIGxpbmUgbnVtYmVyIHJhbmdlIGZvciBmaWx0ZXJpbmcgc3RhY2tcbi8vIHRyYWNlc1xuZnVuY3Rpb24gY2FwdHVyZUxpbmUoKSB7XG4gICAgaWYgKCFoYXNTdGFja3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdmFyIGxpbmVzID0gZS5zdGFjay5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgdmFyIGZpcnN0TGluZSA9IGxpbmVzWzBdLmluZGV4T2YoXCJAXCIpID4gMCA/IGxpbmVzWzFdIDogbGluZXNbMl07XG4gICAgICAgIHZhciBmaWxlTmFtZUFuZExpbmVOdW1iZXIgPSBnZXRGaWxlTmFtZUFuZExpbmVOdW1iZXIoZmlyc3RMaW5lKTtcbiAgICAgICAgaWYgKCFmaWxlTmFtZUFuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHFGaWxlTmFtZSA9IGZpbGVOYW1lQW5kTGluZU51bWJlclswXTtcbiAgICAgICAgcmV0dXJuIGZpbGVOYW1lQW5kTGluZU51bWJlclsxXTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZShjYWxsYmFjaywgbmFtZSwgYWx0ZXJuYXRpdmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlLndhcm4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKG5hbWUgKyBcIiBpcyBkZXByZWNhdGVkLCB1c2UgXCIgKyBhbHRlcm5hdGl2ZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgXCIgaW5zdGVhZC5cIiwgbmV3IEVycm9yKFwiXCIpLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkoY2FsbGJhY2ssIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLy8gZW5kIG9mIHNoaW1zXG4vLyBiZWdpbm5pbmcgb2YgcmVhbCB3b3JrXG5cbi8qKlxuICogQ29uc3RydWN0cyBhIHByb21pc2UgZm9yIGFuIGltbWVkaWF0ZSByZWZlcmVuY2UsIHBhc3NlcyBwcm9taXNlcyB0aHJvdWdoLCBvclxuICogY29lcmNlcyBwcm9taXNlcyBmcm9tIGRpZmZlcmVudCBzeXN0ZW1zLlxuICogQHBhcmFtIHZhbHVlIGltbWVkaWF0ZSByZWZlcmVuY2Ugb3IgcHJvbWlzZVxuICovXG5mdW5jdGlvbiBRKHZhbHVlKSB7XG4gICAgLy8gSWYgdGhlIG9iamVjdCBpcyBhbHJlYWR5IGEgUHJvbWlzZSwgcmV0dXJuIGl0IGRpcmVjdGx5LiAgVGhpcyBlbmFibGVzXG4gICAgLy8gdGhlIHJlc29sdmUgZnVuY3Rpb24gdG8gYm90aCBiZSB1c2VkIHRvIGNyZWF0ZWQgcmVmZXJlbmNlcyBmcm9tIG9iamVjdHMsXG4gICAgLy8gYnV0IHRvIHRvbGVyYWJseSBjb2VyY2Ugbm9uLXByb21pc2VzIHRvIHByb21pc2VzLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8vIGFzc2ltaWxhdGUgdGhlbmFibGVzXG4gICAgaWYgKGlzUHJvbWlzZUFsaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gY29lcmNlKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVsZmlsbCh2YWx1ZSk7XG4gICAgfVxufVxuUS5yZXNvbHZlID0gUTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhIHRhc2sgaW4gYSBmdXR1cmUgdHVybiBvZiB0aGUgZXZlbnQgbG9vcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRhc2tcbiAqL1xuUS5uZXh0VGljayA9IG5leHRUaWNrO1xuXG4vKipcbiAqIENvbnRyb2xzIHdoZXRoZXIgb3Igbm90IGxvbmcgc3RhY2sgdHJhY2VzIHdpbGwgYmUgb25cbiAqL1xuUS5sb25nU3RhY2tTdXBwb3J0ID0gZmFsc2U7XG5cbi8vIGVuYWJsZSBsb25nIHN0YWNrcyBpZiBRX0RFQlVHIGlzIHNldFxuaWYgKHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MgJiYgcHJvY2Vzcy5lbnYgJiYgcHJvY2Vzcy5lbnYuUV9ERUJVRykge1xuICAgIFEubG9uZ1N0YWNrU3VwcG9ydCA9IHRydWU7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIHtwcm9taXNlLCByZXNvbHZlLCByZWplY3R9IG9iamVjdC5cbiAqXG4gKiBgcmVzb2x2ZWAgaXMgYSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCBhIG1vcmUgcmVzb2x2ZWQgdmFsdWUgZm9yIHRoZVxuICogcHJvbWlzZS4gVG8gZnVsZmlsbCB0aGUgcHJvbWlzZSwgaW52b2tlIGByZXNvbHZlYCB3aXRoIGFueSB2YWx1ZSB0aGF0IGlzXG4gKiBub3QgYSB0aGVuYWJsZS4gVG8gcmVqZWN0IHRoZSBwcm9taXNlLCBpbnZva2UgYHJlc29sdmVgIHdpdGggYSByZWplY3RlZFxuICogdGhlbmFibGUsIG9yIGludm9rZSBgcmVqZWN0YCB3aXRoIHRoZSByZWFzb24gZGlyZWN0bHkuIFRvIHJlc29sdmUgdGhlXG4gKiBwcm9taXNlIHRvIGFub3RoZXIgdGhlbmFibGUsIHRodXMgcHV0dGluZyBpdCBpbiB0aGUgc2FtZSBzdGF0ZSwgaW52b2tlXG4gKiBgcmVzb2x2ZWAgd2l0aCB0aGF0IG90aGVyIHRoZW5hYmxlLlxuICovXG5RLmRlZmVyID0gZGVmZXI7XG5mdW5jdGlvbiBkZWZlcigpIHtcbiAgICAvLyBpZiBcIm1lc3NhZ2VzXCIgaXMgYW4gXCJBcnJheVwiLCB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBwcm9taXNlIGhhcyBub3QgeWV0XG4gICAgLy8gYmVlbiByZXNvbHZlZC4gIElmIGl0IGlzIFwidW5kZWZpbmVkXCIsIGl0IGhhcyBiZWVuIHJlc29sdmVkLiAgRWFjaFxuICAgIC8vIGVsZW1lbnQgb2YgdGhlIG1lc3NhZ2VzIGFycmF5IGlzIGl0c2VsZiBhbiBhcnJheSBvZiBjb21wbGV0ZSBhcmd1bWVudHMgdG9cbiAgICAvLyBmb3J3YXJkIHRvIHRoZSByZXNvbHZlZCBwcm9taXNlLiAgV2UgY29lcmNlIHRoZSByZXNvbHV0aW9uIHZhbHVlIHRvIGFcbiAgICAvLyBwcm9taXNlIHVzaW5nIHRoZSBgcmVzb2x2ZWAgZnVuY3Rpb24gYmVjYXVzZSBpdCBoYW5kbGVzIGJvdGggZnVsbHlcbiAgICAvLyBub24tdGhlbmFibGUgdmFsdWVzIGFuZCBvdGhlciB0aGVuYWJsZXMgZ3JhY2VmdWxseS5cbiAgICB2YXIgbWVzc2FnZXMgPSBbXSwgcHJvZ3Jlc3NMaXN0ZW5lcnMgPSBbXSwgcmVzb2x2ZWRQcm9taXNlO1xuXG4gICAgdmFyIGRlZmVycmVkID0gb2JqZWN0X2NyZWF0ZShkZWZlci5wcm90b3R5cGUpO1xuICAgIHZhciBwcm9taXNlID0gb2JqZWN0X2NyZWF0ZShQcm9taXNlLnByb3RvdHlwZSk7XG5cbiAgICBwcm9taXNlLnByb21pc2VEaXNwYXRjaCA9IGZ1bmN0aW9uIChyZXNvbHZlLCBvcCwgb3BlcmFuZHMpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMpO1xuICAgICAgICBpZiAobWVzc2FnZXMpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goYXJncyk7XG4gICAgICAgICAgICBpZiAob3AgPT09IFwid2hlblwiICYmIG9wZXJhbmRzWzFdKSB7IC8vIHByb2dyZXNzIG9wZXJhbmRcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0xpc3RlbmVycy5wdXNoKG9wZXJhbmRzWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVkUHJvbWlzZS5wcm9taXNlRGlzcGF0Y2guYXBwbHkocmVzb2x2ZWRQcm9taXNlLCBhcmdzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFhYWCBkZXByZWNhdGVkXG4gICAgcHJvbWlzZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZWFyZXJWYWx1ZSA9IG5lYXJlcihyZXNvbHZlZFByb21pc2UpO1xuICAgICAgICBpZiAoaXNQcm9taXNlKG5lYXJlclZhbHVlKSkge1xuICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlID0gbmVhcmVyVmFsdWU7IC8vIHNob3J0ZW4gY2hhaW5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmVhcmVyVmFsdWU7XG4gICAgfTtcblxuICAgIHByb21pc2UuaW5zcGVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFyZXNvbHZlZFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXRlOiBcInBlbmRpbmdcIiB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlZFByb21pc2UuaW5zcGVjdCgpO1xuICAgIH07XG5cbiAgICBpZiAoUS5sb25nU3RhY2tTdXBwb3J0ICYmIGhhc1N0YWNrcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IGRvbid0IHRyeSB0byB1c2UgYEVycm9yLmNhcHR1cmVTdGFja1RyYWNlYCBvciB0cmFuc2ZlciB0aGVcbiAgICAgICAgICAgIC8vIGFjY2Vzc29yIGFyb3VuZDsgdGhhdCBjYXVzZXMgbWVtb3J5IGxlYWtzIGFzIHBlciBHSC0xMTEuIEp1c3RcbiAgICAgICAgICAgIC8vIHJlaWZ5IHRoZSBzdGFjayB0cmFjZSBhcyBhIHN0cmluZyBBU0FQLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEF0IHRoZSBzYW1lIHRpbWUsIGN1dCBvZmYgdGhlIGZpcnN0IGxpbmU7IGl0J3MgYWx3YXlzIGp1c3RcbiAgICAgICAgICAgIC8vIFwiW29iamVjdCBQcm9taXNlXVxcblwiLCBhcyBwZXIgdGhlIGB0b1N0cmluZ2AuXG4gICAgICAgICAgICBwcm9taXNlLnN0YWNrID0gZS5zdGFjay5zdWJzdHJpbmcoZS5zdGFjay5pbmRleE9mKFwiXFxuXCIpICsgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOT1RFOiB3ZSBkbyB0aGUgY2hlY2tzIGZvciBgcmVzb2x2ZWRQcm9taXNlYCBpbiBlYWNoIG1ldGhvZCwgaW5zdGVhZCBvZlxuICAgIC8vIGNvbnNvbGlkYXRpbmcgdGhlbSBpbnRvIGBiZWNvbWVgLCBzaW5jZSBvdGhlcndpc2Ugd2UnZCBjcmVhdGUgbmV3XG4gICAgLy8gcHJvbWlzZXMgd2l0aCB0aGUgbGluZXMgYGJlY29tZSh3aGF0ZXZlcih2YWx1ZSkpYC4gU2VlIGUuZy4gR0gtMjUyLlxuXG4gICAgZnVuY3Rpb24gYmVjb21lKG5ld1Byb21pc2UpIHtcbiAgICAgICAgcmVzb2x2ZWRQcm9taXNlID0gbmV3UHJvbWlzZTtcbiAgICAgICAgcHJvbWlzZS5zb3VyY2UgPSBuZXdQcm9taXNlO1xuXG4gICAgICAgIGFycmF5X3JlZHVjZShtZXNzYWdlcywgZnVuY3Rpb24gKHVuZGVmaW5lZCwgbWVzc2FnZSkge1xuICAgICAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbmV3UHJvbWlzZS5wcm9taXNlRGlzcGF0Y2guYXBwbHkobmV3UHJvbWlzZSwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdm9pZCAwKTtcblxuICAgICAgICBtZXNzYWdlcyA9IHZvaWQgMDtcbiAgICAgICAgcHJvZ3Jlc3NMaXN0ZW5lcnMgPSB2b2lkIDA7XG4gICAgfVxuXG4gICAgZGVmZXJyZWQucHJvbWlzZSA9IHByb21pc2U7XG4gICAgZGVmZXJyZWQucmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAocmVzb2x2ZWRQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBiZWNvbWUoUSh2YWx1ZSkpO1xuICAgIH07XG5cbiAgICBkZWZlcnJlZC5mdWxmaWxsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmIChyZXNvbHZlZFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJlY29tZShmdWxmaWxsKHZhbHVlKSk7XG4gICAgfTtcbiAgICBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIGlmIChyZXNvbHZlZFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJlY29tZShyZWplY3QocmVhc29uKSk7XG4gICAgfTtcbiAgICBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHJlc29sdmVkUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXJyYXlfcmVkdWNlKHByb2dyZXNzTGlzdGVuZXJzLCBmdW5jdGlvbiAodW5kZWZpbmVkLCBwcm9ncmVzc0xpc3RlbmVyKSB7XG4gICAgICAgICAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0xpc3RlbmVyKHByb2dyZXNzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB2b2lkIDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGVmZXJyZWQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIE5vZGUtc3R5bGUgY2FsbGJhY2sgdGhhdCB3aWxsIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBkZWZlcnJlZFxuICogcHJvbWlzZS5cbiAqIEByZXR1cm5zIGEgbm9kZWJhY2tcbiAqL1xuZGVmZXIucHJvdG90eXBlLm1ha2VOb2RlUmVzb2x2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIHZhbHVlKSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgc2VsZi5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBzZWxmLnJlc29sdmUoYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLnJlc29sdmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHJlc29sdmVyIHtGdW5jdGlvbn0gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgbm90aGluZyBhbmQgYWNjZXB0c1xuICogdGhlIHJlc29sdmUsIHJlamVjdCwgYW5kIG5vdGlmeSBmdW5jdGlvbnMgZm9yIGEgZGVmZXJyZWQuXG4gKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCBtYXkgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgZ2l2ZW4gcmVzb2x2ZSBhbmQgcmVqZWN0XG4gKiBmdW5jdGlvbnMsIG9yIHJlamVjdGVkIGJ5IGEgdGhyb3duIGV4Y2VwdGlvbiBpbiByZXNvbHZlclxuICovXG5RLlByb21pc2UgPSBwcm9taXNlOyAvLyBFUzZcblEucHJvbWlzZSA9IHByb21pc2U7XG5mdW5jdGlvbiBwcm9taXNlKHJlc29sdmVyKSB7XG4gICAgaWYgKHR5cGVvZiByZXNvbHZlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIHRyeSB7XG4gICAgICAgIHJlc29sdmVyKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCwgZGVmZXJyZWQubm90aWZ5KTtcbiAgICB9IGNhdGNoIChyZWFzb24pIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufVxuXG5wcm9taXNlLnJhY2UgPSByYWNlOyAvLyBFUzZcbnByb21pc2UuYWxsID0gYWxsOyAvLyBFUzZcbnByb21pc2UucmVqZWN0ID0gcmVqZWN0OyAvLyBFUzZcbnByb21pc2UucmVzb2x2ZSA9IFE7IC8vIEVTNlxuXG4vLyBYWFggZXhwZXJpbWVudGFsLiAgVGhpcyBtZXRob2QgaXMgYSB3YXkgdG8gZGVub3RlIHRoYXQgYSBsb2NhbCB2YWx1ZSBpc1xuLy8gc2VyaWFsaXphYmxlIGFuZCBzaG91bGQgYmUgaW1tZWRpYXRlbHkgZGlzcGF0Y2hlZCB0byBhIHJlbW90ZSB1cG9uIHJlcXVlc3QsXG4vLyBpbnN0ZWFkIG9mIHBhc3NpbmcgYSByZWZlcmVuY2UuXG5RLnBhc3NCeUNvcHkgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgLy9mcmVlemUob2JqZWN0KTtcbiAgICAvL3Bhc3NCeUNvcGllcy5zZXQob2JqZWN0LCB0cnVlKTtcbiAgICByZXR1cm4gb2JqZWN0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUucGFzc0J5Q29weSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL2ZyZWV6ZShvYmplY3QpO1xuICAgIC8vcGFzc0J5Q29waWVzLnNldChvYmplY3QsIHRydWUpO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBJZiB0d28gcHJvbWlzZXMgZXZlbnR1YWxseSBmdWxmaWxsIHRvIHRoZSBzYW1lIHZhbHVlLCBwcm9taXNlcyB0aGF0IHZhbHVlLFxuICogYnV0IG90aGVyd2lzZSByZWplY3RzLlxuICogQHBhcmFtIHgge0FueSp9XG4gKiBAcGFyYW0geSB7QW55Kn1cbiAqIEByZXR1cm5zIHtBbnkqfSBhIHByb21pc2UgZm9yIHggYW5kIHkgaWYgdGhleSBhcmUgdGhlIHNhbWUsIGJ1dCBhIHJlamVjdGlvblxuICogb3RoZXJ3aXNlLlxuICpcbiAqL1xuUS5qb2luID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICByZXR1cm4gUSh4KS5qb2luKHkpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgcmV0dXJuIFEoW3RoaXMsIHRoYXRdKS5zcHJlYWQoZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFwiPT09XCIgc2hvdWxkIGJlIE9iamVjdC5pcyBvciBlcXVpdlxuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBqb2luOiBub3QgdGhlIHNhbWU6IFwiICsgeCArIFwiIFwiICsgeSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSBmaXJzdCBvZiBhbiBhcnJheSBvZiBwcm9taXNlcyB0byBiZWNvbWUgc2V0dGxlZC5cbiAqIEBwYXJhbSBhbnN3ZXJzIHtBcnJheVtBbnkqXX0gcHJvbWlzZXMgdG8gcmFjZVxuICogQHJldHVybnMge0FueSp9IHRoZSBmaXJzdCBwcm9taXNlIHRvIGJlIHNldHRsZWRcbiAqL1xuUS5yYWNlID0gcmFjZTtcbmZ1bmN0aW9uIHJhY2UoYW5zd2VyUHMpIHtcbiAgICByZXR1cm4gcHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vIFN3aXRjaCB0byB0aGlzIG9uY2Ugd2UgY2FuIGFzc3VtZSBhdCBsZWFzdCBFUzVcbiAgICAgICAgLy8gYW5zd2VyUHMuZm9yRWFjaChmdW5jdGlvbiAoYW5zd2VyUCkge1xuICAgICAgICAvLyAgICAgUShhbnN3ZXJQKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgICAvLyBVc2UgdGhpcyBpbiB0aGUgbWVhbnRpbWVcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFuc3dlclBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBRKGFuc3dlclBzW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUucmFjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKFEucmFjZSk7XG59O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBQcm9taXNlIHdpdGggYSBwcm9taXNlIGRlc2NyaXB0b3Igb2JqZWN0IGFuZCBvcHRpb25hbCBmYWxsYmFja1xuICogZnVuY3Rpb24uICBUaGUgZGVzY3JpcHRvciBjb250YWlucyBtZXRob2RzIGxpa2Ugd2hlbihyZWplY3RlZCksIGdldChuYW1lKSxcbiAqIHNldChuYW1lLCB2YWx1ZSksIHBvc3QobmFtZSwgYXJncyksIGFuZCBkZWxldGUobmFtZSksIHdoaWNoIGFsbFxuICogcmV0dXJuIGVpdGhlciBhIHZhbHVlLCBhIHByb21pc2UgZm9yIGEgdmFsdWUsIG9yIGEgcmVqZWN0aW9uLiAgVGhlIGZhbGxiYWNrXG4gKiBhY2NlcHRzIHRoZSBvcGVyYXRpb24gbmFtZSwgYSByZXNvbHZlciwgYW5kIGFueSBmdXJ0aGVyIGFyZ3VtZW50cyB0aGF0IHdvdWxkXG4gKiBoYXZlIGJlZW4gZm9yd2FyZGVkIHRvIHRoZSBhcHByb3ByaWF0ZSBtZXRob2QgYWJvdmUgaGFkIGEgbWV0aG9kIGJlZW5cbiAqIHByb3ZpZGVkIHdpdGggdGhlIHByb3BlciBuYW1lLiAgVGhlIEFQSSBtYWtlcyBubyBndWFyYW50ZWVzIGFib3V0IHRoZSBuYXR1cmVcbiAqIG9mIHRoZSByZXR1cm5lZCBvYmplY3QsIGFwYXJ0IGZyb20gdGhhdCBpdCBpcyB1c2FibGUgd2hlcmVldmVyIHByb21pc2VzIGFyZVxuICogYm91Z2h0IGFuZCBzb2xkLlxuICovXG5RLm1ha2VQcm9taXNlID0gUHJvbWlzZTtcbmZ1bmN0aW9uIFByb21pc2UoZGVzY3JpcHRvciwgZmFsbGJhY2ssIGluc3BlY3QpIHtcbiAgICBpZiAoZmFsbGJhY2sgPT09IHZvaWQgMCkge1xuICAgICAgICBmYWxsYmFjayA9IGZ1bmN0aW9uIChvcCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJQcm9taXNlIGRvZXMgbm90IHN1cHBvcnQgb3BlcmF0aW9uOiBcIiArIG9wXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGluc3BlY3QgPT09IHZvaWQgMCkge1xuICAgICAgICBpbnNwZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtzdGF0ZTogXCJ1bmtub3duXCJ9O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gb2JqZWN0X2NyZWF0ZShQcm9taXNlLnByb3RvdHlwZSk7XG5cbiAgICBwcm9taXNlLnByb21pc2VEaXNwYXRjaCA9IGZ1bmN0aW9uIChyZXNvbHZlLCBvcCwgYXJncykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3Jbb3BdKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVzY3JpcHRvcltvcF0uYXBwbHkocHJvbWlzZSwgYXJncyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbGxiYWNrLmNhbGwocHJvbWlzZSwgb3AsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlamVjdChleGNlcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNvbHZlKSB7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvbWlzZS5pbnNwZWN0ID0gaW5zcGVjdDtcblxuICAgIC8vIFhYWCBkZXByZWNhdGVkIGB2YWx1ZU9mYCBhbmQgYGV4Y2VwdGlvbmAgc3VwcG9ydFxuICAgIGlmIChpbnNwZWN0KSB7XG4gICAgICAgIHZhciBpbnNwZWN0ZWQgPSBpbnNwZWN0KCk7XG4gICAgICAgIGlmIChpbnNwZWN0ZWQuc3RhdGUgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgICAgcHJvbWlzZS5leGNlcHRpb24gPSBpbnNwZWN0ZWQucmVhc29uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvbWlzZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGluc3BlY3RlZCA9IGluc3BlY3QoKTtcbiAgICAgICAgICAgIGlmIChpbnNwZWN0ZWQuc3RhdGUgPT09IFwicGVuZGluZ1wiIHx8XG4gICAgICAgICAgICAgICAgaW5zcGVjdGVkLnN0YXRlID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnNwZWN0ZWQudmFsdWU7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cblByb21pc2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgUHJvbWlzZV1cIjtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAoZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3NlZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIHZhciBkb25lID0gZmFsc2U7ICAgLy8gZW5zdXJlIHRoZSB1bnRydXN0ZWQgcHJvbWlzZSBtYWtlcyBhdCBtb3N0IGFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBjYWxsIHRvIG9uZSBvZiB0aGUgY2FsbGJhY2tzXG5cbiAgICBmdW5jdGlvbiBfZnVsZmlsbGVkKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGZ1bGZpbGxlZCA9PT0gXCJmdW5jdGlvblwiID8gZnVsZmlsbGVkKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZXhjZXB0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9yZWplY3RlZChleGNlcHRpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZWplY3RlZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBtYWtlU3RhY2tUcmFjZUxvbmcoZXhjZXB0aW9uLCBzZWxmKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGVkKGV4Y2VwdGlvbik7XG4gICAgICAgICAgICB9IGNhdGNoIChuZXdFeGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ld0V4Y2VwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlamVjdChleGNlcHRpb24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9wcm9ncmVzc2VkKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcHJvZ3Jlc3NlZCA9PT0gXCJmdW5jdGlvblwiID8gcHJvZ3Jlc3NlZCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5wcm9taXNlRGlzcGF0Y2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9mdWxmaWxsZWQodmFsdWUpKTtcbiAgICAgICAgfSwgXCJ3aGVuXCIsIFtmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9yZWplY3RlZChleGNlcHRpb24pKTtcbiAgICAgICAgfV0pO1xuICAgIH0pO1xuXG4gICAgLy8gUHJvZ3Jlc3MgcHJvcGFnYXRvciBuZWVkIHRvIGJlIGF0dGFjaGVkIGluIHRoZSBjdXJyZW50IHRpY2suXG4gICAgc2VsZi5wcm9taXNlRGlzcGF0Y2godm9pZCAwLCBcIndoZW5cIiwgW3ZvaWQgMCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBuZXdWYWx1ZTtcbiAgICAgICAgdmFyIHRocmV3ID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IF9wcm9ncmVzc2VkKHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyZXcgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKFEub25lcnJvcikge1xuICAgICAgICAgICAgICAgIFEub25lcnJvcihlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhyZXcpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeShuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cblEudGFwID0gZnVuY3Rpb24gKHByb21pc2UsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIFEocHJvbWlzZSkudGFwKGNhbGxiYWNrKTtcbn07XG5cbi8qKlxuICogV29ya3MgYWxtb3N0IGxpa2UgXCJmaW5hbGx5XCIsIGJ1dCBub3QgY2FsbGVkIGZvciByZWplY3Rpb25zLlxuICogT3JpZ2luYWwgcmVzb2x1dGlvbiB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCBjYWxsYmFjayB1bmFmZmVjdGVkLlxuICogQ2FsbGJhY2sgbWF5IHJldHVybiBhIHByb21pc2UgdGhhdCB3aWxsIGJlIGF3YWl0ZWQgZm9yLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtRLlByb21pc2V9XG4gKiBAZXhhbXBsZVxuICogZG9Tb21ldGhpbmcoKVxuICogICAudGhlbiguLi4pXG4gKiAgIC50YXAoY29uc29sZS5sb2cpXG4gKiAgIC50aGVuKC4uLik7XG4gKi9cblByb21pc2UucHJvdG90eXBlLnRhcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrID0gUShjYWxsYmFjayk7XG5cbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suZmNhbGwodmFsdWUpLnRoZW5SZXNvbHZlKHZhbHVlKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXJzIGFuIG9ic2VydmVyIG9uIGEgcHJvbWlzZS5cbiAqXG4gKiBHdWFyYW50ZWVzOlxuICpcbiAqIDEuIHRoYXQgZnVsZmlsbGVkIGFuZCByZWplY3RlZCB3aWxsIGJlIGNhbGxlZCBvbmx5IG9uY2UuXG4gKiAyLiB0aGF0IGVpdGhlciB0aGUgZnVsZmlsbGVkIGNhbGxiYWNrIG9yIHRoZSByZWplY3RlZCBjYWxsYmFjayB3aWxsIGJlXG4gKiAgICBjYWxsZWQsIGJ1dCBub3QgYm90aC5cbiAqIDMuIHRoYXQgZnVsZmlsbGVkIGFuZCByZWplY3RlZCB3aWxsIG5vdCBiZSBjYWxsZWQgaW4gdGhpcyB0dXJuLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAgICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSB0byBvYnNlcnZlXG4gKiBAcGFyYW0gZnVsZmlsbGVkICBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2l0aCB0aGUgZnVsZmlsbGVkIHZhbHVlXG4gKiBAcGFyYW0gcmVqZWN0ZWQgICBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2l0aCB0aGUgcmVqZWN0aW9uIGV4Y2VwdGlvblxuICogQHBhcmFtIHByb2dyZXNzZWQgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGFueSBwcm9ncmVzcyBub3RpZmljYXRpb25zXG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgaW52b2tlZCBjYWxsYmFja1xuICovXG5RLndoZW4gPSB3aGVuO1xuZnVuY3Rpb24gd2hlbih2YWx1ZSwgZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3NlZCkge1xuICAgIHJldHVybiBRKHZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzZWQpO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuUmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0pO1xufTtcblxuUS50aGVuUmVzb2x2ZSA9IGZ1bmN0aW9uIChwcm9taXNlLCB2YWx1ZSkge1xuICAgIHJldHVybiBRKHByb21pc2UpLnRoZW5SZXNvbHZlKHZhbHVlKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW5SZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAoKSB7IHRocm93IHJlYXNvbjsgfSk7XG59O1xuXG5RLnRoZW5SZWplY3QgPSBmdW5jdGlvbiAocHJvbWlzZSwgcmVhc29uKSB7XG4gICAgcmV0dXJuIFEocHJvbWlzZSkudGhlblJlamVjdChyZWFzb24pO1xufTtcblxuLyoqXG4gKiBJZiBhbiBvYmplY3QgaXMgbm90IGEgcHJvbWlzZSwgaXQgaXMgYXMgXCJuZWFyXCIgYXMgcG9zc2libGUuXG4gKiBJZiBhIHByb21pc2UgaXMgcmVqZWN0ZWQsIGl0IGlzIGFzIFwibmVhclwiIGFzIHBvc3NpYmxlIHRvby5cbiAqIElmIGl04oCZcyBhIGZ1bGZpbGxlZCBwcm9taXNlLCB0aGUgZnVsZmlsbG1lbnQgdmFsdWUgaXMgbmVhcmVyLlxuICogSWYgaXTigJlzIGEgZGVmZXJyZWQgcHJvbWlzZSBhbmQgdGhlIGRlZmVycmVkIGhhcyBiZWVuIHJlc29sdmVkLCB0aGVcbiAqIHJlc29sdXRpb24gaXMgXCJuZWFyZXJcIi5cbiAqIEBwYXJhbSBvYmplY3RcbiAqIEByZXR1cm5zIG1vc3QgcmVzb2x2ZWQgKG5lYXJlc3QpIGZvcm0gb2YgdGhlIG9iamVjdFxuICovXG5cbi8vIFhYWCBzaG91bGQgd2UgcmUtZG8gdGhpcz9cblEubmVhcmVyID0gbmVhcmVyO1xuZnVuY3Rpb24gbmVhcmVyKHZhbHVlKSB7XG4gICAgaWYgKGlzUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIGluc3BlY3RlZCA9IHZhbHVlLmluc3BlY3QoKTtcbiAgICAgICAgaWYgKGluc3BlY3RlZC5zdGF0ZSA9PT0gXCJmdWxmaWxsZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGluc3BlY3RlZC52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgcHJvbWlzZS5cbiAqIE90aGVyd2lzZSBpdCBpcyBhIGZ1bGZpbGxlZCB2YWx1ZS5cbiAqL1xuUS5pc1Byb21pc2UgPSBpc1Byb21pc2U7XG5mdW5jdGlvbiBpc1Byb21pc2Uob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIFByb21pc2U7XG59XG5cblEuaXNQcm9taXNlQWxpa2UgPSBpc1Byb21pc2VBbGlrZTtcbmZ1bmN0aW9uIGlzUHJvbWlzZUFsaWtlKG9iamVjdCkge1xuICAgIHJldHVybiBpc09iamVjdChvYmplY3QpICYmIHR5cGVvZiBvYmplY3QudGhlbiA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHdoZXRoZXIgdGhlIGdpdmVuIG9iamVjdCBpcyBhIHBlbmRpbmcgcHJvbWlzZSwgbWVhbmluZyBub3RcbiAqIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cbiAqL1xuUS5pc1BlbmRpbmcgPSBpc1BlbmRpbmc7XG5mdW5jdGlvbiBpc1BlbmRpbmcob2JqZWN0KSB7XG4gICAgcmV0dXJuIGlzUHJvbWlzZShvYmplY3QpICYmIG9iamVjdC5pbnNwZWN0KCkuc3RhdGUgPT09IFwicGVuZGluZ1wiO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5pc1BlbmRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zcGVjdCgpLnN0YXRlID09PSBcInBlbmRpbmdcIjtcbn07XG5cbi8qKlxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgdmFsdWUgb3IgZnVsZmlsbGVkXG4gKiBwcm9taXNlLlxuICovXG5RLmlzRnVsZmlsbGVkID0gaXNGdWxmaWxsZWQ7XG5mdW5jdGlvbiBpc0Z1bGZpbGxlZChvYmplY3QpIHtcbiAgICByZXR1cm4gIWlzUHJvbWlzZShvYmplY3QpIHx8IG9iamVjdC5pbnNwZWN0KCkuc3RhdGUgPT09IFwiZnVsZmlsbGVkXCI7XG59XG5cblByb21pc2UucHJvdG90eXBlLmlzRnVsZmlsbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJmdWxmaWxsZWRcIjtcbn07XG5cbi8qKlxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgcmVqZWN0ZWQgcHJvbWlzZS5cbiAqL1xuUS5pc1JlamVjdGVkID0gaXNSZWplY3RlZDtcbmZ1bmN0aW9uIGlzUmVqZWN0ZWQob2JqZWN0KSB7XG4gICAgcmV0dXJuIGlzUHJvbWlzZShvYmplY3QpICYmIG9iamVjdC5pbnNwZWN0KCkuc3RhdGUgPT09IFwicmVqZWN0ZWRcIjtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuaXNSZWplY3RlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnNwZWN0KCkuc3RhdGUgPT09IFwicmVqZWN0ZWRcIjtcbn07XG5cbi8vLy8gQkVHSU4gVU5IQU5ETEVEIFJFSkVDVElPTiBUUkFDS0lOR1xuXG4vLyBUaGlzIHByb21pc2UgbGlicmFyeSBjb25zdW1lcyBleGNlcHRpb25zIHRocm93biBpbiBoYW5kbGVycyBzbyB0aGV5IGNhbiBiZVxuLy8gaGFuZGxlZCBieSBhIHN1YnNlcXVlbnQgcHJvbWlzZS4gIFRoZSBleGNlcHRpb25zIGdldCBhZGRlZCB0byB0aGlzIGFycmF5IHdoZW5cbi8vIHRoZXkgYXJlIGNyZWF0ZWQsIGFuZCByZW1vdmVkIHdoZW4gdGhleSBhcmUgaGFuZGxlZC4gIE5vdGUgdGhhdCBpbiBFUzYgb3Jcbi8vIHNoaW1tZWQgZW52aXJvbm1lbnRzLCB0aGlzIHdvdWxkIG5hdHVyYWxseSBiZSBhIGBTZXRgLlxudmFyIHVuaGFuZGxlZFJlYXNvbnMgPSBbXTtcbnZhciB1bmhhbmRsZWRSZWplY3Rpb25zID0gW107XG52YXIgcmVwb3J0ZWRVbmhhbmRsZWRSZWplY3Rpb25zID0gW107XG52YXIgdHJhY2tVbmhhbmRsZWRSZWplY3Rpb25zID0gdHJ1ZTtcblxuZnVuY3Rpb24gcmVzZXRVbmhhbmRsZWRSZWplY3Rpb25zKCkge1xuICAgIHVuaGFuZGxlZFJlYXNvbnMubGVuZ3RoID0gMDtcbiAgICB1bmhhbmRsZWRSZWplY3Rpb25zLmxlbmd0aCA9IDA7XG5cbiAgICBpZiAoIXRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucykge1xuICAgICAgICB0cmFja1VuaGFuZGxlZFJlamVjdGlvbnMgPSB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdHJhY2tSZWplY3Rpb24ocHJvbWlzZSwgcmVhc29uKSB7XG4gICAgaWYgKCF0cmFja1VuaGFuZGxlZFJlamVjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHByb2Nlc3MuZW1pdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIFEubmV4dFRpY2sucnVuQWZ0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGFycmF5X2luZGV4T2YodW5oYW5kbGVkUmVqZWN0aW9ucywgcHJvbWlzZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsIHJlYXNvbiwgcHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgcmVwb3J0ZWRVbmhhbmRsZWRSZWplY3Rpb25zLnB1c2gocHJvbWlzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVuaGFuZGxlZFJlamVjdGlvbnMucHVzaChwcm9taXNlKTtcbiAgICBpZiAocmVhc29uICYmIHR5cGVvZiByZWFzb24uc3RhY2sgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgdW5oYW5kbGVkUmVhc29ucy5wdXNoKHJlYXNvbi5zdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdW5oYW5kbGVkUmVhc29ucy5wdXNoKFwiKG5vIHN0YWNrKSBcIiArIHJlYXNvbik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1bnRyYWNrUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgICBpZiAoIXRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGF0ID0gYXJyYXlfaW5kZXhPZih1bmhhbmRsZWRSZWplY3Rpb25zLCBwcm9taXNlKTtcbiAgICBpZiAoYXQgIT09IC0xKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcHJvY2Vzcy5lbWl0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIFEubmV4dFRpY2sucnVuQWZ0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhdFJlcG9ydCA9IGFycmF5X2luZGV4T2YocmVwb3J0ZWRVbmhhbmRsZWRSZWplY3Rpb25zLCBwcm9taXNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYXRSZXBvcnQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW1pdChcInJlamVjdGlvbkhhbmRsZWRcIiwgdW5oYW5kbGVkUmVhc29uc1thdF0sIHByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXBvcnRlZFVuaGFuZGxlZFJlamVjdGlvbnMuc3BsaWNlKGF0UmVwb3J0LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB1bmhhbmRsZWRSZWplY3Rpb25zLnNwbGljZShhdCwgMSk7XG4gICAgICAgIHVuaGFuZGxlZFJlYXNvbnMuc3BsaWNlKGF0LCAxKTtcbiAgICB9XG59XG5cblEucmVzZXRVbmhhbmRsZWRSZWplY3Rpb25zID0gcmVzZXRVbmhhbmRsZWRSZWplY3Rpb25zO1xuXG5RLmdldFVuaGFuZGxlZFJlYXNvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gTWFrZSBhIGNvcHkgc28gdGhhdCBjb25zdW1lcnMgY2FuJ3QgaW50ZXJmZXJlIHdpdGggb3VyIGludGVybmFsIHN0YXRlLlxuICAgIHJldHVybiB1bmhhbmRsZWRSZWFzb25zLnNsaWNlKCk7XG59O1xuXG5RLnN0b3BVbmhhbmRsZWRSZWplY3Rpb25UcmFja2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXNldFVuaGFuZGxlZFJlamVjdGlvbnMoKTtcbiAgICB0cmFja1VuaGFuZGxlZFJlamVjdGlvbnMgPSBmYWxzZTtcbn07XG5cbnJlc2V0VW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuXG4vLy8vIEVORCBVTkhBTkRMRUQgUkVKRUNUSU9OIFRSQUNLSU5HXG5cbi8qKlxuICogQ29uc3RydWN0cyBhIHJlamVjdGVkIHByb21pc2UuXG4gKiBAcGFyYW0gcmVhc29uIHZhbHVlIGRlc2NyaWJpbmcgdGhlIGZhaWx1cmVcbiAqL1xuUS5yZWplY3QgPSByZWplY3Q7XG5mdW5jdGlvbiByZWplY3QocmVhc29uKSB7XG4gICAgdmFyIHJlamVjdGlvbiA9IFByb21pc2Uoe1xuICAgICAgICBcIndoZW5cIjogZnVuY3Rpb24gKHJlamVjdGVkKSB7XG4gICAgICAgICAgICAvLyBub3RlIHRoYXQgdGhlIGVycm9yIGhhcyBiZWVuIGhhbmRsZWRcbiAgICAgICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgICAgICAgIHVudHJhY2tSZWplY3Rpb24odGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0ZWQgPyByZWplY3RlZChyZWFzb24pIDogdGhpcztcbiAgICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIGZhbGxiYWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBmdW5jdGlvbiBpbnNwZWN0KCkge1xuICAgICAgICByZXR1cm4geyBzdGF0ZTogXCJyZWplY3RlZFwiLCByZWFzb246IHJlYXNvbiB9O1xuICAgIH0pO1xuXG4gICAgLy8gTm90ZSB0aGF0IHRoZSByZWFzb24gaGFzIG5vdCBiZWVuIGhhbmRsZWQuXG4gICAgdHJhY2tSZWplY3Rpb24ocmVqZWN0aW9uLCByZWFzb24pO1xuXG4gICAgcmV0dXJuIHJlamVjdGlvbjtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgZnVsZmlsbGVkIHByb21pc2UgZm9yIGFuIGltbWVkaWF0ZSByZWZlcmVuY2UuXG4gKiBAcGFyYW0gdmFsdWUgaW1tZWRpYXRlIHJlZmVyZW5jZVxuICovXG5RLmZ1bGZpbGwgPSBmdWxmaWxsO1xuZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkge1xuICAgIHJldHVybiBQcm9taXNlKHtcbiAgICAgICAgXCJ3aGVuXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVtuYW1lXTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24gKG5hbWUsIHJocykge1xuICAgICAgICAgICAgdmFsdWVbbmFtZV0gPSByaHM7XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVsZXRlXCI6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICBkZWxldGUgdmFsdWVbbmFtZV07XG4gICAgICAgIH0sXG4gICAgICAgIFwicG9zdFwiOiBmdW5jdGlvbiAobmFtZSwgYXJncykge1xuICAgICAgICAgICAgLy8gTWFyayBNaWxsZXIgcHJvcG9zZXMgdGhhdCBwb3N0IHdpdGggbm8gbmFtZSBzaG91bGQgYXBwbHkgYVxuICAgICAgICAgICAgLy8gcHJvbWlzZWQgZnVuY3Rpb24uXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gbnVsbCB8fCBuYW1lID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW25hbWVdLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJhcHBseVwiOiBmdW5jdGlvbiAodGhpc3AsIGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5hcHBseSh0aGlzcCwgYXJncyk7XG4gICAgICAgIH0sXG4gICAgICAgIFwia2V5c1wiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0X2tleXModmFsdWUpO1xuICAgICAgICB9XG4gICAgfSwgdm9pZCAwLCBmdW5jdGlvbiBpbnNwZWN0KCkge1xuICAgICAgICByZXR1cm4geyBzdGF0ZTogXCJmdWxmaWxsZWRcIiwgdmFsdWU6IHZhbHVlIH07XG4gICAgfSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlbmFibGVzIHRvIFEgcHJvbWlzZXMuXG4gKiBAcGFyYW0gcHJvbWlzZSB0aGVuYWJsZSBwcm9taXNlXG4gKiBAcmV0dXJucyBhIFEgcHJvbWlzZVxuICovXG5mdW5jdGlvbiBjb2VyY2UocHJvbWlzZSkge1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0LCBkZWZlcnJlZC5ub3RpZnkpO1xuICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChleGNlcHRpb24pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59XG5cbi8qKlxuICogQW5ub3RhdGVzIGFuIG9iamVjdCBzdWNoIHRoYXQgaXQgd2lsbCBuZXZlciBiZVxuICogdHJhbnNmZXJyZWQgYXdheSBmcm9tIHRoaXMgcHJvY2VzcyBvdmVyIGFueSBwcm9taXNlXG4gKiBjb21tdW5pY2F0aW9uIGNoYW5uZWwuXG4gKiBAcGFyYW0gb2JqZWN0XG4gKiBAcmV0dXJucyBwcm9taXNlIGEgd3JhcHBpbmcgb2YgdGhhdCBvYmplY3QgdGhhdFxuICogYWRkaXRpb25hbGx5IHJlc3BvbmRzIHRvIHRoZSBcImlzRGVmXCIgbWVzc2FnZVxuICogd2l0aG91dCBhIHJlamVjdGlvbi5cbiAqL1xuUS5tYXN0ZXIgPSBtYXN0ZXI7XG5mdW5jdGlvbiBtYXN0ZXIob2JqZWN0KSB7XG4gICAgcmV0dXJuIFByb21pc2Uoe1xuICAgICAgICBcImlzRGVmXCI6IGZ1bmN0aW9uICgpIHt9XG4gICAgfSwgZnVuY3Rpb24gZmFsbGJhY2sob3AsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKG9iamVjdCwgb3AsIGFyZ3MpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFEob2JqZWN0KS5pbnNwZWN0KCk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogU3ByZWFkcyB0aGUgdmFsdWVzIG9mIGEgcHJvbWlzZWQgYXJyYXkgb2YgYXJndW1lbnRzIGludG8gdGhlXG4gKiBmdWxmaWxsbWVudCBjYWxsYmFjay5cbiAqIEBwYXJhbSBmdWxmaWxsZWQgY2FsbGJhY2sgdGhhdCByZWNlaXZlcyB2YXJpYWRpYyBhcmd1bWVudHMgZnJvbSB0aGVcbiAqIHByb21pc2VkIGFycmF5XG4gKiBAcGFyYW0gcmVqZWN0ZWQgY2FsbGJhY2sgdGhhdCByZWNlaXZlcyB0aGUgZXhjZXB0aW9uIGlmIHRoZSBwcm9taXNlXG4gKiBpcyByZWplY3RlZC5cbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZSBvciB0aHJvd24gZXhjZXB0aW9uIG9mXG4gKiBlaXRoZXIgY2FsbGJhY2suXG4gKi9cblEuc3ByZWFkID0gc3ByZWFkO1xuZnVuY3Rpb24gc3ByZWFkKHZhbHVlLCBmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gICAgcmV0dXJuIFEodmFsdWUpLnNwcmVhZChmdWxmaWxsZWQsIHJlamVjdGVkKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuc3ByZWFkID0gZnVuY3Rpb24gKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gdGhpcy5hbGwoKS50aGVuKGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICByZXR1cm4gZnVsZmlsbGVkLmFwcGx5KHZvaWQgMCwgYXJyYXkpO1xuICAgIH0sIHJlamVjdGVkKTtcbn07XG5cbi8qKlxuICogVGhlIGFzeW5jIGZ1bmN0aW9uIGlzIGEgZGVjb3JhdG9yIGZvciBnZW5lcmF0b3IgZnVuY3Rpb25zLCB0dXJuaW5nXG4gKiB0aGVtIGludG8gYXN5bmNocm9ub3VzIGdlbmVyYXRvcnMuICBBbHRob3VnaCBnZW5lcmF0b3JzIGFyZSBvbmx5IHBhcnRcbiAqIG9mIHRoZSBuZXdlc3QgRUNNQVNjcmlwdCA2IGRyYWZ0cywgdGhpcyBjb2RlIGRvZXMgbm90IGNhdXNlIHN5bnRheFxuICogZXJyb3JzIGluIG9sZGVyIGVuZ2luZXMuICBUaGlzIGNvZGUgc2hvdWxkIGNvbnRpbnVlIHRvIHdvcmsgYW5kIHdpbGxcbiAqIGluIGZhY3QgaW1wcm92ZSBvdmVyIHRpbWUgYXMgdGhlIGxhbmd1YWdlIGltcHJvdmVzLlxuICpcbiAqIEVTNiBnZW5lcmF0b3JzIGFyZSBjdXJyZW50bHkgcGFydCBvZiBWOCB2ZXJzaW9uIDMuMTkgd2l0aCB0aGVcbiAqIC0taGFybW9ueS1nZW5lcmF0b3JzIHJ1bnRpbWUgZmxhZyBlbmFibGVkLiAgU3BpZGVyTW9ua2V5IGhhcyBoYWQgdGhlbVxuICogZm9yIGxvbmdlciwgYnV0IHVuZGVyIGFuIG9sZGVyIFB5dGhvbi1pbnNwaXJlZCBmb3JtLiAgVGhpcyBmdW5jdGlvblxuICogd29ya3Mgb24gYm90aCBraW5kcyBvZiBnZW5lcmF0b3JzLlxuICpcbiAqIERlY29yYXRlcyBhIGdlbmVyYXRvciBmdW5jdGlvbiBzdWNoIHRoYXQ6XG4gKiAgLSBpdCBtYXkgeWllbGQgcHJvbWlzZXNcbiAqICAtIGV4ZWN1dGlvbiB3aWxsIGNvbnRpbnVlIHdoZW4gdGhhdCBwcm9taXNlIGlzIGZ1bGZpbGxlZFxuICogIC0gdGhlIHZhbHVlIG9mIHRoZSB5aWVsZCBleHByZXNzaW9uIHdpbGwgYmUgdGhlIGZ1bGZpbGxlZCB2YWx1ZVxuICogIC0gaXQgcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWUgKHdoZW4gdGhlIGdlbmVyYXRvclxuICogICAgc3RvcHMgaXRlcmF0aW5nKVxuICogIC0gdGhlIGRlY29yYXRlZCBmdW5jdGlvbiByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxuICogICAgb2YgdGhlIGdlbmVyYXRvciBvciB0aGUgZmlyc3QgcmVqZWN0ZWQgcHJvbWlzZSBhbW9uZyB0aG9zZVxuICogICAgeWllbGRlZC5cbiAqICAtIGlmIGFuIGVycm9yIGlzIHRocm93biBpbiB0aGUgZ2VuZXJhdG9yLCBpdCBwcm9wYWdhdGVzIHRocm91Z2hcbiAqICAgIGV2ZXJ5IGZvbGxvd2luZyB5aWVsZCB1bnRpbCBpdCBpcyBjYXVnaHQsIG9yIHVudGlsIGl0IGVzY2FwZXNcbiAqICAgIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gYWx0b2dldGhlciwgYW5kIGlzIHRyYW5zbGF0ZWQgaW50byBhXG4gKiAgICByZWplY3Rpb24gZm9yIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZSBkZWNvcmF0ZWQgZ2VuZXJhdG9yLlxuICovXG5RLmFzeW5jID0gYXN5bmM7XG5mdW5jdGlvbiBhc3luYyhtYWtlR2VuZXJhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gd2hlbiB2ZXJiIGlzIFwic2VuZFwiLCBhcmcgaXMgYSB2YWx1ZVxuICAgICAgICAvLyB3aGVuIHZlcmIgaXMgXCJ0aHJvd1wiLCBhcmcgaXMgYW4gZXhjZXB0aW9uXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRpbnVlcih2ZXJiLCBhcmcpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgICAgICAgIC8vIFVudGlsIFY4IDMuMTkgLyBDaHJvbWl1bSAyOSBpcyByZWxlYXNlZCwgU3BpZGVyTW9ua2V5IGlzIHRoZSBvbmx5XG4gICAgICAgICAgICAvLyBlbmdpbmUgdGhhdCBoYXMgYSBkZXBsb3llZCBiYXNlIG9mIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBnZW5lcmF0b3JzLlxuICAgICAgICAgICAgLy8gSG93ZXZlciwgU00ncyBnZW5lcmF0b3JzIHVzZSB0aGUgUHl0aG9uLWluc3BpcmVkIHNlbWFudGljcyBvZlxuICAgICAgICAgICAgLy8gb3V0ZGF0ZWQgRVM2IGRyYWZ0cy4gIFdlIHdvdWxkIGxpa2UgdG8gc3VwcG9ydCBFUzYsIGJ1dCB3ZSdkIGFsc29cbiAgICAgICAgICAgIC8vIGxpa2UgdG8gbWFrZSBpdCBwb3NzaWJsZSB0byB1c2UgZ2VuZXJhdG9ycyBpbiBkZXBsb3llZCBicm93c2Vycywgc29cbiAgICAgICAgICAgIC8vIHdlIGFsc28gc3VwcG9ydCBQeXRob24tc3R5bGUgZ2VuZXJhdG9ycy4gIEF0IHNvbWUgcG9pbnQgd2UgY2FuIHJlbW92ZVxuICAgICAgICAgICAgLy8gdGhpcyBibG9jay5cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTdG9wSXRlcmF0aW9uID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gRVM2IEdlbmVyYXRvcnNcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBnZW5lcmF0b3JbdmVyYl0oYXJnKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChleGNlcHRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFEocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2hlbihyZXN1bHQudmFsdWUsIGNhbGxiYWNrLCBlcnJiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNwaWRlck1vbmtleSBHZW5lcmF0b3JzXG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IFJlbW92ZSB0aGlzIGNhc2Ugd2hlbiBTTSBkb2VzIEVTNiBnZW5lcmF0b3JzLlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGdlbmVyYXRvclt2ZXJiXShhcmcpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdG9wSXRlcmF0aW9uKGV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBRKGV4Y2VwdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdoZW4ocmVzdWx0LCBjYWxsYmFjaywgZXJyYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdlbmVyYXRvciA9IG1ha2VHZW5lcmF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gY29udGludWVyLmJpbmQoY29udGludWVyLCBcIm5leHRcIik7XG4gICAgICAgIHZhciBlcnJiYWNrID0gY29udGludWVyLmJpbmQoY29udGludWVyLCBcInRocm93XCIpO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIFRoZSBzcGF3biBmdW5jdGlvbiBpcyBhIHNtYWxsIHdyYXBwZXIgYXJvdW5kIGFzeW5jIHRoYXQgaW1tZWRpYXRlbHlcbiAqIGNhbGxzIHRoZSBnZW5lcmF0b3IgYW5kIGFsc28gZW5kcyB0aGUgcHJvbWlzZSBjaGFpbiwgc28gdGhhdCBhbnlcbiAqIHVuaGFuZGxlZCBlcnJvcnMgYXJlIHRocm93biBpbnN0ZWFkIG9mIGZvcndhcmRlZCB0byB0aGUgZXJyb3JcbiAqIGhhbmRsZXIuIFRoaXMgaXMgdXNlZnVsIGJlY2F1c2UgaXQncyBleHRyZW1lbHkgY29tbW9uIHRvIHJ1blxuICogZ2VuZXJhdG9ycyBhdCB0aGUgdG9wLWxldmVsIHRvIHdvcmsgd2l0aCBsaWJyYXJpZXMuXG4gKi9cblEuc3Bhd24gPSBzcGF3bjtcbmZ1bmN0aW9uIHNwYXduKG1ha2VHZW5lcmF0b3IpIHtcbiAgICBRLmRvbmUoUS5hc3luYyhtYWtlR2VuZXJhdG9yKSgpKTtcbn1cblxuLy8gRklYTUU6IFJlbW92ZSB0aGlzIGludGVyZmFjZSBvbmNlIEVTNiBnZW5lcmF0b3JzIGFyZSBpbiBTcGlkZXJNb25rZXkuXG4vKipcbiAqIFRocm93cyBhIFJldHVyblZhbHVlIGV4Y2VwdGlvbiB0byBzdG9wIGFuIGFzeW5jaHJvbm91cyBnZW5lcmF0b3IuXG4gKlxuICogVGhpcyBpbnRlcmZhY2UgaXMgYSBzdG9wLWdhcCBtZWFzdXJlIHRvIHN1cHBvcnQgZ2VuZXJhdG9yIHJldHVyblxuICogdmFsdWVzIGluIG9sZGVyIEZpcmVmb3gvU3BpZGVyTW9ua2V5LiAgSW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IEVTNlxuICogZ2VuZXJhdG9ycyBsaWtlIENocm9taXVtIDI5LCBqdXN0IHVzZSBcInJldHVyblwiIGluIHlvdXIgZ2VuZXJhdG9yXG4gKiBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHZhbHVlIHRoZSByZXR1cm4gdmFsdWUgZm9yIHRoZSBzdXJyb3VuZGluZyBnZW5lcmF0b3JcbiAqIEB0aHJvd3MgUmV0dXJuVmFsdWUgZXhjZXB0aW9uIHdpdGggdGhlIHZhbHVlLlxuICogQGV4YW1wbGVcbiAqIC8vIEVTNiBzdHlsZVxuICogUS5hc3luYyhmdW5jdGlvbiogKCkge1xuICogICAgICB2YXIgZm9vID0geWllbGQgZ2V0Rm9vUHJvbWlzZSgpO1xuICogICAgICB2YXIgYmFyID0geWllbGQgZ2V0QmFyUHJvbWlzZSgpO1xuICogICAgICByZXR1cm4gZm9vICsgYmFyO1xuICogfSlcbiAqIC8vIE9sZGVyIFNwaWRlck1vbmtleSBzdHlsZVxuICogUS5hc3luYyhmdW5jdGlvbiAoKSB7XG4gKiAgICAgIHZhciBmb28gPSB5aWVsZCBnZXRGb29Qcm9taXNlKCk7XG4gKiAgICAgIHZhciBiYXIgPSB5aWVsZCBnZXRCYXJQcm9taXNlKCk7XG4gKiAgICAgIFEucmV0dXJuKGZvbyArIGJhcik7XG4gKiB9KVxuICovXG5RW1wicmV0dXJuXCJdID0gX3JldHVybjtcbmZ1bmN0aW9uIF9yZXR1cm4odmFsdWUpIHtcbiAgICB0aHJvdyBuZXcgUVJldHVyblZhbHVlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgcHJvbWlzZWQgZnVuY3Rpb24gZGVjb3JhdG9yIGVuc3VyZXMgdGhhdCBhbnkgcHJvbWlzZSBhcmd1bWVudHNcbiAqIGFyZSBzZXR0bGVkIGFuZCBwYXNzZWQgYXMgdmFsdWVzIChgdGhpc2AgaXMgYWxzbyBzZXR0bGVkIGFuZCBwYXNzZWRcbiAqIGFzIGEgdmFsdWUpLiAgSXQgd2lsbCBhbHNvIGVuc3VyZSB0aGF0IHRoZSByZXN1bHQgb2YgYSBmdW5jdGlvbiBpc1xuICogYWx3YXlzIGEgcHJvbWlzZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIGFkZCA9IFEucHJvbWlzZWQoZnVuY3Rpb24gKGEsIGIpIHtcbiAqICAgICByZXR1cm4gYSArIGI7XG4gKiB9KTtcbiAqIGFkZChRKGEpLCBRKEIpKTtcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gZGVjb3JhdGVcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gYSBmdW5jdGlvbiB0aGF0IGhhcyBiZWVuIGRlY29yYXRlZC5cbiAqL1xuUS5wcm9taXNlZCA9IHByb21pc2VkO1xuZnVuY3Rpb24gcHJvbWlzZWQoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3ByZWFkKFt0aGlzLCBhbGwoYXJndW1lbnRzKV0sIGZ1bmN0aW9uIChzZWxmLCBhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5cbi8qKlxuICogc2VuZHMgYSBtZXNzYWdlIHRvIGEgdmFsdWUgaW4gYSBmdXR1cmUgdHVyblxuICogQHBhcmFtIG9iamVjdCogdGhlIHJlY2lwaWVudFxuICogQHBhcmFtIG9wIHRoZSBuYW1lIG9mIHRoZSBtZXNzYWdlIG9wZXJhdGlvbiwgZS5nLiwgXCJ3aGVuXCIsXG4gKiBAcGFyYW0gYXJncyBmdXJ0aGVyIGFyZ3VtZW50cyB0byBiZSBmb3J3YXJkZWQgdG8gdGhlIG9wZXJhdGlvblxuICogQHJldHVybnMgcmVzdWx0IHtQcm9taXNlfSBhIHByb21pc2UgZm9yIHRoZSByZXN1bHQgb2YgdGhlIG9wZXJhdGlvblxuICovXG5RLmRpc3BhdGNoID0gZGlzcGF0Y2g7XG5mdW5jdGlvbiBkaXNwYXRjaChvYmplY3QsIG9wLCBhcmdzKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChvcCwgYXJncyk7XG59XG5cblByb21pc2UucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gKG9wLCBhcmdzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYucHJvbWlzZURpc3BhdGNoKGRlZmVycmVkLnJlc29sdmUsIG9wLCBhcmdzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgb2YgYSBwcm9wZXJ0eSBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSBuYW1lICAgICAgbmFtZSBvZiBwcm9wZXJ0eSB0byBnZXRcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHByb3BlcnR5IHZhbHVlXG4gKi9cblEuZ2V0ID0gZnVuY3Rpb24gKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcImdldFwiLCBba2V5XSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJnZXRcIiwgW2tleV0pO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3Igb2JqZWN0IG9iamVjdFxuICogQHBhcmFtIG5hbWUgICAgICBuYW1lIG9mIHByb3BlcnR5IHRvIHNldFxuICogQHBhcmFtIHZhbHVlICAgICBuZXcgdmFsdWUgb2YgcHJvcGVydHlcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxuICovXG5RLnNldCA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwic2V0XCIsIFtrZXksIHZhbHVlXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwic2V0XCIsIFtrZXksIHZhbHVlXSk7XG59O1xuXG4vKipcbiAqIERlbGV0ZXMgYSBwcm9wZXJ0eSBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSBuYW1lICAgICAgbmFtZSBvZiBwcm9wZXJ0eSB0byBkZWxldGVcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxuICovXG5RLmRlbCA9IC8vIFhYWCBsZWdhY3lcblFbXCJkZWxldGVcIl0gPSBmdW5jdGlvbiAob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwiZGVsZXRlXCIsIFtrZXldKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmRlbCA9IC8vIFhYWCBsZWdhY3lcblByb21pc2UucHJvdG90eXBlW1wiZGVsZXRlXCJdID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwiZGVsZXRlXCIsIFtrZXldKTtcbn07XG5cbi8qKlxuICogSW52b2tlcyBhIG1ldGhvZCBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSBuYW1lICAgICAgbmFtZSBvZiBtZXRob2QgdG8gaW52b2tlXG4gKiBAcGFyYW0gdmFsdWUgICAgIGEgdmFsdWUgdG8gcG9zdCwgdHlwaWNhbGx5IGFuIGFycmF5IG9mXG4gKiAgICAgICAgICAgICAgICAgIGludm9jYXRpb24gYXJndW1lbnRzIGZvciBwcm9taXNlcyB0aGF0XG4gKiAgICAgICAgICAgICAgICAgIGFyZSB1bHRpbWF0ZWx5IGJhY2tlZCB3aXRoIGByZXNvbHZlYCB2YWx1ZXMsXG4gKiAgICAgICAgICAgICAgICAgIGFzIG9wcG9zZWQgdG8gdGhvc2UgYmFja2VkIHdpdGggVVJMc1xuICogICAgICAgICAgICAgICAgICB3aGVyZWluIHRoZSBwb3N0ZWQgdmFsdWUgY2FuIGJlIGFueVxuICogICAgICAgICAgICAgICAgICBKU09OIHNlcmlhbGl6YWJsZSBvYmplY3QuXG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWVcbiAqL1xuLy8gYm91bmQgbG9jYWxseSBiZWNhdXNlIGl0IGlzIHVzZWQgYnkgb3RoZXIgbWV0aG9kc1xuUS5tYXBwbHkgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUS5wb3N0ID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSwgYXJncykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcmdzXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5tYXBwbHkgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUHJvbWlzZS5wcm90b3R5cGUucG9zdCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcmdzXSk7XG59O1xuXG4vKipcbiAqIEludm9rZXMgYSBtZXRob2QgaW4gYSBmdXR1cmUgdHVybi5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgb2JqZWN0XG4gKiBAcGFyYW0gbmFtZSAgICAgIG5hbWUgb2YgbWV0aG9kIHRvIGludm9rZVxuICogQHBhcmFtIC4uLmFyZ3MgICBhcnJheSBvZiBpbnZvY2F0aW9uIGFyZ3VtZW50c1xuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlXG4gKi9cblEuc2VuZCA9IC8vIFhYWCBNYXJrIE1pbGxlcidzIHByb3Bvc2VkIHBhcmxhbmNlXG5RLm1jYWxsID0gLy8gWFhYIEFzIHByb3Bvc2VkIGJ5IFwiUmVkc2FuZHJvXCJcblEuaW52b2tlID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSAvKi4uLmFyZ3MqLykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcnJheV9zbGljZShhcmd1bWVudHMsIDIpXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5zZW5kID0gLy8gWFhYIE1hcmsgTWlsbGVyJ3MgcHJvcG9zZWQgcGFybGFuY2VcblByb21pc2UucHJvdG90eXBlLm1jYWxsID0gLy8gWFhYIEFzIHByb3Bvc2VkIGJ5IFwiUmVkc2FuZHJvXCJcblByb21pc2UucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uIChuYW1lIC8qLi4uYXJncyovKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpXSk7XG59O1xuXG4vKipcbiAqIEFwcGxpZXMgdGhlIHByb21pc2VkIGZ1bmN0aW9uIGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IGZ1bmN0aW9uXG4gKiBAcGFyYW0gYXJncyAgICAgIGFycmF5IG9mIGFwcGxpY2F0aW9uIGFyZ3VtZW50c1xuICovXG5RLmZhcHBseSA9IGZ1bmN0aW9uIChvYmplY3QsIGFyZ3MpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwiYXBwbHlcIiwgW3ZvaWQgMCwgYXJnc10pO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmFwcGx5ID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwYXRjaChcImFwcGx5XCIsIFt2b2lkIDAsIGFyZ3NdKTtcbn07XG5cbi8qKlxuICogQ2FsbHMgdGhlIHByb21pc2VkIGZ1bmN0aW9uIGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IGZ1bmN0aW9uXG4gKiBAcGFyYW0gLi4uYXJncyAgIGFycmF5IG9mIGFwcGxpY2F0aW9uIGFyZ3VtZW50c1xuICovXG5RW1widHJ5XCJdID1cblEuZmNhbGwgPSBmdW5jdGlvbiAob2JqZWN0IC8qIC4uLmFyZ3MqLykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJhcHBseVwiLCBbdm9pZCAwLCBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5mY2FsbCA9IGZ1bmN0aW9uICgvKi4uLmFyZ3MqLykge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwiYXBwbHlcIiwgW3ZvaWQgMCwgYXJyYXlfc2xpY2UoYXJndW1lbnRzKV0pO1xufTtcblxuLyoqXG4gKiBCaW5kcyB0aGUgcHJvbWlzZWQgZnVuY3Rpb24sIHRyYW5zZm9ybWluZyByZXR1cm4gdmFsdWVzIGludG8gYSBmdWxmaWxsZWRcbiAqIHByb21pc2UgYW5kIHRocm93biBlcnJvcnMgaW50byBhIHJlamVjdGVkIG9uZS5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgZnVuY3Rpb25cbiAqIEBwYXJhbSAuLi5hcmdzICAgYXJyYXkgb2YgYXBwbGljYXRpb24gYXJndW1lbnRzXG4gKi9cblEuZmJpbmQgPSBmdW5jdGlvbiAob2JqZWN0IC8qLi4uYXJncyovKSB7XG4gICAgdmFyIHByb21pc2UgPSBRKG9iamVjdCk7XG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpO1xuICAgIHJldHVybiBmdW5jdGlvbiBmYm91bmQoKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLmRpc3BhdGNoKFwiYXBwbHlcIiwgW1xuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIGFyZ3MuY29uY2F0KGFycmF5X3NsaWNlKGFyZ3VtZW50cykpXG4gICAgICAgIF0pO1xuICAgIH07XG59O1xuUHJvbWlzZS5wcm90b3R5cGUuZmJpbmQgPSBmdW5jdGlvbiAoLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMpO1xuICAgIHJldHVybiBmdW5jdGlvbiBmYm91bmQoKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLmRpc3BhdGNoKFwiYXBwbHlcIiwgW1xuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIGFyZ3MuY29uY2F0KGFycmF5X3NsaWNlKGFyZ3VtZW50cykpXG4gICAgICAgIF0pO1xuICAgIH07XG59O1xuXG4vKipcbiAqIFJlcXVlc3RzIHRoZSBuYW1lcyBvZiB0aGUgb3duZWQgcHJvcGVydGllcyBvZiBhIHByb21pc2VkXG4gKiBvYmplY3QgaW4gYSBmdXR1cmUgdHVybi5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgb2JqZWN0XG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSBrZXlzIG9mIHRoZSBldmVudHVhbGx5IHNldHRsZWQgb2JqZWN0XG4gKi9cblEua2V5cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwia2V5c1wiLCBbXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwia2V5c1wiLCBbXSk7XG59O1xuXG4vKipcbiAqIFR1cm5zIGFuIGFycmF5IG9mIHByb21pc2VzIGludG8gYSBwcm9taXNlIGZvciBhbiBhcnJheS4gIElmIGFueSBvZlxuICogdGhlIHByb21pc2VzIGdldHMgcmVqZWN0ZWQsIHRoZSB3aG9sZSBhcnJheSBpcyByZWplY3RlZCBpbW1lZGlhdGVseS5cbiAqIEBwYXJhbSB7QXJyYXkqfSBhbiBhcnJheSAob3IgcHJvbWlzZSBmb3IgYW4gYXJyYXkpIG9mIHZhbHVlcyAob3JcbiAqIHByb21pc2VzIGZvciB2YWx1ZXMpXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIGFuIGFycmF5IG9mIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlc1xuICovXG4vLyBCeSBNYXJrIE1pbGxlclxuLy8gaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9c3RyYXdtYW46Y29uY3VycmVuY3kmcmV2PTEzMDg3NzY1MjEjYWxsZnVsZmlsbGVkXG5RLmFsbCA9IGFsbDtcbmZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICAgIHJldHVybiB3aGVuKHByb21pc2VzLCBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICAgICAgdmFyIHBlbmRpbmdDb3VudCA9IDA7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgICAgIGFycmF5X3JlZHVjZShwcm9taXNlcywgZnVuY3Rpb24gKHVuZGVmaW5lZCwgcHJvbWlzZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBzbmFwc2hvdDtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBpc1Byb21pc2UocHJvbWlzZSkgJiZcbiAgICAgICAgICAgICAgICAoc25hcHNob3QgPSBwcm9taXNlLmluc3BlY3QoKSkuc3RhdGUgPT09IFwiZnVsZmlsbGVkXCJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHByb21pc2VzW2luZGV4XSA9IHNuYXBzaG90LnZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICArK3BlbmRpbmdDb3VudDtcbiAgICAgICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0tcGVuZGluZ0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShwcm9taXNlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5ub3RpZnkoeyBpbmRleDogaW5kZXgsIHZhbHVlOiBwcm9ncmVzcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHZvaWQgMCk7XG4gICAgICAgIGlmIChwZW5kaW5nQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocHJvbWlzZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0pO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5hbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFsbCh0aGlzKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgcmVzb2x2ZWQgcHJvbWlzZSBvZiBhbiBhcnJheS4gUHJpb3IgcmVqZWN0ZWQgcHJvbWlzZXMgYXJlXG4gKiBpZ25vcmVkLiAgUmVqZWN0cyBvbmx5IGlmIGFsbCBwcm9taXNlcyBhcmUgcmVqZWN0ZWQuXG4gKiBAcGFyYW0ge0FycmF5Kn0gYW4gYXJyYXkgY29udGFpbmluZyB2YWx1ZXMgb3IgcHJvbWlzZXMgZm9yIHZhbHVlc1xuICogQHJldHVybnMgYSBwcm9taXNlIGZ1bGZpbGxlZCB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgcmVzb2x2ZWQgcHJvbWlzZSxcbiAqIG9yIGEgcmVqZWN0ZWQgcHJvbWlzZSBpZiBhbGwgcHJvbWlzZXMgYXJlIHJlamVjdGVkLlxuICovXG5RLmFueSA9IGFueTtcblxuZnVuY3Rpb24gYW55KHByb21pc2VzKSB7XG4gICAgaWYgKHByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gUS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgdmFyIGRlZmVycmVkID0gUS5kZWZlcigpO1xuICAgIHZhciBwZW5kaW5nQ291bnQgPSAwO1xuICAgIGFycmF5X3JlZHVjZShwcm9taXNlcywgZnVuY3Rpb24gKHByZXYsIGN1cnJlbnQsIGluZGV4KSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gcHJvbWlzZXNbaW5kZXhdO1xuXG4gICAgICAgIHBlbmRpbmdDb3VudCsrO1xuXG4gICAgICAgIHdoZW4ocHJvbWlzZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MpO1xuICAgICAgICBmdW5jdGlvbiBvbkZ1bGZpbGxlZChyZXN1bHQpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBvblJlamVjdGVkKCkge1xuICAgICAgICAgICAgcGVuZGluZ0NvdW50LS07XG4gICAgICAgICAgICBpZiAocGVuZGluZ0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJDYW4ndCBnZXQgZnVsZmlsbG1lbnQgdmFsdWUgZnJvbSBhbnkgcHJvbWlzZSwgYWxsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9taXNlcyB3ZXJlIHJlamVjdGVkLlwiXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gb25Qcm9ncmVzcyhwcm9ncmVzcykge1xuICAgICAgICAgICAgZGVmZXJyZWQubm90aWZ5KHtcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHByb2dyZXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHVuZGVmaW5lZCk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuYW55ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhbnkodGhpcyk7XG59O1xuXG4vKipcbiAqIFdhaXRzIGZvciBhbGwgcHJvbWlzZXMgdG8gYmUgc2V0dGxlZCwgZWl0aGVyIGZ1bGZpbGxlZCBvclxuICogcmVqZWN0ZWQuICBUaGlzIGlzIGRpc3RpbmN0IGZyb20gYGFsbGAgc2luY2UgdGhhdCB3b3VsZCBzdG9wXG4gKiB3YWl0aW5nIGF0IHRoZSBmaXJzdCByZWplY3Rpb24uICBUaGUgcHJvbWlzZSByZXR1cm5lZCBieVxuICogYGFsbFJlc29sdmVkYCB3aWxsIG5ldmVyIGJlIHJlamVjdGVkLlxuICogQHBhcmFtIHByb21pc2VzIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgKG9yIGFuIGFycmF5KSBvZiBwcm9taXNlc1xuICogKG9yIHZhbHVlcylcbiAqIEByZXR1cm4gYSBwcm9taXNlIGZvciBhbiBhcnJheSBvZiBwcm9taXNlc1xuICovXG5RLmFsbFJlc29sdmVkID0gZGVwcmVjYXRlKGFsbFJlc29sdmVkLCBcImFsbFJlc29sdmVkXCIsIFwiYWxsU2V0dGxlZFwiKTtcbmZ1bmN0aW9uIGFsbFJlc29sdmVkKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIHdoZW4ocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgICAgICBwcm9taXNlcyA9IGFycmF5X21hcChwcm9taXNlcywgUSk7XG4gICAgICAgIHJldHVybiB3aGVuKGFsbChhcnJheV9tYXAocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gd2hlbihwcm9taXNlLCBub29wLCBub29wKTtcbiAgICAgICAgfSkpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZXM7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5hbGxSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYWxsUmVzb2x2ZWQodGhpcyk7XG59O1xuXG4vKipcbiAqIEBzZWUgUHJvbWlzZSNhbGxTZXR0bGVkXG4gKi9cblEuYWxsU2V0dGxlZCA9IGFsbFNldHRsZWQ7XG5mdW5jdGlvbiBhbGxTZXR0bGVkKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIFEocHJvbWlzZXMpLmFsbFNldHRsZWQoKTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBhcnJheSBvZiBwcm9taXNlcyBpbnRvIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgb2YgdGhlaXIgc3RhdGVzIChhc1xuICogcmV0dXJuZWQgYnkgYGluc3BlY3RgKSB3aGVuIHRoZXkgaGF2ZSBhbGwgc2V0dGxlZC5cbiAqIEBwYXJhbSB7QXJyYXlbQW55Kl19IHZhbHVlcyBhbiBhcnJheSAob3IgcHJvbWlzZSBmb3IgYW4gYXJyYXkpIG9mIHZhbHVlcyAob3JcbiAqIHByb21pc2VzIGZvciB2YWx1ZXMpXG4gKiBAcmV0dXJucyB7QXJyYXlbU3RhdGVdfSBhbiBhcnJheSBvZiBzdGF0ZXMgZm9yIHRoZSByZXNwZWN0aXZlIHZhbHVlcy5cbiAqL1xuUHJvbWlzZS5wcm90b3R5cGUuYWxsU2V0dGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgICAgICByZXR1cm4gYWxsKGFycmF5X21hcChwcm9taXNlcywgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBRKHByb21pc2UpO1xuICAgICAgICAgICAgZnVuY3Rpb24gcmVnYXJkbGVzcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5pbnNwZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHJlZ2FyZGxlc3MsIHJlZ2FyZGxlc3MpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIENhcHR1cmVzIHRoZSBmYWlsdXJlIG9mIGEgcHJvbWlzZSwgZ2l2aW5nIGFuIG9wb3J0dW5pdHkgdG8gcmVjb3ZlclxuICogd2l0aCBhIGNhbGxiYWNrLiAgSWYgdGhlIGdpdmVuIHByb21pc2UgaXMgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWRcbiAqIHByb21pc2UgaXMgZnVsZmlsbGVkLlxuICogQHBhcmFtIHtBbnkqfSBwcm9taXNlIGZvciBzb21ldGhpbmdcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRvIGZ1bGZpbGwgdGhlIHJldHVybmVkIHByb21pc2UgaWYgdGhlXG4gKiBnaXZlbiBwcm9taXNlIGlzIHJlamVjdGVkXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGNhbGxiYWNrXG4gKi9cblEuZmFpbCA9IC8vIFhYWCBsZWdhY3lcblFbXCJjYXRjaFwiXSA9IGZ1bmN0aW9uIChvYmplY3QsIHJlamVjdGVkKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS50aGVuKHZvaWQgMCwgcmVqZWN0ZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmFpbCA9IC8vIFhYWCBsZWdhY3lcblByb21pc2UucHJvdG90eXBlW1wiY2F0Y2hcIl0gPSBmdW5jdGlvbiAocmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgcmVqZWN0ZWQpO1xufTtcblxuLyoqXG4gKiBBdHRhY2hlcyBhIGxpc3RlbmVyIHRoYXQgY2FuIHJlc3BvbmQgdG8gcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyBmcm9tIGFcbiAqIHByb21pc2UncyBvcmlnaW5hdGluZyBkZWZlcnJlZC4gVGhpcyBsaXN0ZW5lciByZWNlaXZlcyB0aGUgZXhhY3QgYXJndW1lbnRzXG4gKiBwYXNzZWQgdG8gYGBkZWZlcnJlZC5ub3RpZnlgYC5cbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZSBmb3Igc29tZXRoaW5nXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB0byByZWNlaXZlIGFueSBwcm9ncmVzcyBub3RpZmljYXRpb25zXG4gKiBAcmV0dXJucyB0aGUgZ2l2ZW4gcHJvbWlzZSwgdW5jaGFuZ2VkXG4gKi9cblEucHJvZ3Jlc3MgPSBwcm9ncmVzcztcbmZ1bmN0aW9uIHByb2dyZXNzKG9iamVjdCwgcHJvZ3Jlc3NlZCkge1xuICAgIHJldHVybiBRKG9iamVjdCkudGhlbih2b2lkIDAsIHZvaWQgMCwgcHJvZ3Jlc3NlZCk7XG59XG5cblByb21pc2UucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24gKHByb2dyZXNzZWQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgdm9pZCAwLCBwcm9ncmVzc2VkKTtcbn07XG5cbi8qKlxuICogUHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gb2JzZXJ2ZSB0aGUgc2V0dGxpbmcgb2YgYSBwcm9taXNlLFxuICogcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCBvciByZWplY3RlZC4gIEZvcndhcmRzXG4gKiB0aGUgcmVzb2x1dGlvbiB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aGVuIHRoZSBjYWxsYmFjayBpcyBkb25lLlxuICogVGhlIGNhbGxiYWNrIGNhbiByZXR1cm4gYSBwcm9taXNlIHRvIGRlZmVyIGNvbXBsZXRpb24uXG4gKiBAcGFyYW0ge0FueSp9IHByb21pc2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRvIG9ic2VydmUgdGhlIHJlc29sdXRpb24gb2YgdGhlIGdpdmVuXG4gKiBwcm9taXNlLCB0YWtlcyBubyBhcmd1bWVudHMuXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBnaXZlbiBwcm9taXNlIHdoZW5cbiAqIGBgZmluYGAgaXMgZG9uZS5cbiAqL1xuUS5maW4gPSAvLyBYWFggbGVnYWN5XG5RW1wiZmluYWxseVwiXSA9IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KVtcImZpbmFsbHlcIl0oY2FsbGJhY2spO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmluID0gLy8gWFhYIGxlZ2FjeVxuUHJvbWlzZS5wcm90b3R5cGVbXCJmaW5hbGx5XCJdID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sgPSBRKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suZmNhbGwoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAvLyBUT0RPIGF0dGVtcHQgdG8gcmVjeWNsZSB0aGUgcmVqZWN0aW9uIHdpdGggXCJ0aGlzXCIuXG4gICAgICAgIHJldHVybiBjYWxsYmFjay5mY2FsbCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogVGVybWluYXRlcyBhIGNoYWluIG9mIHByb21pc2VzLCBmb3JjaW5nIHJlamVjdGlvbnMgdG8gYmVcbiAqIHRocm93biBhcyBleGNlcHRpb25zLlxuICogQHBhcmFtIHtBbnkqfSBwcm9taXNlIGF0IHRoZSBlbmQgb2YgYSBjaGFpbiBvZiBwcm9taXNlc1xuICogQHJldHVybnMgbm90aGluZ1xuICovXG5RLmRvbmUgPSBmdW5jdGlvbiAob2JqZWN0LCBmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzcykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZG9uZShmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzcyk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5kb25lID0gZnVuY3Rpb24gKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzKSB7XG4gICAgdmFyIG9uVW5oYW5kbGVkRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgLy8gZm9yd2FyZCB0byBhIGZ1dHVyZSB0dXJuIHNvIHRoYXQgYGB3aGVuYGBcbiAgICAgICAgLy8gZG9lcyBub3QgY2F0Y2ggaXQgYW5kIHR1cm4gaXQgaW50byBhIHJlamVjdGlvbi5cbiAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBtYWtlU3RhY2tUcmFjZUxvbmcoZXJyb3IsIHByb21pc2UpO1xuICAgICAgICAgICAgaWYgKFEub25lcnJvcikge1xuICAgICAgICAgICAgICAgIFEub25lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gQXZvaWQgdW5uZWNlc3NhcnkgYG5leHRUaWNrYGluZyB2aWEgYW4gdW5uZWNlc3NhcnkgYHdoZW5gLlxuICAgIHZhciBwcm9taXNlID0gZnVsZmlsbGVkIHx8IHJlamVjdGVkIHx8IHByb2dyZXNzID9cbiAgICAgICAgdGhpcy50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzKSA6XG4gICAgICAgIHRoaXM7XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2VzcyAmJiBwcm9jZXNzLmRvbWFpbikge1xuICAgICAgICBvblVuaGFuZGxlZEVycm9yID0gcHJvY2Vzcy5kb21haW4uYmluZChvblVuaGFuZGxlZEVycm9yKTtcbiAgICB9XG5cbiAgICBwcm9taXNlLnRoZW4odm9pZCAwLCBvblVuaGFuZGxlZEVycm9yKTtcbn07XG5cbi8qKlxuICogQ2F1c2VzIGEgcHJvbWlzZSB0byBiZSByZWplY3RlZCBpZiBpdCBkb2VzIG5vdCBnZXQgZnVsZmlsbGVkIGJlZm9yZVxuICogc29tZSBtaWxsaXNlY29uZHMgdGltZSBvdXQuXG4gKiBAcGFyYW0ge0FueSp9IHByb21pc2VcbiAqIEBwYXJhbSB7TnVtYmVyfSBtaWxsaXNlY29uZHMgdGltZW91dFxuICogQHBhcmFtIHtBbnkqfSBjdXN0b20gZXJyb3IgbWVzc2FnZSBvciBFcnJvciBvYmplY3QgKG9wdGlvbmFsKVxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgZ2l2ZW4gcHJvbWlzZSBpZiBpdCBpc1xuICogZnVsZmlsbGVkIGJlZm9yZSB0aGUgdGltZW91dCwgb3RoZXJ3aXNlIHJlamVjdGVkLlxuICovXG5RLnRpbWVvdXQgPSBmdW5jdGlvbiAob2JqZWN0LCBtcywgZXJyb3IpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLnRpbWVvdXQobXMsIGVycm9yKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRpbWVvdXQgPSBmdW5jdGlvbiAobXMsIGVycm9yKSB7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICB2YXIgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghZXJyb3IgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVycm9yKSB7XG4gICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihlcnJvciB8fCBcIlRpbWVkIG91dCBhZnRlciBcIiArIG1zICsgXCIgbXNcIik7XG4gICAgICAgICAgICBlcnJvci5jb2RlID0gXCJFVElNRURPVVRcIjtcbiAgICAgICAgfVxuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuICAgIH0sIG1zKTtcblxuICAgIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUodmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChleGNlcHRpb24pO1xuICAgIH0sIGRlZmVycmVkLm5vdGlmeSk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSBnaXZlbiB2YWx1ZSAob3IgcHJvbWlzZWQgdmFsdWUpLCBzb21lXG4gKiBtaWxsaXNlY29uZHMgYWZ0ZXIgaXQgcmVzb2x2ZWQuIFBhc3NlcyByZWplY3Rpb25zIGltbWVkaWF0ZWx5LlxuICogQHBhcmFtIHtBbnkqfSBwcm9taXNlXG4gKiBAcGFyYW0ge051bWJlcn0gbWlsbGlzZWNvbmRzXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBnaXZlbiBwcm9taXNlIGFmdGVyIG1pbGxpc2Vjb25kc1xuICogdGltZSBoYXMgZWxhcHNlZCBzaW5jZSB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgZ2l2ZW4gcHJvbWlzZS5cbiAqIElmIHRoZSBnaXZlbiBwcm9taXNlIHJlamVjdHMsIHRoYXQgaXMgcGFzc2VkIGltbWVkaWF0ZWx5LlxuICovXG5RLmRlbGF5ID0gZnVuY3Rpb24gKG9iamVjdCwgdGltZW91dCkge1xuICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHtcbiAgICAgICAgdGltZW91dCA9IG9iamVjdDtcbiAgICAgICAgb2JqZWN0ID0gdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gUShvYmplY3QpLmRlbGF5KHRpbWVvdXQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZGVsYXkgPSBmdW5jdGlvbiAodGltZW91dCkge1xuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUGFzc2VzIGEgY29udGludWF0aW9uIHRvIGEgTm9kZSBmdW5jdGlvbiwgd2hpY2ggaXMgY2FsbGVkIHdpdGggdGhlIGdpdmVuXG4gKiBhcmd1bWVudHMgcHJvdmlkZWQgYXMgYW4gYXJyYXksIGFuZCByZXR1cm5zIGEgcHJvbWlzZS5cbiAqXG4gKiAgICAgIFEubmZhcHBseShGUy5yZWFkRmlsZSwgW19fZmlsZW5hbWVdKVxuICogICAgICAudGhlbihmdW5jdGlvbiAoY29udGVudCkge1xuICogICAgICB9KVxuICpcbiAqL1xuUS5uZmFwcGx5ID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBhcmdzKSB7XG4gICAgcmV0dXJuIFEoY2FsbGJhY2spLm5mYXBwbHkoYXJncyk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5uZmFwcGx5ID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIHZhciBub2RlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3MpO1xuICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICB0aGlzLmZhcHBseShub2RlQXJncykuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuLyoqXG4gKiBQYXNzZXMgYSBjb250aW51YXRpb24gdG8gYSBOb2RlIGZ1bmN0aW9uLCB3aGljaCBpcyBjYWxsZWQgd2l0aCB0aGUgZ2l2ZW5cbiAqIGFyZ3VtZW50cyBwcm92aWRlZCBpbmRpdmlkdWFsbHksIGFuZCByZXR1cm5zIGEgcHJvbWlzZS5cbiAqIEBleGFtcGxlXG4gKiBRLm5mY2FsbChGUy5yZWFkRmlsZSwgX19maWxlbmFtZSlcbiAqIC50aGVuKGZ1bmN0aW9uIChjb250ZW50KSB7XG4gKiB9KVxuICpcbiAqL1xuUS5uZmNhbGwgPSBmdW5jdGlvbiAoY2FsbGJhY2sgLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSk7XG4gICAgcmV0dXJuIFEoY2FsbGJhY2spLm5mYXBwbHkoYXJncyk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5uZmNhbGwgPSBmdW5jdGlvbiAoLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgbm9kZUFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMpO1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgbm9kZUFyZ3MucHVzaChkZWZlcnJlZC5tYWtlTm9kZVJlc29sdmVyKCkpO1xuICAgIHRoaXMuZmFwcGx5KG5vZGVBcmdzKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59O1xuXG4vKipcbiAqIFdyYXBzIGEgTm9kZUpTIGNvbnRpbnVhdGlvbiBwYXNzaW5nIGZ1bmN0aW9uIGFuZCByZXR1cm5zIGFuIGVxdWl2YWxlbnRcbiAqIHZlcnNpb24gdGhhdCByZXR1cm5zIGEgcHJvbWlzZS5cbiAqIEBleGFtcGxlXG4gKiBRLm5mYmluZChGUy5yZWFkRmlsZSwgX19maWxlbmFtZSkoXCJ1dGYtOFwiKVxuICogLnRoZW4oY29uc29sZS5sb2cpXG4gKiAuZG9uZSgpXG4gKi9cblEubmZiaW5kID1cblEuZGVub2RlaWZ5ID0gZnVuY3Rpb24gKGNhbGxiYWNrIC8qLi4uYXJncyovKSB7XG4gICAgdmFyIGJhc2VBcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAxKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZUFyZ3MgPSBiYXNlQXJncy5jb25jYXQoYXJyYXlfc2xpY2UoYXJndW1lbnRzKSk7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICAgICAgUShjYWxsYmFjaykuZmFwcGx5KG5vZGVBcmdzKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5uZmJpbmQgPVxuUHJvbWlzZS5wcm90b3R5cGUuZGVub2RlaWZ5ID0gZnVuY3Rpb24gKC8qLi4uYXJncyovKSB7XG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMpO1xuICAgIGFyZ3MudW5zaGlmdCh0aGlzKTtcbiAgICByZXR1cm4gUS5kZW5vZGVpZnkuYXBwbHkodm9pZCAwLCBhcmdzKTtcbn07XG5cblEubmJpbmQgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNwIC8qLi4uYXJncyovKSB7XG4gICAgdmFyIGJhc2VBcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAyKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZUFyZ3MgPSBiYXNlQXJncy5jb25jYXQoYXJyYXlfc2xpY2UoYXJndW1lbnRzKSk7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICAgICAgZnVuY3Rpb24gYm91bmQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpc3AsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgUShib3VuZCkuZmFwcGx5KG5vZGVBcmdzKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5uYmluZCA9IGZ1bmN0aW9uICgvKnRoaXNwLCAuLi5hcmdzKi8pIHtcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMCk7XG4gICAgYXJncy51bnNoaWZ0KHRoaXMpO1xuICAgIHJldHVybiBRLm5iaW5kLmFwcGx5KHZvaWQgMCwgYXJncyk7XG59O1xuXG4vKipcbiAqIENhbGxzIGEgbWV0aG9kIG9mIGEgTm9kZS1zdHlsZSBvYmplY3QgdGhhdCBhY2NlcHRzIGEgTm9kZS1zdHlsZVxuICogY2FsbGJhY2sgd2l0aCBhIGdpdmVuIGFycmF5IG9mIGFyZ3VtZW50cywgcGx1cyBhIHByb3ZpZGVkIGNhbGxiYWNrLlxuICogQHBhcmFtIG9iamVjdCBhbiBvYmplY3QgdGhhdCBoYXMgdGhlIG5hbWVkIG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgbWV0aG9kIG9mIG9iamVjdFxuICogQHBhcmFtIHtBcnJheX0gYXJncyBhcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgbWV0aG9kOyB0aGUgY2FsbGJhY2tcbiAqIHdpbGwgYmUgcHJvdmlkZWQgYnkgUSBhbmQgYXBwZW5kZWQgdG8gdGhlc2UgYXJndW1lbnRzLlxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgdmFsdWUgb3IgZXJyb3JcbiAqL1xuUS5ubWFwcGx5ID0gLy8gWFhYIEFzIHByb3Bvc2VkIGJ5IFwiUmVkc2FuZHJvXCJcblEubnBvc3QgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lLCBhcmdzKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5ucG9zdChuYW1lLCBhcmdzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLm5tYXBwbHkgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUHJvbWlzZS5wcm90b3R5cGUubnBvc3QgPSBmdW5jdGlvbiAobmFtZSwgYXJncykge1xuICAgIHZhciBub2RlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3MgfHwgW10pO1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgbm9kZUFyZ3MucHVzaChkZWZlcnJlZC5tYWtlTm9kZVJlc29sdmVyKCkpO1xuICAgIHRoaXMuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBub2RlQXJnc10pLmZhaWwoZGVmZXJyZWQucmVqZWN0KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogQ2FsbHMgYSBtZXRob2Qgb2YgYSBOb2RlLXN0eWxlIG9iamVjdCB0aGF0IGFjY2VwdHMgYSBOb2RlLXN0eWxlXG4gKiBjYWxsYmFjaywgZm9yd2FyZGluZyB0aGUgZ2l2ZW4gdmFyaWFkaWMgYXJndW1lbnRzLCBwbHVzIGEgcHJvdmlkZWRcbiAqIGNhbGxiYWNrIGFyZ3VtZW50LlxuICogQHBhcmFtIG9iamVjdCBhbiBvYmplY3QgdGhhdCBoYXMgdGhlIG5hbWVkIG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgbWV0aG9kIG9mIG9iamVjdFxuICogQHBhcmFtIC4uLmFyZ3MgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIG1ldGhvZDsgdGhlIGNhbGxiYWNrIHdpbGxcbiAqIGJlIHByb3ZpZGVkIGJ5IFEgYW5kIGFwcGVuZGVkIHRvIHRoZXNlIGFyZ3VtZW50cy5cbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9yIGVycm9yXG4gKi9cblEubnNlbmQgPSAvLyBYWFggQmFzZWQgb24gTWFyayBNaWxsZXIncyBwcm9wb3NlZCBcInNlbmRcIlxuUS5ubWNhbGwgPSAvLyBYWFggQmFzZWQgb24gXCJSZWRzYW5kcm8nc1wiIHByb3Bvc2FsXG5RLm5pbnZva2UgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lIC8qLi4uYXJncyovKSB7XG4gICAgdmFyIG5vZGVBcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAyKTtcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICBRKG9iamVjdCkuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBub2RlQXJnc10pLmZhaWwoZGVmZXJyZWQucmVqZWN0KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLm5zZW5kID0gLy8gWFhYIEJhc2VkIG9uIE1hcmsgTWlsbGVyJ3MgcHJvcG9zZWQgXCJzZW5kXCJcblByb21pc2UucHJvdG90eXBlLm5tY2FsbCA9IC8vIFhYWCBCYXNlZCBvbiBcIlJlZHNhbmRybydzXCIgcHJvcG9zYWxcblByb21pc2UucHJvdG90eXBlLm5pbnZva2UgPSBmdW5jdGlvbiAobmFtZSAvKi4uLmFyZ3MqLykge1xuICAgIHZhciBub2RlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSk7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XG4gICAgdGhpcy5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIG5vZGVBcmdzXSkuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuLyoqXG4gKiBJZiBhIGZ1bmN0aW9uIHdvdWxkIGxpa2UgdG8gc3VwcG9ydCBib3RoIE5vZGUgY29udGludWF0aW9uLXBhc3Npbmctc3R5bGUgYW5kXG4gKiBwcm9taXNlLXJldHVybmluZy1zdHlsZSwgaXQgY2FuIGVuZCBpdHMgaW50ZXJuYWwgcHJvbWlzZSBjaGFpbiB3aXRoXG4gKiBgbm9kZWlmeShub2RlYmFjaylgLCBmb3J3YXJkaW5nIHRoZSBvcHRpb25hbCBub2RlYmFjayBhcmd1bWVudC4gIElmIHRoZSB1c2VyXG4gKiBlbGVjdHMgdG8gdXNlIGEgbm9kZWJhY2ssIHRoZSByZXN1bHQgd2lsbCBiZSBzZW50IHRoZXJlLiAgSWYgdGhleSBkbyBub3RcbiAqIHBhc3MgYSBub2RlYmFjaywgdGhleSB3aWxsIHJlY2VpdmUgdGhlIHJlc3VsdCBwcm9taXNlLlxuICogQHBhcmFtIG9iamVjdCBhIHJlc3VsdCAob3IgYSBwcm9taXNlIGZvciBhIHJlc3VsdClcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG5vZGViYWNrIGEgTm9kZS5qcy1zdHlsZSBjYWxsYmFja1xuICogQHJldHVybnMgZWl0aGVyIHRoZSBwcm9taXNlIG9yIG5vdGhpbmdcbiAqL1xuUS5ub2RlaWZ5ID0gbm9kZWlmeTtcbmZ1bmN0aW9uIG5vZGVpZnkob2JqZWN0LCBub2RlYmFjaykge1xuICAgIHJldHVybiBRKG9iamVjdCkubm9kZWlmeShub2RlYmFjayk7XG59XG5cblByb21pc2UucHJvdG90eXBlLm5vZGVpZnkgPSBmdW5jdGlvbiAobm9kZWJhY2spIHtcbiAgICBpZiAobm9kZWJhY2spIHtcbiAgICAgICAgdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbm9kZWJhY2sobnVsbCwgdmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbm9kZWJhY2soZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn07XG5cblEubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlEubm9Db25mbGljdCBvbmx5IHdvcmtzIHdoZW4gUSBpcyB1c2VkIGFzIGEgZ2xvYmFsXCIpO1xufTtcblxuLy8gQWxsIGNvZGUgYmVmb3JlIHRoaXMgcG9pbnQgd2lsbCBiZSBmaWx0ZXJlZCBmcm9tIHN0YWNrIHRyYWNlcy5cbnZhciBxRW5kaW5nTGluZSA9IGNhcHR1cmVMaW5lKCk7XG5cbnJldHVybiBRO1xuXG59KTtcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpXG59LHtcIl9wcm9jZXNzXCI6OX1dLDEzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vICAgICBVbmRlcnNjb3JlLmpzIDEuOC4zXG4vLyAgICAgaHR0cDovL3VuZGVyc2NvcmVqcy5vcmdcbi8vICAgICAoYykgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4vLyAgICAgVW5kZXJzY29yZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8vIEJhc2VsaW5lIHNldHVwXG4gIC8vIC0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRXN0YWJsaXNoIHRoZSByb290IG9iamVjdCwgYHdpbmRvd2AgaW4gdGhlIGJyb3dzZXIsIG9yIGBleHBvcnRzYCBvbiB0aGUgc2VydmVyLlxuICB2YXIgcm9vdCA9IHRoaXM7XG5cbiAgLy8gU2F2ZSB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGhlIGBfYCB2YXJpYWJsZS5cbiAgdmFyIHByZXZpb3VzVW5kZXJzY29yZSA9IHJvb3QuXztcblxuICAvLyBTYXZlIGJ5dGVzIGluIHRoZSBtaW5pZmllZCAoYnV0IG5vdCBnemlwcGVkKSB2ZXJzaW9uOlxuICB2YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSwgT2JqUHJvdG8gPSBPYmplY3QucHJvdG90eXBlLCBGdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbiAgLy8gQ3JlYXRlIHF1aWNrIHJlZmVyZW5jZSB2YXJpYWJsZXMgZm9yIHNwZWVkIGFjY2VzcyB0byBjb3JlIHByb3RvdHlwZXMuXG4gIHZhclxuICAgIHB1c2ggICAgICAgICAgICAgPSBBcnJheVByb3RvLnB1c2gsXG4gICAgc2xpY2UgICAgICAgICAgICA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgdG9TdHJpbmcgICAgICAgICA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgIGhhc093blByb3BlcnR5ICAgPSBPYmpQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAvLyBBbGwgKipFQ01BU2NyaXB0IDUqKiBuYXRpdmUgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zIHRoYXQgd2UgaG9wZSB0byB1c2VcbiAgLy8gYXJlIGRlY2xhcmVkIGhlcmUuXG4gIHZhclxuICAgIG5hdGl2ZUlzQXJyYXkgICAgICA9IEFycmF5LmlzQXJyYXksXG4gICAgbmF0aXZlS2V5cyAgICAgICAgID0gT2JqZWN0LmtleXMsXG4gICAgbmF0aXZlQmluZCAgICAgICAgID0gRnVuY1Byb3RvLmJpbmQsXG4gICAgbmF0aXZlQ3JlYXRlICAgICAgID0gT2JqZWN0LmNyZWF0ZTtcblxuICAvLyBOYWtlZCBmdW5jdGlvbiByZWZlcmVuY2UgZm9yIHN1cnJvZ2F0ZS1wcm90b3R5cGUtc3dhcHBpbmcuXG4gIHZhciBDdG9yID0gZnVuY3Rpb24oKXt9O1xuXG4gIC8vIENyZWF0ZSBhIHNhZmUgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgdXNlIGJlbG93LlxuICB2YXIgXyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBfKSByZXR1cm4gb2JqO1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBfKSkgcmV0dXJuIG5ldyBfKG9iaik7XG4gICAgdGhpcy5fd3JhcHBlZCA9IG9iajtcbiAgfTtcblxuICAvLyBFeHBvcnQgdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciAqKk5vZGUuanMqKiwgd2l0aFxuICAvLyBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSBmb3IgdGhlIG9sZCBgcmVxdWlyZSgpYCBBUEkuIElmIHdlJ3JlIGluXG4gIC8vIHRoZSBicm93c2VyLCBhZGQgYF9gIGFzIGEgZ2xvYmFsIG9iamVjdC5cbiAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gXztcbiAgICB9XG4gICAgZXhwb3J0cy5fID0gXztcbiAgfSBlbHNlIHtcbiAgICByb290Ll8gPSBfO1xuICB9XG5cbiAgLy8gQ3VycmVudCB2ZXJzaW9uLlxuICBfLlZFUlNJT04gPSAnMS44LjMnO1xuXG4gIC8vIEludGVybmFsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBlZmZpY2llbnQgKGZvciBjdXJyZW50IGVuZ2luZXMpIHZlcnNpb25cbiAgLy8gb2YgdGhlIHBhc3NlZC1pbiBjYWxsYmFjaywgdG8gYmUgcmVwZWF0ZWRseSBhcHBsaWVkIGluIG90aGVyIFVuZGVyc2NvcmVcbiAgLy8gZnVuY3Rpb25zLlxuICB2YXIgb3B0aW1pemVDYiA9IGZ1bmN0aW9uKGZ1bmMsIGNvbnRleHQsIGFyZ0NvdW50KSB7XG4gICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgcmV0dXJuIGZ1bmM7XG4gICAgc3dpdGNoIChhcmdDb3VudCA9PSBudWxsID8gMyA6IGFyZ0NvdW50KSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgICAgY2FzZSA0OiByZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEEgbW9zdGx5LWludGVybmFsIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGNhbGxiYWNrcyB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gIC8vIHRvIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24sIHJldHVybmluZyB0aGUgZGVzaXJlZCByZXN1bHQg4oCUIGVpdGhlclxuICAvLyBpZGVudGl0eSwgYW4gYXJiaXRyYXJ5IGNhbGxiYWNrLCBhIHByb3BlcnR5IG1hdGNoZXIsIG9yIGEgcHJvcGVydHkgYWNjZXNzb3IuXG4gIHZhciBjYiA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gXy5pZGVudGl0eTtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKHZhbHVlKSkgcmV0dXJuIG9wdGltaXplQ2IodmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KTtcbiAgICBpZiAoXy5pc09iamVjdCh2YWx1ZSkpIHJldHVybiBfLm1hdGNoZXIodmFsdWUpO1xuICAgIHJldHVybiBfLnByb3BlcnR5KHZhbHVlKTtcbiAgfTtcbiAgXy5pdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGNiKHZhbHVlLCBjb250ZXh0LCBJbmZpbml0eSk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGFzc2lnbmVyIGZ1bmN0aW9ucy5cbiAgdmFyIGNyZWF0ZUFzc2lnbmVyID0gZnVuY3Rpb24oa2V5c0Z1bmMsIHVuZGVmaW5lZE9ubHkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyIHx8IG9iaiA9PSBudWxsKSByZXR1cm4gb2JqO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XSxcbiAgICAgICAgICAgIGtleXMgPSBrZXlzRnVuYyhzb3VyY2UpLFxuICAgICAgICAgICAgbCA9IGtleXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmICghdW5kZWZpbmVkT25seSB8fCBvYmpba2V5XSA9PT0gdm9pZCAwKSBvYmpba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgbmV3IG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gYW5vdGhlci5cbiAgdmFyIGJhc2VDcmVhdGUgPSBmdW5jdGlvbihwcm90b3R5cGUpIHtcbiAgICBpZiAoIV8uaXNPYmplY3QocHJvdG90eXBlKSkgcmV0dXJuIHt9O1xuICAgIGlmIChuYXRpdmVDcmVhdGUpIHJldHVybiBuYXRpdmVDcmVhdGUocHJvdG90eXBlKTtcbiAgICBDdG9yLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEN0b3I7XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBudWxsO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIHByb3BlcnR5ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiA9PSBudWxsID8gdm9pZCAwIDogb2JqW2tleV07XG4gICAgfTtcbiAgfTtcblxuICAvLyBIZWxwZXIgZm9yIGNvbGxlY3Rpb24gbWV0aG9kcyB0byBkZXRlcm1pbmUgd2hldGhlciBhIGNvbGxlY3Rpb25cbiAgLy8gc2hvdWxkIGJlIGl0ZXJhdGVkIGFzIGFuIGFycmF5IG9yIGFzIGFuIG9iamVjdFxuICAvLyBSZWxhdGVkOiBodHRwOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuICAvLyBBdm9pZHMgYSB2ZXJ5IG5hc3R5IGlPUyA4IEpJVCBidWcgb24gQVJNLTY0LiAjMjA5NFxuICB2YXIgTUFYX0FSUkFZX0lOREVYID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcbiAgdmFyIGdldExlbmd0aCA9IHByb3BlcnR5KCdsZW5ndGgnKTtcbiAgdmFyIGlzQXJyYXlMaWtlID0gZnVuY3Rpb24oY29sbGVjdGlvbikge1xuICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoY29sbGVjdGlvbik7XG4gICAgcmV0dXJuIHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgJiYgbGVuZ3RoID49IDAgJiYgbGVuZ3RoIDw9IE1BWF9BUlJBWV9JTkRFWDtcbiAgfTtcblxuICAvLyBDb2xsZWN0aW9uIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFRoZSBjb3JuZXJzdG9uZSwgYW4gYGVhY2hgIGltcGxlbWVudGF0aW9uLCBha2EgYGZvckVhY2hgLlxuICAvLyBIYW5kbGVzIHJhdyBvYmplY3RzIGluIGFkZGl0aW9uIHRvIGFycmF5LWxpa2VzLiBUcmVhdHMgYWxsXG4gIC8vIHNwYXJzZSBhcnJheS1saWtlcyBhcyBpZiB0aGV5IHdlcmUgZGVuc2UuXG4gIF8uZWFjaCA9IF8uZm9yRWFjaCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBpLCBsZW5ndGg7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHtcbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpbaV0sIGksIG9iaik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdGVlKG9ialtrZXlzW2ldXSwga2V5c1tpXSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudC5cbiAgXy5tYXAgPSBfLmNvbGxlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdHMgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICByZXN1bHRzW2luZGV4XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgcmVkdWNpbmcgZnVuY3Rpb24gaXRlcmF0aW5nIGxlZnQgb3IgcmlnaHQuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJlZHVjZShkaXIpIHtcbiAgICAvLyBPcHRpbWl6ZWQgaXRlcmF0b3IgZnVuY3Rpb24gYXMgdXNpbmcgYXJndW1lbnRzLmxlbmd0aFxuICAgIC8vIGluIHRoZSBtYWluIGZ1bmN0aW9uIHdpbGwgZGVvcHRpbWl6ZSB0aGUsIHNlZSAjMTk5MS5cbiAgICBmdW5jdGlvbiBpdGVyYXRvcihvYmosIGl0ZXJhdGVlLCBtZW1vLCBrZXlzLCBpbmRleCwgbGVuZ3RoKSB7XG4gICAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICAgIG1lbW8gPSBpdGVyYXRlZShtZW1vLCBvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0LCA0KTtcbiAgICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIGluaXRpYWwgdmFsdWUgaWYgbm9uZSBpcyBwcm92aWRlZC5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgICAgICBtZW1vID0gb2JqW2tleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4XTtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGtleXMsIGluZGV4LCBsZW5ndGgpO1xuICAgIH07XG4gIH1cblxuICAvLyAqKlJlZHVjZSoqIGJ1aWxkcyB1cCBhIHNpbmdsZSByZXN1bHQgZnJvbSBhIGxpc3Qgb2YgdmFsdWVzLCBha2EgYGluamVjdGAsXG4gIC8vIG9yIGBmb2xkbGAuXG4gIF8ucmVkdWNlID0gXy5mb2xkbCA9IF8uaW5qZWN0ID0gY3JlYXRlUmVkdWNlKDEpO1xuXG4gIC8vIFRoZSByaWdodC1hc3NvY2lhdGl2ZSB2ZXJzaW9uIG9mIHJlZHVjZSwgYWxzbyBrbm93biBhcyBgZm9sZHJgLlxuICBfLnJlZHVjZVJpZ2h0ID0gXy5mb2xkciA9IGNyZWF0ZVJlZHVjZSgtMSk7XG5cbiAgLy8gUmV0dXJuIHRoZSBmaXJzdCB2YWx1ZSB3aGljaCBwYXNzZXMgYSB0cnV0aCB0ZXN0LiBBbGlhc2VkIGFzIGBkZXRlY3RgLlxuICBfLmZpbmQgPSBfLmRldGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIGtleTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAga2V5ID0gXy5maW5kSW5kZXgob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBfLmZpbmRLZXkob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoa2V5ICE9PSB2b2lkIDAgJiYga2V5ICE9PSAtMSkgcmV0dXJuIG9ialtrZXldO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIHRoYXQgcGFzcyBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYHNlbGVjdGAuXG4gIF8uZmlsdGVyID0gXy5zZWxlY3QgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBsaXN0KSkgcmVzdWx0cy5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBmb3Igd2hpY2ggYSB0cnV0aCB0ZXN0IGZhaWxzLlxuICBfLnJlamVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKG9iaiwgXy5uZWdhdGUoY2IocHJlZGljYXRlKSksIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGFsbCBvZiB0aGUgZWxlbWVudHMgbWF0Y2ggYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbGxgLlxuICBfLmV2ZXJ5ID0gXy5hbGwgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmICghcHJlZGljYXRlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgYXQgbGVhc3Qgb25lIGVsZW1lbnQgaW4gdGhlIG9iamVjdCBtYXRjaGVzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgYW55YC5cbiAgXy5zb21lID0gXy5hbnkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmIChwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiB0aGUgYXJyYXkgb3Igb2JqZWN0IGNvbnRhaW5zIGEgZ2l2ZW4gaXRlbSAodXNpbmcgYD09PWApLlxuICAvLyBBbGlhc2VkIGFzIGBpbmNsdWRlc2AgYW5kIGBpbmNsdWRlYC5cbiAgXy5jb250YWlucyA9IF8uaW5jbHVkZXMgPSBfLmluY2x1ZGUgPSBmdW5jdGlvbihvYmosIGl0ZW0sIGZyb21JbmRleCwgZ3VhcmQpIHtcbiAgICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IF8udmFsdWVzKG9iaik7XG4gICAgaWYgKHR5cGVvZiBmcm9tSW5kZXggIT0gJ251bWJlcicgfHwgZ3VhcmQpIGZyb21JbmRleCA9IDA7XG4gICAgcmV0dXJuIF8uaW5kZXhPZihvYmosIGl0ZW0sIGZyb21JbmRleCkgPj0gMDtcbiAgfTtcblxuICAvLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbiAgXy5pbnZva2UgPSBmdW5jdGlvbihvYmosIG1ldGhvZCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHZhciBpc0Z1bmMgPSBfLmlzRnVuY3Rpb24obWV0aG9kKTtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0Z1bmMgPyBtZXRob2QgOiB2YWx1ZVttZXRob2RdO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IGZ1bmMgOiBmdW5jLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBtYXBgOiBmZXRjaGluZyBhIHByb3BlcnR5LlxuICBfLnBsdWNrID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBfLnByb3BlcnR5KGtleSkpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbHRlcmA6IHNlbGVjdGluZyBvbmx5IG9iamVjdHNcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy53aGVyZSA9IGZ1bmN0aW9uKG9iaiwgYXR0cnMpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm1hdGNoZXIoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaW5kYDogZ2V0dGluZyB0aGUgZmlyc3Qgb2JqZWN0XG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uZmluZFdoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbmQob2JqLCBfLm1hdGNoZXIoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1heGltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIF8ubWF4ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSAtSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IC1JbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSA+IHJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkID4gbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSAtSW5maW5pdHkgJiYgcmVzdWx0ID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtaW5pbXVtIGVsZW1lbnQgKG9yIGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICBfLm1pbiA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0gSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IEluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlIDwgcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPCBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IEluZmluaXR5ICYmIHJlc3VsdCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhIGNvbGxlY3Rpb24sIHVzaW5nIHRoZSBtb2Rlcm4gdmVyc2lvbiBvZiB0aGVcbiAgLy8gW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlcuKAk1lhdGVzX3NodWZmbGUpLlxuICBfLnNodWZmbGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgc2V0ID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IHNldC5sZW5ndGg7XG4gICAgdmFyIHNodWZmbGVkID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDAsIHJhbmQ7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByYW5kID0gXy5yYW5kb20oMCwgaW5kZXgpO1xuICAgICAgaWYgKHJhbmQgIT09IGluZGV4KSBzaHVmZmxlZFtpbmRleF0gPSBzaHVmZmxlZFtyYW5kXTtcbiAgICAgIHNodWZmbGVkW3JhbmRdID0gc2V0W2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHNodWZmbGVkO1xuICB9O1xuXG4gIC8vIFNhbXBsZSAqKm4qKiByYW5kb20gdmFsdWVzIGZyb20gYSBjb2xsZWN0aW9uLlxuICAvLyBJZiAqKm4qKiBpcyBub3Qgc3BlY2lmaWVkLCByZXR1cm5zIGEgc2luZ2xlIHJhbmRvbSBlbGVtZW50LlxuICAvLyBUaGUgaW50ZXJuYWwgYGd1YXJkYCBhcmd1bWVudCBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBtYXBgLlxuICBfLnNhbXBsZSA9IGZ1bmN0aW9uKG9iaiwgbiwgZ3VhcmQpIHtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSB7XG4gICAgICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IF8udmFsdWVzKG9iaik7XG4gICAgICByZXR1cm4gb2JqW18ucmFuZG9tKG9iai5sZW5ndGggLSAxKV07XG4gICAgfVxuICAgIHJldHVybiBfLnNodWZmbGUob2JqKS5zbGljZSgwLCBNYXRoLm1heCgwLCBuKSk7XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdGVlLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICByZXR1cm4gXy5wbHVjayhfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGNyaXRlcmlhOiBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihiZWhhdmlvcikge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgICB2YXIga2V5ID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBvYmopO1xuICAgICAgICBiZWhhdmlvcihyZXN1bHQsIHZhbHVlLCBrZXkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuICAvLyB0byBncm91cCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGNyaXRlcmlvbi5cbiAgXy5ncm91cEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKF8uaGFzKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7IGVsc2UgcmVzdWx0W2tleV0gPSBbdmFsdWVdO1xuICB9KTtcblxuICAvLyBJbmRleGVzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24sIHNpbWlsYXIgdG8gYGdyb3VwQnlgLCBidXQgZm9yXG4gIC8vIHdoZW4geW91IGtub3cgdGhhdCB5b3VyIGluZGV4IHZhbHVlcyB3aWxsIGJlIHVuaXF1ZS5cbiAgXy5pbmRleEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgLy8gQ291bnRzIGluc3RhbmNlcyBvZiBhbiBvYmplY3QgdGhhdCBncm91cCBieSBhIGNlcnRhaW4gY3JpdGVyaW9uLiBQYXNzXG4gIC8vIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGUgdG8gY291bnQgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZVxuICAvLyBjcml0ZXJpb24uXG4gIF8uY291bnRCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChfLmhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xuICB9KTtcblxuICAvLyBTYWZlbHkgY3JlYXRlIGEgcmVhbCwgbGl2ZSBhcnJheSBmcm9tIGFueXRoaW5nIGl0ZXJhYmxlLlxuICBfLnRvQXJyYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIW9iaikgcmV0dXJuIFtdO1xuICAgIGlmIChfLmlzQXJyYXkob2JqKSkgcmV0dXJuIHNsaWNlLmNhbGwob2JqKTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkgcmV0dXJuIF8ubWFwKG9iaiwgXy5pZGVudGl0eSk7XG4gICAgcmV0dXJuIF8udmFsdWVzKG9iaik7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gb2JqZWN0LlxuICBfLnNpemUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiAwO1xuICAgIHJldHVybiBpc0FycmF5TGlrZShvYmopID8gb2JqLmxlbmd0aCA6IF8ua2V5cyhvYmopLmxlbmd0aDtcbiAgfTtcblxuICAvLyBTcGxpdCBhIGNvbGxlY3Rpb24gaW50byB0d28gYXJyYXlzOiBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIHNhdGlzZnkgdGhlIGdpdmVuXG4gIC8vIHByZWRpY2F0ZSwgYW5kIG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgZG8gbm90IHNhdGlzZnkgdGhlIHByZWRpY2F0ZS5cbiAgXy5wYXJ0aXRpb24gPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIHBhc3MgPSBbXSwgZmFpbCA9IFtdO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iaikge1xuICAgICAgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBvYmopID8gcGFzcyA6IGZhaWwpLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBbcGFzcywgZmFpbF07XG4gIH07XG5cbiAgLy8gQXJyYXkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEdldCB0aGUgZmlyc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgZmlyc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBBbGlhc2VkIGFzIGBoZWFkYCBhbmQgYHRha2VgLiBUaGUgKipndWFyZCoqIGNoZWNrXG4gIC8vIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5maXJzdCA9IF8uaGVhZCA9IF8udGFrZSA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgICByZXR1cm4gXy5pbml0aWFsKGFycmF5LCBhcnJheS5sZW5ndGggLSBuKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbiAgLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbiAgLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi5cbiAgXy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIChuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbikpKTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ubGFzdCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gXy5yZXN0KGFycmF5LCBNYXRoLm1heCgwLCBhcnJheS5sZW5ndGggLSBuKSk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIGFycmF5LiBBbGlhc2VkIGFzIGB0YWlsYCBhbmQgYGRyb3BgLlxuICAvLyBFc3BlY2lhbGx5IHVzZWZ1bCBvbiB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyBhbiAqKm4qKiB3aWxsIHJldHVyblxuICAvLyB0aGUgcmVzdCBOIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ucmVzdCA9IF8udGFpbCA9IF8uZHJvcCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCBuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbik7XG4gIH07XG5cbiAgLy8gVHJpbSBvdXQgYWxsIGZhbHN5IHZhbHVlcyBmcm9tIGFuIGFycmF5LlxuICBfLmNvbXBhY3QgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgXy5pZGVudGl0eSk7XG4gIH07XG5cbiAgLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgYSByZWN1cnNpdmUgYGZsYXR0ZW5gIGZ1bmN0aW9uLlxuICB2YXIgZmxhdHRlbiA9IGZ1bmN0aW9uKGlucHV0LCBzaGFsbG93LCBzdHJpY3QsIHN0YXJ0SW5kZXgpIHtcbiAgICB2YXIgb3V0cHV0ID0gW10sIGlkeCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXggfHwgMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGlucHV0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpbnB1dFtpXTtcbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkgJiYgKF8uaXNBcnJheSh2YWx1ZSkgfHwgXy5pc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIC8vZmxhdHRlbiBjdXJyZW50IGxldmVsIG9mIGFycmF5IG9yIGFyZ3VtZW50cyBvYmplY3RcbiAgICAgICAgaWYgKCFzaGFsbG93KSB2YWx1ZSA9IGZsYXR0ZW4odmFsdWUsIHNoYWxsb3csIHN0cmljdCk7XG4gICAgICAgIHZhciBqID0gMCwgbGVuID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICBvdXRwdXQubGVuZ3RoICs9IGxlbjtcbiAgICAgICAgd2hpbGUgKGogPCBsZW4pIHtcbiAgICAgICAgICBvdXRwdXRbaWR4KytdID0gdmFsdWVbaisrXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghc3RyaWN0KSB7XG4gICAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfTtcblxuICAvLyBGbGF0dGVuIG91dCBhbiBhcnJheSwgZWl0aGVyIHJlY3Vyc2l2ZWx5IChieSBkZWZhdWx0KSwgb3IganVzdCBvbmUgbGV2ZWwuXG4gIF8uZmxhdHRlbiA9IGZ1bmN0aW9uKGFycmF5LCBzaGFsbG93KSB7XG4gICAgcmV0dXJuIGZsYXR0ZW4oYXJyYXksIHNoYWxsb3csIGZhbHNlKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoZSBhcnJheSB0aGF0IGRvZXMgbm90IGNvbnRhaW4gdGhlIHNwZWNpZmllZCB2YWx1ZShzKS5cbiAgXy53aXRob3V0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5kaWZmZXJlbmNlKGFycmF5LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIHRoZSBhcnJheS4gSWYgdGhlIGFycmF5IGhhcyBhbHJlYWR5XG4gIC8vIGJlZW4gc29ydGVkLCB5b3UgaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIGEgZmFzdGVyIGFsZ29yaXRobS5cbiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC5cbiAgXy51bmlxID0gXy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFfLmlzQm9vbGVhbihpc1NvcnRlZCkpIHtcbiAgICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICAgIGl0ZXJhdGVlID0gaXNTb3J0ZWQ7XG4gICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXRlcmF0ZWUgIT0gbnVsbCkgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBzZWVuID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sXG4gICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICAgIGlmIChpc1NvcnRlZCkge1xuICAgICAgICBpZiAoIWkgfHwgc2VlbiAhPT0gY29tcHV0ZWQpIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgfSBlbHNlIGlmIChpdGVyYXRlZSkge1xuICAgICAgICBpZiAoIV8uY29udGFpbnMoc2VlbiwgY29tcHV0ZWQpKSB7XG4gICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIV8uY29udGFpbnMocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyB0aGUgdW5pb246IGVhY2ggZGlzdGluY3QgZWxlbWVudCBmcm9tIGFsbCBvZlxuICAvLyB0aGUgcGFzc2VkLWluIGFycmF5cy5cbiAgXy51bmlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfLnVuaXEoZmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgZXZlcnkgaXRlbSBzaGFyZWQgYmV0d2VlbiBhbGwgdGhlXG4gIC8vIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8uaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gYXJyYXlbaV07XG4gICAgICBpZiAoXy5jb250YWlucyhyZXN1bHQsIGl0ZW0pKSBjb250aW51ZTtcbiAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgYXJnc0xlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICghXy5jb250YWlucyhhcmd1bWVudHNbal0sIGl0ZW0pKSBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChqID09PSBhcmdzTGVuZ3RoKSByZXN1bHQucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBUYWtlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gb25lIGFycmF5IGFuZCBhIG51bWJlciBvZiBvdGhlciBhcnJheXMuXG4gIC8vIE9ubHkgdGhlIGVsZW1lbnRzIHByZXNlbnQgaW4ganVzdCB0aGUgZmlyc3QgYXJyYXkgd2lsbCByZW1haW4uXG4gIF8uZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3QgPSBmbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgdHJ1ZSwgMSk7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICByZXR1cm4gIV8uY29udGFpbnMocmVzdCwgdmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFppcCB0b2dldGhlciBtdWx0aXBsZSBsaXN0cyBpbnRvIGEgc2luZ2xlIGFycmF5IC0tIGVsZW1lbnRzIHRoYXQgc2hhcmVcbiAgLy8gYW4gaW5kZXggZ28gdG9nZXRoZXIuXG4gIF8uemlwID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF8udW56aXAoYXJndW1lbnRzKTtcbiAgfTtcblxuICAvLyBDb21wbGVtZW50IG9mIF8uemlwLiBVbnppcCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyBhbmQgZ3JvdXBzXG4gIC8vIGVhY2ggYXJyYXkncyBlbGVtZW50cyBvbiBzaGFyZWQgaW5kaWNlc1xuICBfLnVuemlwID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgJiYgXy5tYXgoYXJyYXksIGdldExlbmd0aCkubGVuZ3RoIHx8IDA7XG4gICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gXy5wbHVjayhhcnJheSwgaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIENvbnZlcnRzIGxpc3RzIGludG8gb2JqZWN0cy4gUGFzcyBlaXRoZXIgYSBzaW5nbGUgYXJyYXkgb2YgYFtrZXksIHZhbHVlXWBcbiAgLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4gIC8vIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgXy5vYmplY3QgPSBmdW5jdGlvbihsaXN0LCB2YWx1ZXMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChsaXN0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldWzBdXSA9IGxpc3RbaV1bMV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgZmluZEluZGV4IGFuZCBmaW5kTGFzdEluZGV4IGZ1bmN0aW9uc1xuICBmdW5jdGlvbiBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcihkaXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgdmFyIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gIH1cblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBpbmRleCBvbiBhbiBhcnJheS1saWtlIHRoYXQgcGFzc2VzIGEgcHJlZGljYXRlIHRlc3RcbiAgXy5maW5kSW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigxKTtcbiAgXy5maW5kTGFzdEluZGV4ID0gY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIoLTEpO1xuXG4gIC8vIFVzZSBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gZmlndXJlIG91dCB0aGUgc21hbGxlc3QgaW5kZXggYXQgd2hpY2hcbiAgLy8gYW4gb2JqZWN0IHNob3VsZCBiZSBpbnNlcnRlZCBzbyBhcyB0byBtYWludGFpbiBvcmRlci4gVXNlcyBiaW5hcnkgc2VhcmNoLlxuICBfLnNvcnRlZEluZGV4ID0gZnVuY3Rpb24oYXJyYXksIG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgICB2YXIgdmFsdWUgPSBpdGVyYXRlZShvYmopO1xuICAgIHZhciBsb3cgPSAwLCBoaWdoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbWlkXSkgPCB2YWx1ZSkgbG93ID0gbWlkICsgMTsgZWxzZSBoaWdoID0gbWlkO1xuICAgIH1cbiAgICByZXR1cm4gbG93O1xuICB9O1xuXG4gIC8vIEdlbmVyYXRvciBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGluZGV4T2YgYW5kIGxhc3RJbmRleE9mIGZ1bmN0aW9uc1xuICBmdW5jdGlvbiBjcmVhdGVJbmRleEZpbmRlcihkaXIsIHByZWRpY2F0ZUZpbmQsIHNvcnRlZEluZGV4KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpZHgpIHtcbiAgICAgIHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICAgIGlmICh0eXBlb2YgaWR4ID09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChkaXIgPiAwKSB7XG4gICAgICAgICAgICBpID0gaWR4ID49IDAgPyBpZHggOiBNYXRoLm1heChpZHggKyBsZW5ndGgsIGkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVuZ3RoID0gaWR4ID49IDAgPyBNYXRoLm1pbihpZHggKyAxLCBsZW5ndGgpIDogaWR4ICsgbGVuZ3RoICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzb3J0ZWRJbmRleCAmJiBpZHggJiYgbGVuZ3RoKSB7XG4gICAgICAgIGlkeCA9IHNvcnRlZEluZGV4KGFycmF5LCBpdGVtKTtcbiAgICAgICAgcmV0dXJuIGFycmF5W2lkeF0gPT09IGl0ZW0gPyBpZHggOiAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtICE9PSBpdGVtKSB7XG4gICAgICAgIGlkeCA9IHByZWRpY2F0ZUZpbmQoc2xpY2UuY2FsbChhcnJheSwgaSwgbGVuZ3RoKSwgXy5pc05hTik7XG4gICAgICAgIHJldHVybiBpZHggPj0gMCA/IGlkeCArIGkgOiAtMTtcbiAgICAgIH1cbiAgICAgIGZvciAoaWR4ID0gZGlyID4gMCA/IGkgOiBsZW5ndGggLSAxOyBpZHggPj0gMCAmJiBpZHggPCBsZW5ndGg7IGlkeCArPSBkaXIpIHtcbiAgICAgICAgaWYgKGFycmF5W2lkeF0gPT09IGl0ZW0pIHJldHVybiBpZHg7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgfVxuXG4gIC8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbiAgLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKDEsIF8uZmluZEluZGV4LCBfLnNvcnRlZEluZGV4KTtcbiAgXy5sYXN0SW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKC0xLCBfLmZpbmRMYXN0SW5kZXgpO1xuXG4gIC8vIEdlbmVyYXRlIGFuIGludGVnZXIgQXJyYXkgY29udGFpbmluZyBhbiBhcml0aG1ldGljIHByb2dyZXNzaW9uLiBBIHBvcnQgb2ZcbiAgLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbiAgLy8gW3RoZSBQeXRob24gZG9jdW1lbnRhdGlvbl0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L2Z1bmN0aW9ucy5odG1sI3JhbmdlKS5cbiAgXy5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gICAgaWYgKHN0b3AgPT0gbnVsbCkge1xuICAgICAgc3RvcCA9IHN0YXJ0IHx8IDA7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHN0ZXAgPSBzdGVwIHx8IDE7XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICAgIHZhciByYW5nZSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrLCBzdGFydCArPSBzdGVwKSB7XG4gICAgICByYW5nZVtpZHhdID0gc3RhcnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIGV4ZWN1dGUgYSBmdW5jdGlvbiBhcyBhIGNvbnN0cnVjdG9yXG4gIC8vIG9yIGEgbm9ybWFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50c1xuICB2YXIgZXhlY3V0ZUJvdW5kID0gZnVuY3Rpb24oc291cmNlRnVuYywgYm91bmRGdW5jLCBjb250ZXh0LCBjYWxsaW5nQ29udGV4dCwgYXJncykge1xuICAgIGlmICghKGNhbGxpbmdDb250ZXh0IGluc3RhbmNlb2YgYm91bmRGdW5jKSkgcmV0dXJuIHNvdXJjZUZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgdmFyIHNlbGYgPSBiYXNlQ3JlYXRlKHNvdXJjZUZ1bmMucHJvdG90eXBlKTtcbiAgICB2YXIgcmVzdWx0ID0gc291cmNlRnVuYy5hcHBseShzZWxmLCBhcmdzKTtcbiAgICBpZiAoXy5pc09iamVjdChyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIGJvdW5kIHRvIGEgZ2l2ZW4gb2JqZWN0IChhc3NpZ25pbmcgYHRoaXNgLCBhbmQgYXJndW1lbnRzLFxuICAvLyBvcHRpb25hbGx5KS4gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYEZ1bmN0aW9uLmJpbmRgIGlmXG4gIC8vIGF2YWlsYWJsZS5cbiAgXy5iaW5kID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCkge1xuICAgIGlmIChuYXRpdmVCaW5kICYmIGZ1bmMuYmluZCA9PT0gbmF0aXZlQmluZCkgcmV0dXJuIG5hdGl2ZUJpbmQuYXBwbHkoZnVuYywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICBpZiAoIV8uaXNGdW5jdGlvbihmdW5jKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uJyk7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGJvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCBjb250ZXh0LCB0aGlzLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfTtcblxuICAvLyBQYXJ0aWFsbHkgYXBwbHkgYSBmdW5jdGlvbiBieSBjcmVhdGluZyBhIHZlcnNpb24gdGhhdCBoYXMgaGFkIHNvbWUgb2YgaXRzXG4gIC8vIGFyZ3VtZW50cyBwcmUtZmlsbGVkLCB3aXRob3V0IGNoYW5naW5nIGl0cyBkeW5hbWljIGB0aGlzYCBjb250ZXh0LiBfIGFjdHNcbiAgLy8gYXMgYSBwbGFjZWhvbGRlciwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZSBwcmUtZmlsbGVkLlxuICBfLnBhcnRpYWwgPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgdmFyIGJvdW5kQXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IDAsIGxlbmd0aCA9IGJvdW5kQXJncy5sZW5ndGg7XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBib3VuZEFyZ3NbaV0gPT09IF8gPyBhcmd1bWVudHNbcG9zaXRpb24rK10gOiBib3VuZEFyZ3NbaV07XG4gICAgICB9XG4gICAgICB3aGlsZSAocG9zaXRpb24gPCBhcmd1bWVudHMubGVuZ3RoKSBhcmdzLnB1c2goYXJndW1lbnRzW3Bvc2l0aW9uKytdKTtcbiAgICAgIHJldHVybiBleGVjdXRlQm91bmQoZnVuYywgYm91bmQsIHRoaXMsIHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9O1xuXG4gIC8vIEJpbmQgYSBudW1iZXIgb2YgYW4gb2JqZWN0J3MgbWV0aG9kcyB0byB0aGF0IG9iamVjdC4gUmVtYWluaW5nIGFyZ3VtZW50c1xuICAvLyBhcmUgdGhlIG1ldGhvZCBuYW1lcyB0byBiZSBib3VuZC4gVXNlZnVsIGZvciBlbnN1cmluZyB0aGF0IGFsbCBjYWxsYmFja3NcbiAgLy8gZGVmaW5lZCBvbiBhbiBvYmplY3QgYmVsb25nIHRvIGl0LlxuICBfLmJpbmRBbGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgaSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCwga2V5O1xuICAgIGlmIChsZW5ndGggPD0gMSkgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWxsIG11c3QgYmUgcGFzc2VkIGZ1bmN0aW9uIG5hbWVzJyk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBhcmd1bWVudHNbaV07XG4gICAgICBvYmpba2V5XSA9IF8uYmluZChvYmpba2V5XSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBNZW1vaXplIGFuIGV4cGVuc2l2ZSBmdW5jdGlvbiBieSBzdG9yaW5nIGl0cyByZXN1bHRzLlxuICBfLm1lbW9pemUgPSBmdW5jdGlvbihmdW5jLCBoYXNoZXIpIHtcbiAgICB2YXIgbWVtb2l6ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIGNhY2hlID0gbWVtb2l6ZS5jYWNoZTtcbiAgICAgIHZhciBhZGRyZXNzID0gJycgKyAoaGFzaGVyID8gaGFzaGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBrZXkpO1xuICAgICAgaWYgKCFfLmhhcyhjYWNoZSwgYWRkcmVzcykpIGNhY2hlW2FkZHJlc3NdID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICAgIH07XG4gICAgbWVtb2l6ZS5jYWNoZSA9IHt9O1xuICAgIHJldHVybiBtZW1vaXplO1xuICB9O1xuXG4gIC8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHNcbiAgLy8gaXQgd2l0aCB0aGUgYXJndW1lbnRzIHN1cHBsaWVkLlxuICBfLmRlbGF5ID0gZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9LCB3YWl0KTtcbiAgfTtcblxuICAvLyBEZWZlcnMgYSBmdW5jdGlvbiwgc2NoZWR1bGluZyBpdCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXNcbiAgLy8gY2xlYXJlZC5cbiAgXy5kZWZlciA9IF8ucGFydGlhbChfLmRlbGF5LCBfLCAxKTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2VcbiAgLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4gIC8vIGFzIG11Y2ggYXMgaXQgY2FuLCB3aXRob3V0IGV2ZXIgZ29pbmcgbW9yZSB0aGFuIG9uY2UgcGVyIGB3YWl0YCBkdXJhdGlvbjtcbiAgLy8gYnV0IGlmIHlvdSdkIGxpa2UgdG8gZGlzYWJsZSB0aGUgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2UsIHBhc3NcbiAgLy8gYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG4gIF8udGhyb3R0bGUgPSBmdW5jdGlvbihmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgdmFyIGNvbnRleHQsIGFyZ3MsIHJlc3VsdDtcbiAgICB2YXIgdGltZW91dCA9IG51bGw7XG4gICAgdmFyIHByZXZpb3VzID0gMDtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBfLm5vdygpO1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbm93ID0gXy5ub3coKTtcbiAgICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkgcHJldmlvdXMgPSBub3c7XG4gICAgICB2YXIgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cyk7XG4gICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBpZiAocmVtYWluaW5nIDw9IDAgfHwgcmVtYWluaW5nID4gd2FpdCkge1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCByZW1haW5pbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3RcbiAgLy8gYmUgdHJpZ2dlcmVkLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgaXQgc3RvcHMgYmVpbmcgY2FsbGVkIGZvclxuICAvLyBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcbiAgLy8gbGVhZGluZyBlZGdlLCBpbnN0ZWFkIG9mIHRoZSB0cmFpbGluZy5cbiAgXy5kZWJvdW5jZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICAgIHZhciB0aW1lb3V0LCBhcmdzLCBjb250ZXh0LCB0aW1lc3RhbXAsIHJlc3VsdDtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxhc3QgPSBfLm5vdygpIC0gdGltZXN0YW1wO1xuXG4gICAgICBpZiAobGFzdCA8IHdhaXQgJiYgbGFzdCA+PSAwKSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0IC0gbGFzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHRpbWVzdGFtcCA9IF8ubm93KCk7XG4gICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgIGlmICghdGltZW91dCkgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgaWYgKGNhbGxOb3cpIHtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgZnVuY3Rpb24gcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBzZWNvbmQsXG4gIC8vIGFsbG93aW5nIHlvdSB0byBhZGp1c3QgYXJndW1lbnRzLCBydW4gY29kZSBiZWZvcmUgYW5kIGFmdGVyLCBhbmRcbiAgLy8gY29uZGl0aW9uYWxseSBleGVjdXRlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbiAgXy53cmFwID0gZnVuY3Rpb24oZnVuYywgd3JhcHBlcikge1xuICAgIHJldHVybiBfLnBhcnRpYWwod3JhcHBlciwgZnVuYyk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIG5lZ2F0ZWQgdmVyc2lvbiBvZiB0aGUgcGFzc2VkLWluIHByZWRpY2F0ZS5cbiAgXy5uZWdhdGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2hcbiAgLy8gY29uc3VtaW5nIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgZm9sbG93cy5cbiAgXy5jb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIHN0YXJ0ID0gYXJncy5sZW5ndGggLSAxO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpID0gc3RhcnQ7XG4gICAgICB2YXIgcmVzdWx0ID0gYXJnc1tzdGFydF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHdoaWxlIChpLS0pIHJlc3VsdCA9IGFyZ3NbaV0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCBvbiBhbmQgYWZ0ZXIgdGhlIE50aCBjYWxsLlxuICBfLmFmdGVyID0gZnVuY3Rpb24odGltZXMsIGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoLS10aW1lcyA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCB1cCB0byAoYnV0IG5vdCBpbmNsdWRpbmcpIHRoZSBOdGggY2FsbC5cbiAgXy5iZWZvcmUgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHZhciBtZW1vO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzID4gMCkge1xuICAgICAgICBtZW1vID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgaWYgKHRpbWVzIDw9IDEpIGZ1bmMgPSBudWxsO1xuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGF0IG1vc3Qgb25lIHRpbWUsIG5vIG1hdHRlciBob3dcbiAgLy8gb2Z0ZW4geW91IGNhbGwgaXQuIFVzZWZ1bCBmb3IgbGF6eSBpbml0aWFsaXphdGlvbi5cbiAgXy5vbmNlID0gXy5wYXJ0aWFsKF8uYmVmb3JlLCAyKTtcblxuICAvLyBPYmplY3QgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBLZXlzIGluIElFIDwgOSB0aGF0IHdvbid0IGJlIGl0ZXJhdGVkIGJ5IGBmb3Iga2V5IGluIC4uLmAgYW5kIHRodXMgbWlzc2VkLlxuICB2YXIgaGFzRW51bUJ1ZyA9ICF7dG9TdHJpbmc6IG51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpO1xuICB2YXIgbm9uRW51bWVyYWJsZVByb3BzID0gWyd2YWx1ZU9mJywgJ2lzUHJvdG90eXBlT2YnLCAndG9TdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICdoYXNPd25Qcm9wZXJ0eScsICd0b0xvY2FsZVN0cmluZyddO1xuXG4gIGZ1bmN0aW9uIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKSB7XG4gICAgdmFyIG5vbkVudW1JZHggPSBub25FbnVtZXJhYmxlUHJvcHMubGVuZ3RoO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IG9iai5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgcHJvdG8gPSAoXy5pc0Z1bmN0aW9uKGNvbnN0cnVjdG9yKSAmJiBjb25zdHJ1Y3Rvci5wcm90b3R5cGUpIHx8IE9ialByb3RvO1xuXG4gICAgLy8gQ29uc3RydWN0b3IgaXMgYSBzcGVjaWFsIGNhc2UuXG4gICAgdmFyIHByb3AgPSAnY29uc3RydWN0b3InO1xuICAgIGlmIChfLmhhcyhvYmosIHByb3ApICYmICFfLmNvbnRhaW5zKGtleXMsIHByb3ApKSBrZXlzLnB1c2gocHJvcCk7XG5cbiAgICB3aGlsZSAobm9uRW51bUlkeC0tKSB7XG4gICAgICBwcm9wID0gbm9uRW51bWVyYWJsZVByb3BzW25vbkVudW1JZHhdO1xuICAgICAgaWYgKHByb3AgaW4gb2JqICYmIG9ialtwcm9wXSAhPT0gcHJvdG9bcHJvcF0gJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIHtcbiAgICAgICAga2V5cy5wdXNoKHByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJldHJpZXZlIHRoZSBuYW1lcyBvZiBhbiBvYmplY3QncyBvd24gcHJvcGVydGllcy5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYE9iamVjdC5rZXlzYFxuICBfLmtleXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICAgIGlmIChuYXRpdmVLZXlzKSByZXR1cm4gbmF0aXZlS2V5cyhvYmopO1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKF8uaGFzKG9iaiwga2V5KSkga2V5cy5wdXNoKGtleSk7XG4gICAgLy8gQWhlbSwgSUUgPCA5LlxuICAgIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cyk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cbiAgLy8gUmV0cmlldmUgYWxsIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBhbiBvYmplY3QuXG4gIF8uYWxsS2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIF8udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzW2ldID0gb2JqW2tleXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgb2JqZWN0XG4gIC8vIEluIGNvbnRyYXN0IHRvIF8ubWFwIGl0IHJldHVybnMgYW4gb2JqZWN0XG4gIF8ubWFwT2JqZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIF8ua2V5cyhvYmopLFxuICAgICAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdHMgPSB7fSxcbiAgICAgICAgICBjdXJyZW50S2V5O1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjdXJyZW50S2V5ID0ga2V5c1tpbmRleF07XG4gICAgICAgIHJlc3VsdHNbY3VycmVudEtleV0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBDb252ZXJ0IGFuIG9iamVjdCBpbnRvIGEgbGlzdCBvZiBgW2tleSwgdmFsdWVdYCBwYWlycy5cbiAgXy5wYWlycyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBwYWlycyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcGFpcnNbaV0gPSBba2V5c1tpXSwgb2JqW2tleXNbaV1dXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhaXJzO1xuICB9O1xuXG4gIC8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbiAgXy5pbnZlcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0W29ialtrZXlzW2ldXV0gPSBrZXlzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbiAgLy8gQWxpYXNlZCBhcyBgbWV0aG9kc2BcbiAgXy5mdW5jdGlvbnMgPSBfLm1ldGhvZHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgbmFtZXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKG9ialtrZXldKSkgbmFtZXMucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXMuc29ydCgpO1xuICB9O1xuXG4gIC8vIEV4dGVuZCBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgcHJvcGVydGllcyBpbiBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuICBfLmV4dGVuZCA9IGNyZWF0ZUFzc2lnbmVyKF8uYWxsS2V5cyk7XG5cbiAgLy8gQXNzaWducyBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgb3duIHByb3BlcnRpZXMgaW4gdGhlIHBhc3NlZC1pbiBvYmplY3QocylcbiAgLy8gKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ24pXG4gIF8uZXh0ZW5kT3duID0gXy5hc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihfLmtleXMpO1xuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGtleSBvbiBhbiBvYmplY3QgdGhhdCBwYXNzZXMgYSBwcmVkaWNhdGUgdGVzdFxuICBfLmZpbmRLZXkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSwga2V5O1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpba2V5XSwga2V5LCBvYmopKSByZXR1cm4ga2V5O1xuICAgIH1cbiAgfTtcblxuICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgb25seSBjb250YWluaW5nIHRoZSB3aGl0ZWxpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLnBpY2sgPSBmdW5jdGlvbihvYmplY3QsIG9pdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSB7fSwgb2JqID0gb2JqZWN0LCBpdGVyYXRlZSwga2V5cztcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihvaXRlcmF0ZWUpKSB7XG4gICAgICBrZXlzID0gXy5hbGxLZXlzKG9iaik7XG4gICAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2Iob2l0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cyA9IGZsYXR0ZW4oYXJndW1lbnRzLCBmYWxzZSwgZmFsc2UsIDEpO1xuICAgICAgaXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmopIHsgcmV0dXJuIGtleSBpbiBvYmo7IH07XG4gICAgICBvYmogPSBPYmplY3Qob2JqKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG4gICAgICBpZiAoaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqKSkgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGhvdXQgdGhlIGJsYWNrbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ub21pdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKGl0ZXJhdGVlKSkge1xuICAgICAgaXRlcmF0ZWUgPSBfLm5lZ2F0ZShpdGVyYXRlZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gXy5tYXAoZmxhdHRlbihhcmd1bWVudHMsIGZhbHNlLCBmYWxzZSwgMSksIFN0cmluZyk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKGtleXMsIGtleSk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gXy5waWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIEZpbGwgaW4gYSBnaXZlbiBvYmplY3Qgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gIF8uZGVmYXVsdHMgPSBjcmVhdGVBc3NpZ25lcihfLmFsbEtleXMsIHRydWUpO1xuXG4gIC8vIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgZ2l2ZW4gcHJvdG90eXBlIG9iamVjdC5cbiAgLy8gSWYgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGFyZSBwcm92aWRlZCB0aGVuIHRoZXkgd2lsbCBiZSBhZGRlZCB0byB0aGVcbiAgLy8gY3JlYXRlZCBvYmplY3QuXG4gIF8uY3JlYXRlID0gZnVuY3Rpb24ocHJvdG90eXBlLCBwcm9wcykge1xuICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgaWYgKHByb3BzKSBfLmV4dGVuZE93bihyZXN1bHQsIHByb3BzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIChzaGFsbG93LWNsb25lZCkgZHVwbGljYXRlIG9mIGFuIG9iamVjdC5cbiAgXy5jbG9uZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gb2JqO1xuICAgIHJldHVybiBfLmlzQXJyYXkob2JqKSA/IG9iai5zbGljZSgpIDogXy5leHRlbmQoe30sIG9iaik7XG4gIH07XG5cbiAgLy8gSW52b2tlcyBpbnRlcmNlcHRvciB3aXRoIHRoZSBvYmosIGFuZCB0aGVuIHJldHVybnMgb2JqLlxuICAvLyBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiwgaW5cbiAgLy8gb3JkZXIgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uIGludGVybWVkaWF0ZSByZXN1bHRzIHdpdGhpbiB0aGUgY2hhaW4uXG4gIF8udGFwID0gZnVuY3Rpb24ob2JqLCBpbnRlcmNlcHRvcikge1xuICAgIGludGVyY2VwdG9yKG9iaik7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZiBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5pc01hdGNoID0gZnVuY3Rpb24ob2JqZWN0LCBhdHRycykge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKGF0dHJzKSwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4gIWxlbmd0aDtcbiAgICB2YXIgb2JqID0gT2JqZWN0KG9iamVjdCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoYXR0cnNba2V5XSAhPT0gb2JqW2tleV0gfHwgIShrZXkgaW4gb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIHZhciBlcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gSWRlbnRpY2FsIG9iamVjdHMgYXJlIGVxdWFsLiBgMCA9PT0gLTBgLCBidXQgdGhleSBhcmVuJ3QgaWRlbnRpY2FsLlxuICAgIC8vIFNlZSB0aGUgW0hhcm1vbnkgYGVnYWxgIHByb3Bvc2FsXShodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwpLlxuICAgIGlmIChhID09PSBiKSByZXR1cm4gYSAhPT0gMCB8fCAxIC8gYSA9PT0gMSAvIGI7XG4gICAgLy8gQSBzdHJpY3QgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkgYmVjYXVzZSBgbnVsbCA9PSB1bmRlZmluZWRgLlxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gYSA9PT0gYjtcbiAgICAvLyBVbndyYXAgYW55IHdyYXBwZWQgb2JqZWN0cy5cbiAgICBpZiAoYSBpbnN0YW5jZW9mIF8pIGEgPSBhLl93cmFwcGVkO1xuICAgIGlmIChiIGluc3RhbmNlb2YgXykgYiA9IGIuX3dyYXBwZWQ7XG4gICAgLy8gQ29tcGFyZSBgW1tDbGFzc11dYCBuYW1lcy5cbiAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbChhKTtcbiAgICBpZiAoY2xhc3NOYW1lICE9PSB0b1N0cmluZy5jYWxsKGIpKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpdGNoIChjbGFzc05hbWUpIHtcbiAgICAgIC8vIFN0cmluZ3MsIG51bWJlcnMsIHJlZ3VsYXIgZXhwcmVzc2lvbnMsIGRhdGVzLCBhbmQgYm9vbGVhbnMgYXJlIGNvbXBhcmVkIGJ5IHZhbHVlLlxuICAgICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcbiAgICAgIC8vIFJlZ0V4cHMgYXJlIGNvZXJjZWQgdG8gc3RyaW5ncyBmb3IgY29tcGFyaXNvbiAoTm90ZTogJycgKyAvYS9pID09PSAnL2EvaScpXG4gICAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxuICAgICAgICAvLyBQcmltaXRpdmVzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG9iamVjdCB3cmFwcGVycyBhcmUgZXF1aXZhbGVudDsgdGh1cywgYFwiNVwiYCBpc1xuICAgICAgICAvLyBlcXVpdmFsZW50IHRvIGBuZXcgU3RyaW5nKFwiNVwiKWAuXG4gICAgICAgIHJldHVybiAnJyArIGEgPT09ICcnICsgYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6XG4gICAgICAgIC8vIGBOYU5gcyBhcmUgZXF1aXZhbGVudCwgYnV0IG5vbi1yZWZsZXhpdmUuXG4gICAgICAgIC8vIE9iamVjdChOYU4pIGlzIGVxdWl2YWxlbnQgdG8gTmFOXG4gICAgICAgIGlmICgrYSAhPT0gK2EpIHJldHVybiArYiAhPT0gK2I7XG4gICAgICAgIC8vIEFuIGBlZ2FsYCBjb21wYXJpc29uIGlzIHBlcmZvcm1lZCBmb3Igb3RoZXIgbnVtZXJpYyB2YWx1ZXMuXG4gICAgICAgIHJldHVybiArYSA9PT0gMCA/IDEgLyArYSA9PT0gMSAvIGIgOiArYSA9PT0gK2I7XG4gICAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgICAgICAvLyBDb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWVyaWMgcHJpbWl0aXZlIHZhbHVlcy4gRGF0ZXMgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyXG4gICAgICAgIC8vIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9ucy4gTm90ZSB0aGF0IGludmFsaWQgZGF0ZXMgd2l0aCBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnNcbiAgICAgICAgLy8gb2YgYE5hTmAgYXJlIG5vdCBlcXVpdmFsZW50LlxuICAgICAgICByZXR1cm4gK2EgPT09ICtiO1xuICAgIH1cblxuICAgIHZhciBhcmVBcnJheXMgPSBjbGFzc05hbWUgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgaWYgKCFhcmVBcnJheXMpIHtcbiAgICAgIGlmICh0eXBlb2YgYSAhPSAnb2JqZWN0JyB8fCB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAvLyBPYmplY3RzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWl2YWxlbnQsIGJ1dCBgT2JqZWN0YHMgb3IgYEFycmF5YHNcbiAgICAgIC8vIGZyb20gZGlmZmVyZW50IGZyYW1lcyBhcmUuXG4gICAgICB2YXIgYUN0b3IgPSBhLmNvbnN0cnVjdG9yLCBiQ3RvciA9IGIuY29uc3RydWN0b3I7XG4gICAgICBpZiAoYUN0b3IgIT09IGJDdG9yICYmICEoXy5pc0Z1bmN0aW9uKGFDdG9yKSAmJiBhQ3RvciBpbnN0YW5jZW9mIGFDdG9yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5pc0Z1bmN0aW9uKGJDdG9yKSAmJiBiQ3RvciBpbnN0YW5jZW9mIGJDdG9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoJ2NvbnN0cnVjdG9yJyBpbiBhICYmICdjb25zdHJ1Y3RvcicgaW4gYikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBBc3N1bWUgZXF1YWxpdHkgZm9yIGN5Y2xpYyBzdHJ1Y3R1cmVzLiBUaGUgYWxnb3JpdGhtIGZvciBkZXRlY3RpbmcgY3ljbGljXG4gICAgLy8gc3RydWN0dXJlcyBpcyBhZGFwdGVkIGZyb20gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AuXG5cbiAgICAvLyBJbml0aWFsaXppbmcgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgLy8gSXQncyBkb25lIGhlcmUgc2luY2Ugd2Ugb25seSBuZWVkIHRoZW0gZm9yIG9iamVjdHMgYW5kIGFycmF5cyBjb21wYXJpc29uLlxuICAgIGFTdGFjayA9IGFTdGFjayB8fCBbXTtcbiAgICBiU3RhY2sgPSBiU3RhY2sgfHwgW107XG4gICAgdmFyIGxlbmd0aCA9IGFTdGFjay5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBMaW5lYXIgc2VhcmNoLiBQZXJmb3JtYW5jZSBpcyBpbnZlcnNlbHkgcHJvcG9ydGlvbmFsIHRvIHRoZSBudW1iZXIgb2ZcbiAgICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICAgIGlmIChhU3RhY2tbbGVuZ3RoXSA9PT0gYSkgcmV0dXJuIGJTdGFja1tsZW5ndGhdID09PSBiO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucHVzaChhKTtcbiAgICBiU3RhY2sucHVzaChiKTtcblxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuICAgIGlmIChhcmVBcnJheXMpIHtcbiAgICAgIC8vIENvbXBhcmUgYXJyYXkgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5LlxuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gRGVlcCBjb21wYXJlIHRoZSBjb250ZW50cywgaWdub3Jpbmcgbm9uLW51bWVyaWMgcHJvcGVydGllcy5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoIWVxKGFbbGVuZ3RoXSwgYltsZW5ndGhdLCBhU3RhY2ssIGJTdGFjaykpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVlcCBjb21wYXJlIG9iamVjdHMuXG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhhKSwga2V5O1xuICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgICAvLyBFbnN1cmUgdGhhdCBib3RoIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBudW1iZXIgb2YgcHJvcGVydGllcyBiZWZvcmUgY29tcGFyaW5nIGRlZXAgZXF1YWxpdHkuXG4gICAgICBpZiAoXy5rZXlzKGIpLmxlbmd0aCAhPT0gbGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgLy8gRGVlcCBjb21wYXJlIGVhY2ggbWVtYmVyXG4gICAgICAgIGtleSA9IGtleXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKCEoXy5oYXMoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLlxuICBfLmlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuICAvLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopICYmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikgfHwgXy5pc0FyZ3VtZW50cyhvYmopKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgcmV0dXJuIF8ua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG4gIF8uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/XG4gIC8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBBcnJheS5pc0FycmF5XG4gIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbiAgXy5pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIG9iajtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgfTtcblxuICAvLyBBZGQgc29tZSBpc1R5cGUgbWV0aG9kczogaXNBcmd1bWVudHMsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNEYXRlLCBpc1JlZ0V4cCwgaXNFcnJvci5cbiAgXy5lYWNoKFsnQXJndW1lbnRzJywgJ0Z1bmN0aW9uJywgJ1N0cmluZycsICdOdW1iZXInLCAnRGF0ZScsICdSZWdFeHAnLCAnRXJyb3InXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIF9bJ2lzJyArIG5hbWVdID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCAnICsgbmFtZSArICddJztcbiAgICB9O1xuICB9KTtcblxuICAvLyBEZWZpbmUgYSBmYWxsYmFjayB2ZXJzaW9uIG9mIHRoZSBtZXRob2QgaW4gYnJvd3NlcnMgKGFoZW0sIElFIDwgOSksIHdoZXJlXG4gIC8vIHRoZXJlIGlzbid0IGFueSBpbnNwZWN0YWJsZSBcIkFyZ3VtZW50c1wiIHR5cGUuXG4gIGlmICghXy5pc0FyZ3VtZW50cyhhcmd1bWVudHMpKSB7XG4gICAgXy5pc0FyZ3VtZW50cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIF8uaGFzKG9iaiwgJ2NhbGxlZScpO1xuICAgIH07XG4gIH1cblxuICAvLyBPcHRpbWl6ZSBgaXNGdW5jdGlvbmAgaWYgYXBwcm9wcmlhdGUuIFdvcmsgYXJvdW5kIHNvbWUgdHlwZW9mIGJ1Z3MgaW4gb2xkIHY4LFxuICAvLyBJRSAxMSAoIzE2MjEpLCBhbmQgaW4gU2FmYXJpIDggKCMxOTI5KS5cbiAgaWYgKHR5cGVvZiAvLi8gIT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgSW50OEFycmF5ICE9ICdvYmplY3QnKSB7XG4gICAgXy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nIHx8IGZhbHNlO1xuICAgIH07XG4gIH1cblxuICAvLyBJcyBhIGdpdmVuIG9iamVjdCBhIGZpbml0ZSBudW1iZXI/XG4gIF8uaXNGaW5pdGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ocGFyc2VGbG9hdChvYmopKTtcbiAgfTtcblxuICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/IChOYU4gaXMgdGhlIG9ubHkgbnVtYmVyIHdoaWNoIGRvZXMgbm90IGVxdWFsIGl0c2VsZikuXG4gIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXy5pc051bWJlcihvYmopICYmIG9iaiAhPT0gK29iajtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj9cbiAgXy5pc0Jvb2xlYW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB0cnVlIHx8IG9iaiA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCb29sZWFuXSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBlcXVhbCB0byBudWxsP1xuICBfLmlzTnVsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IG51bGw7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/XG4gIF8uaXNVbmRlZmluZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB2b2lkIDA7XG4gIH07XG5cbiAgLy8gU2hvcnRjdXQgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBwcm9wZXJ0eSBkaXJlY3RseVxuICAvLyBvbiBpdHNlbGYgKGluIG90aGVyIHdvcmRzLCBub3Qgb24gYSBwcm90b3R5cGUpLlxuICBfLmhhcyA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xuICB9O1xuXG4gIC8vIFV0aWxpdHkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUnVuIFVuZGVyc2NvcmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0c1xuICAvLyBwcmV2aW91cyBvd25lci4gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJvb3QuXyA9IHByZXZpb3VzVW5kZXJzY29yZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBLZWVwIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBhcm91bmQgZm9yIGRlZmF1bHQgaXRlcmF0ZWVzLlxuICBfLmlkZW50aXR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLy8gUHJlZGljYXRlLWdlbmVyYXRpbmcgZnVuY3Rpb25zLiBPZnRlbiB1c2VmdWwgb3V0c2lkZSBvZiBVbmRlcnNjb3JlLlxuICBfLmNvbnN0YW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfTtcblxuICBfLm5vb3AgPSBmdW5jdGlvbigpe307XG5cbiAgXy5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuXG4gIC8vIEdlbmVyYXRlcyBhIGZ1bmN0aW9uIGZvciBhIGdpdmVuIG9iamVjdCB0aGF0IHJldHVybnMgYSBnaXZlbiBwcm9wZXJ0eS5cbiAgXy5wcm9wZXJ0eU9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PSBudWxsID8gZnVuY3Rpb24oKXt9IDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgcHJlZGljYXRlIGZvciBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2ZcbiAgLy8gYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ubWF0Y2hlciA9IF8ubWF0Y2hlcyA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgYXR0cnMgPSBfLmV4dGVuZE93bih7fSwgYXR0cnMpO1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmlzTWF0Y2gob2JqLCBhdHRycyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkoTWF0aC5tYXgoMCwgbikpO1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0ZWUoaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIEEgKHBvc3NpYmx5IGZhc3Rlcikgd2F5IHRvIGdldCB0aGUgY3VycmVudCB0aW1lc3RhbXAgYXMgYW4gaW50ZWdlci5cbiAgXy5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgIC8vIExpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgZXNjYXBpbmcuXG4gIHZhciBlc2NhcGVNYXAgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiN4Mjc7JyxcbiAgICAnYCc6ICcmI3g2MDsnXG4gIH07XG4gIHZhciB1bmVzY2FwZU1hcCA9IF8uaW52ZXJ0KGVzY2FwZU1hcCk7XG5cbiAgLy8gRnVuY3Rpb25zIGZvciBlc2NhcGluZyBhbmQgdW5lc2NhcGluZyBzdHJpbmdzIHRvL2Zyb20gSFRNTCBpbnRlcnBvbGF0aW9uLlxuICB2YXIgY3JlYXRlRXNjYXBlciA9IGZ1bmN0aW9uKG1hcCkge1xuICAgIHZhciBlc2NhcGVyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHJldHVybiBtYXBbbWF0Y2hdO1xuICAgIH07XG4gICAgLy8gUmVnZXhlcyBmb3IgaWRlbnRpZnlpbmcgYSBrZXkgdGhhdCBuZWVkcyB0byBiZSBlc2NhcGVkXG4gICAgdmFyIHNvdXJjZSA9ICcoPzonICsgXy5rZXlzKG1hcCkuam9pbignfCcpICsgJyknO1xuICAgIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gICAgdmFyIHJlcGxhY2VSZWdleHAgPSBSZWdFeHAoc291cmNlLCAnZycpO1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICAgIHJldHVybiB0ZXN0UmVnZXhwLnRlc3Qoc3RyaW5nKSA/IHN0cmluZy5yZXBsYWNlKHJlcGxhY2VSZWdleHAsIGVzY2FwZXIpIDogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIF8uZXNjYXBlID0gY3JlYXRlRXNjYXBlcihlc2NhcGVNYXApO1xuICBfLnVuZXNjYXBlID0gY3JlYXRlRXNjYXBlcih1bmVzY2FwZU1hcCk7XG5cbiAgLy8gSWYgdGhlIHZhbHVlIG9mIHRoZSBuYW1lZCBgcHJvcGVydHlgIGlzIGEgZnVuY3Rpb24gdGhlbiBpbnZva2UgaXQgd2l0aCB0aGVcbiAgLy8gYG9iamVjdGAgYXMgY29udGV4dDsgb3RoZXJ3aXNlLCByZXR1cm4gaXQuXG4gIF8ucmVzdWx0ID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgZmFsbGJhY2spIHtcbiAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHZvaWQgMCA6IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHZhbHVlID0gZmFsbGJhY2s7XG4gICAgfVxuICAgIHJldHVybiBfLmlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgaW50ZWdlciBpZCAodW5pcXVlIHdpdGhpbiB0aGUgZW50aXJlIGNsaWVudCBzZXNzaW9uKS5cbiAgLy8gVXNlZnVsIGZvciB0ZW1wb3JhcnkgRE9NIGlkcy5cbiAgdmFyIGlkQ291bnRlciA9IDA7XG4gIF8udW5pcXVlSWQgPSBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICB2YXIgaWQgPSArK2lkQ291bnRlciArICcnO1xuICAgIHJldHVybiBwcmVmaXggPyBwcmVmaXggKyBpZCA6IGlkO1xuICB9O1xuXG4gIC8vIEJ5IGRlZmF1bHQsIFVuZGVyc2NvcmUgdXNlcyBFUkItc3R5bGUgdGVtcGxhdGUgZGVsaW1pdGVycywgY2hhbmdlIHRoZVxuICAvLyBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gIF8udGVtcGxhdGVTZXR0aW5ncyA9IHtcbiAgICBldmFsdWF0ZSAgICA6IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgaW50ZXJwb2xhdGUgOiAvPCU9KFtcXHNcXFNdKz8pJT4vZyxcbiAgICBlc2NhcGUgICAgICA6IC88JS0oW1xcc1xcU10rPyklPi9nXG4gIH07XG5cbiAgLy8gV2hlbiBjdXN0b21pemluZyBgdGVtcGxhdGVTZXR0aW5nc2AsIGlmIHlvdSBkb24ndCB3YW50IHRvIGRlZmluZSBhblxuICAvLyBpbnRlcnBvbGF0aW9uLCBldmFsdWF0aW9uIG9yIGVzY2FwaW5nIHJlZ2V4LCB3ZSBuZWVkIG9uZSB0aGF0IGlzXG4gIC8vIGd1YXJhbnRlZWQgbm90IHRvIG1hdGNoLlxuICB2YXIgbm9NYXRjaCA9IC8oLileLztcblxuICAvLyBDZXJ0YWluIGNoYXJhY3RlcnMgbmVlZCB0byBiZSBlc2NhcGVkIHNvIHRoYXQgdGhleSBjYW4gYmUgcHV0IGludG8gYVxuICAvLyBzdHJpbmcgbGl0ZXJhbC5cbiAgdmFyIGVzY2FwZXMgPSB7XG4gICAgXCInXCI6ICAgICAgXCInXCIsXG4gICAgJ1xcXFwnOiAgICAgJ1xcXFwnLFxuICAgICdcXHInOiAgICAgJ3InLFxuICAgICdcXG4nOiAgICAgJ24nLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICB2YXIgZXNjYXBlciA9IC9cXFxcfCd8XFxyfFxcbnxcXHUyMDI4fFxcdTIwMjkvZztcblxuICB2YXIgZXNjYXBlQ2hhciA9IGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIGVzY2FwZXNbbWF0Y2hdO1xuICB9O1xuXG4gIC8vIEphdmFTY3JpcHQgbWljcm8tdGVtcGxhdGluZywgc2ltaWxhciB0byBKb2huIFJlc2lnJ3MgaW1wbGVtZW50YXRpb24uXG4gIC8vIFVuZGVyc2NvcmUgdGVtcGxhdGluZyBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXMgd2hpdGVzcGFjZSxcbiAgLy8gYW5kIGNvcnJlY3RseSBlc2NhcGVzIHF1b3RlcyB3aXRoaW4gaW50ZXJwb2xhdGVkIGNvZGUuXG4gIC8vIE5COiBgb2xkU2V0dGluZ3NgIG9ubHkgZXhpc3RzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgXy50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHRleHQsIHNldHRpbmdzLCBvbGRTZXR0aW5ncykge1xuICAgIGlmICghc2V0dGluZ3MgJiYgb2xkU2V0dGluZ3MpIHNldHRpbmdzID0gb2xkU2V0dGluZ3M7XG4gICAgc2V0dGluZ3MgPSBfLmRlZmF1bHRzKHt9LCBzZXR0aW5ncywgXy50ZW1wbGF0ZVNldHRpbmdzKTtcblxuICAgIC8vIENvbWJpbmUgZGVsaW1pdGVycyBpbnRvIG9uZSByZWd1bGFyIGV4cHJlc3Npb24gdmlhIGFsdGVybmF0aW9uLlxuICAgIHZhciBtYXRjaGVyID0gUmVnRXhwKFtcbiAgICAgIChzZXR0aW5ncy5lc2NhcGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmludGVycG9sYXRlIHx8IG5vTWF0Y2gpLnNvdXJjZSxcbiAgICAgIChzZXR0aW5ncy5ldmFsdWF0ZSB8fCBub01hdGNoKS5zb3VyY2VcbiAgICBdLmpvaW4oJ3wnKSArICd8JCcsICdnJyk7XG5cbiAgICAvLyBDb21waWxlIHRoZSB0ZW1wbGF0ZSBzb3VyY2UsIGVzY2FwaW5nIHN0cmluZyBsaXRlcmFscyBhcHByb3ByaWF0ZWx5LlxuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIHNvdXJjZSA9IFwiX19wKz0nXCI7XG4gICAgdGV4dC5yZXBsYWNlKG1hdGNoZXIsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGUsIGludGVycG9sYXRlLCBldmFsdWF0ZSwgb2Zmc2V0KSB7XG4gICAgICBzb3VyY2UgKz0gdGV4dC5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKGVzY2FwZXIsIGVzY2FwZUNoYXIpO1xuICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBlc2NhcGUgKyBcIikpPT1udWxsPycnOl8uZXNjYXBlKF9fdCkpK1xcbidcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBpbnRlcnBvbGF0ZSArIFwiKSk9PW51bGw/Jyc6X190KStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZSArIFwiXFxuX19wKz0nXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkb2JlIFZNcyBuZWVkIHRoZSBtYXRjaCByZXR1cm5lZCB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IG9mZmVzdC5cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcbiAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgLy8gSWYgYSB2YXJpYWJsZSBpcyBub3Qgc3BlY2lmaWVkLCBwbGFjZSBkYXRhIHZhbHVlcyBpbiBsb2NhbCBzY29wZS5cbiAgICBpZiAoIXNldHRpbmdzLnZhcmlhYmxlKSBzb3VyY2UgPSAnd2l0aChvYmp8fHt9KXtcXG4nICsgc291cmNlICsgJ31cXG4nO1xuXG4gICAgc291cmNlID0gXCJ2YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4sXCIgK1xuICAgICAgXCJwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xcblwiICtcbiAgICAgIHNvdXJjZSArICdyZXR1cm4gX19wO1xcbic7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIHJlbmRlciA9IG5ldyBGdW5jdGlvbihzZXR0aW5ncy52YXJpYWJsZSB8fCAnb2JqJywgJ18nLCBzb3VyY2UpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGUuc291cmNlID0gc291cmNlO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgICB2YXIgdGVtcGxhdGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICByZXR1cm4gcmVuZGVyLmNhbGwodGhpcywgZGF0YSwgXyk7XG4gICAgfTtcblxuICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIHNvdXJjZSBhcyBhIGNvbnZlbmllbmNlIGZvciBwcmVjb21waWxhdGlvbi5cbiAgICB2YXIgYXJndW1lbnQgPSBzZXR0aW5ncy52YXJpYWJsZSB8fCAnb2JqJztcbiAgICB0ZW1wbGF0ZS5zb3VyY2UgPSAnZnVuY3Rpb24oJyArIGFyZ3VtZW50ICsgJyl7XFxuJyArIHNvdXJjZSArICd9JztcblxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfTtcblxuICAvLyBBZGQgYSBcImNoYWluXCIgZnVuY3Rpb24uIFN0YXJ0IGNoYWluaW5nIGEgd3JhcHBlZCBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5jaGFpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBpbnN0YW5jZSA9IF8ob2JqKTtcbiAgICBpbnN0YW5jZS5fY2hhaW4gPSB0cnVlO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcblxuICAvLyBPT1BcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gIC8vIElmIFVuZGVyc2NvcmUgaXMgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGl0IHJldHVybnMgYSB3cmFwcGVkIG9iamVjdCB0aGF0XG4gIC8vIGNhbiBiZSB1c2VkIE9PLXN0eWxlLiBUaGlzIHdyYXBwZXIgaG9sZHMgYWx0ZXJlZCB2ZXJzaW9ucyBvZiBhbGwgdGhlXG4gIC8vIHVuZGVyc2NvcmUgZnVuY3Rpb25zLiBXcmFwcGVkIG9iamVjdHMgbWF5IGJlIGNoYWluZWQuXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnRpbnVlIGNoYWluaW5nIGludGVybWVkaWF0ZSByZXN1bHRzLlxuICB2YXIgcmVzdWx0ID0gZnVuY3Rpb24oaW5zdGFuY2UsIG9iaikge1xuICAgIHJldHVybiBpbnN0YW5jZS5fY2hhaW4gPyBfKG9iaikuY2hhaW4oKSA6IG9iajtcbiAgfTtcblxuICAvLyBBZGQgeW91ciBvd24gY3VzdG9tIGZ1bmN0aW9ucyB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubWl4aW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICBfLmVhY2goXy5mdW5jdGlvbnMob2JqKSwgZnVuY3Rpb24obmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBfW25hbWVdID0gb2JqW25hbWVdO1xuICAgICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbdGhpcy5fd3JhcHBlZF07XG4gICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLCBmdW5jLmFwcGx5KF8sIGFyZ3MpKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQWRkIGFsbCBvZiB0aGUgVW5kZXJzY29yZSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIgb2JqZWN0LlxuICBfLm1peGluKF8pO1xuXG4gIC8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG4gIF8uZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PT0gJ3NoaWZ0JyB8fCBuYW1lID09PSAnc3BsaWNlJykgJiYgb2JqLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9ialswXTtcbiAgICAgIHJldHVybiByZXN1bHQodGhpcywgb2JqKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBBZGQgYWxsIGFjY2Vzc29yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgXy5lYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtZXRob2QgPSBBcnJheVByb3RvW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzdWx0KHRoaXMsIG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBFeHRyYWN0cyB0aGUgcmVzdWx0IGZyb20gYSB3cmFwcGVkIGFuZCBjaGFpbmVkIG9iamVjdC5cbiAgXy5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JhcHBlZDtcbiAgfTtcblxuICAvLyBQcm92aWRlIHVud3JhcHBpbmcgcHJveHkgZm9yIHNvbWUgbWV0aG9kcyB1c2VkIGluIGVuZ2luZSBvcGVyYXRpb25zXG4gIC8vIHN1Y2ggYXMgYXJpdGhtZXRpYyBhbmQgSlNPTiBzdHJpbmdpZmljYXRpb24uXG4gIF8ucHJvdG90eXBlLnZhbHVlT2YgPSBfLnByb3RvdHlwZS50b0pTT04gPSBfLnByb3RvdHlwZS52YWx1ZTtcblxuICBfLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnJyArIHRoaXMuX3dyYXBwZWQ7XG4gIH07XG5cbiAgLy8gQU1EIHJlZ2lzdHJhdGlvbiBoYXBwZW5zIGF0IHRoZSBlbmQgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBBTUQgbG9hZGVyc1xuICAvLyB0aGF0IG1heSBub3QgZW5mb3JjZSBuZXh0LXR1cm4gc2VtYW50aWNzIG9uIG1vZHVsZXMuIEV2ZW4gdGhvdWdoIGdlbmVyYWxcbiAgLy8gcHJhY3RpY2UgZm9yIEFNRCByZWdpc3RyYXRpb24gaXMgdG8gYmUgYW5vbnltb3VzLCB1bmRlcnNjb3JlIHJlZ2lzdGVyc1xuICAvLyBhcyBhIG5hbWVkIG1vZHVsZSBiZWNhdXNlLCBsaWtlIGpRdWVyeSwgaXQgaXMgYSBiYXNlIGxpYnJhcnkgdGhhdCBpc1xuICAvLyBwb3B1bGFyIGVub3VnaCB0byBiZSBidW5kbGVkIGluIGEgdGhpcmQgcGFydHkgbGliLCBidXQgbm90IGJlIHBhcnQgb2ZcbiAgLy8gYW4gQU1EIGxvYWQgcmVxdWVzdC4gVGhvc2UgY2FzZXMgY291bGQgZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhblxuICAvLyBhbm9ueW1vdXMgZGVmaW5lKCkgaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBsb2FkZXIgcmVxdWVzdC5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZSgndW5kZXJzY29yZScsIFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG59LmNhbGwodGhpcykpO1xuXG59LHt9XX0se30sWzFdKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

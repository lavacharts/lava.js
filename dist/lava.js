!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e,r){t.exports=r(3)},function(t,e){t.exports=function(){return new Function}},function(t,e){function r(){}r.prototype={on:function(t,e,r){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var n=this;function a(){n.off(t,a),e.apply(r,arguments)}return a._=e,this.on(t,a,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,a=r.length;n<a;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],a=[];if(n&&e)for(var o=0,i=n.length;o<i;o++)n[o].fn!==e&&n[o].fn._!==e&&a.push(n[o]);return a.length?r[t]=a:delete r[t],this}},t.exports=r,t.exports.TinyEmitter=r},function(t,e,r){var n=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,o=Object.create(a.prototype),i=new L(n||[]);return o._invoke=function(t,e,r){var n=l;return function(a,o){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var u=E(i,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=s(t,e,r);if("normal"===c.type){if(n=r.done?p:f,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=p,r.method="throw",r.arg=c.arg)}}}(t,r,i),o}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",f="suspendedYield",h="executing",p="completed",d={};function y(){}function v(){}function g(){}var w={};w[o]=function(){return this};var m=Object.getPrototypeOf,b=m&&m(m(D([])));b&&b!==r&&n.call(b,o)&&(w=b);var k=g.prototype=y.prototype=Object.create(w);function x(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function C(t){var e;this._invoke=function(r,a){function o(){return new Promise((function(e,o){!function e(r,a,o,i){var u=s(t[r],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,o,i)}),(function(t){e("throw",t,o,i)})):Promise.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return e("throw",t,o,i)}))}i(u.arg)}(r,a,e,o)}))}return e=e?e.then(o,o):o()}}function E(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var a=s(n,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var o=a.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function D(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:S}}function S(){return{value:e,done:!0}}return v.prototype=k.constructor=g,g.constructor=v,g[u]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},x(C.prototype),C.prototype[i]=function(){return this},t.AsyncIterator=C,t.async=function(e,r,n,a){var o=new C(c(e,r,n,a));return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(k),k[u]="Generator",k[o]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=D,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return u.type="throw",u.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;A(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:D(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n);function o(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e,r,n,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,a)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function u(t){i(o,n,a,u,c,"next",t)}function c(t){i(o,n,a,u,c,"throw",t)}u(void 0)}))}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t){return(h="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(t){return f(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":f(t)})(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?p(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m=r(1),b=r.n(m),k=b()("LavaJs");function x(){return k}var C={getInstance:function(){return k},setState:function(t){k.enabled=t},enable:function(){k.enabled=!0},disable:function(){k.enabled=!1}};function E(){return window.google}function O(t,e){x().extend("GoogleFactory");return new window.google.visualization[t](e)}var A=function(){function t(e,r){c(this,t),w(this,"type",void 0);var n=Array.isArray(this.controlWraps),a=!n,o=Array.isArray(this.chartWraps),i=!o;this.type=a&&i?"OneToOne":a&&o?"OneToMany":n&&i?"ManyToOne":"ManyToMany"}return l(t,[{key:"toArray",value:function(){return[this.getControlWraps(),this.getChartWraps()]}},{key:"getControlWraps",value:function(){return Array.isArray(this.controlWraps)?this.controlWraps.map((function(t){return O("ControlWrapper",t)})):O("ControlWrapper",this.controlWraps)}},{key:"getChartWraps",value:function(){return Array.isArray(this.chartWraps)?this.chartWraps.map((function(t){return O("ChartWrapper",t)})):O("ChartWrapper",this.chartWraps)}}]),t}();function L(t,e,r){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(r):a.value}})(t,e,r||t)}function D(t,e,r){return(D=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var a=new(Function.bind.apply(t,n));return r&&v(a,r.prototype),a}).apply(null,arguments)}function S(t){var e="function"==typeof Map?new Map:void 0;return(S=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return D(t,arguments,y(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,t)})(t)}var T,j=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"There was an error";return c(this,e),d(this,y(e).call(this,t))}return g(e,t),e}(S(Error)),R=function(t){function e(t){return c(this,e),d(this,y(e).call(this,t))}return g(e,t),e}(j),_=function(t){function e(t){return c(this,e),d(this,y(e).call(this,'[lava.js] DOM node where id="'.concat(t,'" was not found.')))}return g(e,t),e}(j),P=function(){function t(e,r,n){c(this,t),w(this,"debug",void 0),this.debug=x().extend("DataQuery"),this.opts={sendMethod:"auto"},this.transformer=function(t){return t},"function"==typeof n&&(this.transformer=n),r&&(this.opts=r)}var e;return l(t,null,[{key:"createFromSheetRange",value:function(e){var r=e.sheetId,n=e.range;return new t("".concat("https://docs.google.com/spreadsheets/d","/").concat(r,"/gviz/tq?range=").concat(n))}},{key:"create",value:function(e){if(!e.url)throw new R('"url" is a mandatory parameter for creating a DataQuery.');var r=new t(e.url);return"object"===h(e.opts)&&(r.opts=e.opts),"function"==typeof e.transformer&&(r.transformer=e.transformer),r}}]),l(t,[{key:"getDataTable",value:(e=u(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send();case 2:return e=t.sent,t.abrupt("return",e.getDataTable());case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"send",value:function(){var t=new window.google.visualization.Query(this.url,this.opts);return"function"==typeof this.transformer&&(t=this.transformer(t)),new Promise((function(e,r){t.send((function(t){t.isError()&&r(t),e(t)}))}))}}]),t}(),G=r(2);!function(t){t.GOOGLE_READY="google-ready",t.DRAW="draw",t.RESIZE="window-resize",t.DOM_READY="dom-ready"}(T||(T={}));var I=function(t){function e(){var t,r;c(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return w(p(r=d(this,(t=y(e)).call.apply(t,[this].concat(a)))),"debug",void 0),r}return g(e,t),l(e,[{key:"emitEvent",value:function(t,r){this.debug,b.a.debug,void 0!==r?L(y(e.prototype),"emit",this).call(this,t,r):L(y(e.prototype),"emit",this).call(this,t)}}]),e}(G.TinyEmitter);function W(t){return z.apply(this,arguments)}function z(){return(z=u(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e instanceof P)){t.next=4;break}return t.next=3,e.getDataTable();case 3:return t.abrupt("return",t.sent);case 4:if("function"!=typeof e){t.next=6;break}return t.abrupt("return",e(new window.google.visualization.DataTable));case 6:if(!Array.isArray(e)){t.next=8;break}return t.abrupt("return",window.google.visualization.arrayToDataTable(e));case 8:if("function"!=typeof e.getTableProperties){t.next=10;break}return t.abrupt("return",e);case 10:if(!Array.isArray(e.data)){t.next=12;break}return t.abrupt("return",window.google.visualization.data.join(new window.google.visualization.DataTable(e.data[0]),new window.google.visualization.DataTable(e.data[1]),e.keys,e.joinMethod,e.dt1Columns,e.dt2Columns));case 12:return"object"===h(e.data)&&(e=e.data),t.abrupt("return",new window.google.visualization.DataTable(e));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(){return C.getInstance()}function F(){return window.lava}function B(t){return function(e){return Object.prototype.hasOwnProperty.call(t,e)}}function N(t){var e=document.getElementById(t);if(null===e)throw new _(t);return e}function Y(t){var e=F(),r=E();e.googleReady?t(r):e.on(T.GOOGLE_READY,(function(){return t(r)}))}var H,K=function(t){function e(t){var r;c(this,e),w(p(r=d(this,y(e).call(this))),"options",void 0),w(p(r),"data",void 0),w(p(r),"googleChart",void 0),w(p(r),"containerId",void 0),w(p(r),"label",void 0),w(p(r),"type",void 0),w(p(r),"formats",void 0),w(p(r),"events",void 0),w(p(r),"initialData",void 0);var n,a=B(t);return r.containerId=t.containerId,r.type=t.type,a("label")?r.label=t.label:r.label=r.containerId,n=t.data,r.initialData="sheetId"in n&&"range"in n?P.createFromSheetRange(t.data):t.data,r.options=t.options||{},r.formats=t.formats||[],r.events=t.events||{},r.debug=M().extend(r.id),M().extend("Drawable")("Building new ".concat(t.type),p(r)),F().on(T.DRAW,(function(){r.draw()})),r}var r,n,o,i,s,f;return g(e,t),l(e,[{key:"id",get:function(){return this.type+":"+this.label}}]),l(e,[{key:"draw",value:(f=u(a.a.mark((function t(){var e=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!B(this)("initialData")){t.next=3;break}return t.next=3,this.processInitialData();case 3:this.formats&&this.applyFormats(),Object.keys(this.events).forEach((function(t){var r=t;e.registerEventHandler(r,e.events[r])})),this.googleChart.draw(this.data,this.options);case 6:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"on",value:function(t,e,r){return r&&(e=e.bind(r)),this.events[t]=e,this}},{key:"set",value:(s=u(a.a.mark((function t(e,r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=w({},e,r),this.updateOptions(n),t.abrupt("return",{data:this.data,chart:this.googleChart,options:this.options});case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return s.apply(this,arguments)})},{key:"updateData",value:(i=u(a.a.mark((function t(e){var r,n=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(n.length>1&&void 0!==n[1])||n[1],t.abrupt("return",this.update({data:e},r));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"updateOptions",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.update({options:t},e)}},{key:"update",value:(o=u(a.a.mark((function t(e){var r,n,o,i=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.data,n=e.options,o=!(i.length>1&&void 0!==i[1])||i[1],void 0!==n&&(this.options=Object.assign(this.options,n)),void 0!==r&&this.setData(r),!0!==o){t.next=7;break}return t.next=7,this.draw();case 7:return t.abrupt("return",{data:this.data,chart:this.googleChart,options:this.options});case 8:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"applyFormats",value:function(t){t&&(this.formats=t);var e=!0,r=!1,n=void 0;try{for(var a,o=this.formats[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var i=a.value;new window.google.visualization[i.type](i.options).format(this.data,i.index)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}}},{key:"processInitialData",value:(n=u(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===this.initialData){t.next=5;break}return e="string"==typeof this.initialData?new P(this.initialData):this.initialData,t.next=4,this.setData(e);case 4:delete this.initialData;case 5:if(this.data instanceof google.visualization.DataTable==1){t.next=7;break}throw new R("There was a error setting the data for ".concat(this.id));case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"setData",value:(r=u(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(e);case 2:if(this.data=t.sent,this.data instanceof google.visualization.DataTable!=0){t.next=5;break}throw new R("There was a error setting the data for ".concat(this.id));case 5:e.formats&&this.applyFormats(e.formats);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"registerEventHandler",value:function(t,e){var r=this;google.visualization.events.addListener(this.googleChart,t,(function(t){e({event:t,$this:r,data:r.data,chart:r.googleChart})}))}}]),e}(I);!function(t){t[t.CLASS=0]="CLASS",t[t.PACKAGE=1]="PACKAGE",t[t.VERSION=2]="VERSION"}(H||(H={}));var V={AnnotationChart:["AnnotationChart","annotationchart",1],AreaChart:["AreaChart","corechart",1],BarChart:["BarChart","corechart",1],BubbleChart:["BubbleChart","corechart",1],CalendarChart:["Calendar","calendar",1],CandlestickChart:["CandlestickChart","corechart",1],ColumnChart:["ColumnChart","corechart",1],ComboChart:["ComboChart","corechart",1],DonutChart:["PieChart","corechart",1],GanttChart:["Gantt","gantt",1],GaugeChart:["Gauge","gauge",1],GeoChart:["GeoChart","geochart",1],HistogramChart:["Histogram","corechart",1],LineChart:["LineChart","corechart",1],PieChart:["PieChart","corechart",1],SankeyChart:["Sankey","sankey",1],ScatterChart:["ScatterChart","corechart",1],SteppedAreaChart:["SteppedAreaChart","corechart",1],TableChart:["Table","table",1],TimelineChart:["Timeline","timeline",1],TreeMapChart:["TreeMap","treemap",1],WordTreeChart:["WordTree","wordtree",1]};var U=function(t){function e(t){var r;return c(this,e),w(p(r=d(this,y(e).call(this,t))),"png",!1),w(p(r),"type",void 0),r.type=t.type,r.png=Boolean(t.png),r}var r;return g(e,t),l(e,null,[{key:"create",value:function(t){return new e(t)}}]),l(e,[{key:"draw",value:(r=u(a.a.mark((function t(){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=E(),this.googleChart=new r.visualization[(n=this,V[n.type][H.CLASS])](N(this.containerId)),t.next=4,L(y(e.prototype),"draw",this).call(this);case 4:this.png&&this.drawPng();case 5:case"end":return t.stop()}var n}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"drawPng",value:function(){var t=N(this.containerId),e=document.createElement("img");e.src=this.googleChart.getImageURI(),t.innerHTML="",t.appendChild(e)}}]),e}(K),J=function(t){function e(t){var r;return c(this,e),t.type="Dashboard",w(p(r=d(this,y(e).call(this,t))),"bindings",void 0),w(p(r),"needsBindings",void 0),r.needsBindings=!0,r.bindings=t.bindings,r}var r;return g(e,t),l(e,[{key:"draw",value:(r=u(a.a.mark((function t(){var e=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!B(this)("initialData")){t.next=3;break}return t.next=3,this.processInitialData();case 3:Y((function(){e.googleChart=O("Dashboard",N(e.containerId)),e.attachBindings(),Object.keys(e.events).forEach((function(t){var r=t;e.registerEventHandler(r,e.events[r])})),e.googleChart.draw(e.data)}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"attachBindings",value:function(){var t=!0,e=!1,r=void 0;try{for(var n,a=this.bindings[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var i,u=n.value;this.debug.extend("Bindings");(i=this.googleChart).bind.apply(i,o(u.toArray()))}}catch(t){e=!0,r=t}finally{try{t||null==a.return||a.return()}finally{if(e)throw r}}this.needsBindings=!1}}]),e}(K),Q={autodraw:!0,autoloadGoogle:!0,chartPackages:["corechart"],datetimeFormat:"",debounceTimeout:250,debug:!1,language:"en",mapsApiKey:"",responsive:!0,timezone:"America/Los_Angeles"},q=function(t){function e(t){var r;return c(this,e),w(p(r=d(this,y(e).call(this))),"packages",new Set),r.debug=M().extend("GoogleLoader"),r}var r;return g(e,t),l(e,[{key:"register",value:function(t){t instanceof J?this.packages.add("controls"):this.packages.add(V[t.type][H.PACKAGE])}},{key:"loadGoogle",value:(r=u(a.a.mark((function t(){var r=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.googleIsDefined){t.next=2;break}return t.abrupt("return",E());case 2:if(!1!==this.scriptTagInPage){t.next=5;break}return t.next=5,this.injectGoogleStaticLoader(document.head);case 5:return window.google.charts.load(e.API_VERSION,this.config),t.abrupt("return",new Promise((function(t){window.google.charts.setOnLoadCallback((function(){r.emitEvent(T.GOOGLE_READY,E()),t(E())}))})));case 7:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"injectGoogleStaticLoader",value:function(t){this.debug.extend("StaticLoader");return new Promise((function(r){var n=document.createElement("script");n.type="text/javascript",n.defer=!0,n.src=e.LOADER_URL,n.onload=n.onreadystatechange=function(t){("load"===(t=t||window.event).type||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r())},t.appendChild(n)}))}},{key:"googleIsDefined",get:function(){return void 0!==window.google}},{key:"scriptTagInPage",get:function(){for(var t=document.getElementsByTagName("script"),r=0,n=Array.from(t);r<n.length;r++){if(n[r].src===e.LOADER_URL)return!0}return!1}},{key:"config",get:function(){var t={language:this.options.language||"en",packages:Array.from(this.packages)};return""!==this.options.mapsApiKey&&(t.mapsApiKey=this.options.mapsApiKey),t}}]),e}(I);w(q,"API_VERSION","current"),w(q,"LOADER_URL","https://www.gstatic.com/charts/loader.js");var Z=function(t){function e(t){var r;return c(this,e),w(p(r=d(this,y(e).call(this))),"googleReady",!1),w(p(r),"domReady",!1),w(p(r),"options",Q),w(p(r),"registry",{}),w(p(r),"loader",void 0),t&&r.configure(t),r.debug=M(),r.options.debug&&C.enable(),!0===r.options.responsive&&r.attachResizeHandler(),r.loader=new q(r.options),r.loader.on(T.GOOGLE_READY,(function(t){r.googleReady=!0,r.emitEvent(T.GOOGLE_READY,t)})),!r.loader.googleIsDefined&&r.options.autoloadGoogle&&r.loader.loadGoogle(),r}var r,n;return g(e,t),l(e,[{key:"getLoader",value:function(){return this.loader}},{key:"configure",value:function(t){this.options=Object.assign(this.options,t)}},{key:"draw",value:(n=u(a.a.mark((function t(e){var r,n=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.domReady){t.next=3;break}return t.next=3,this.waitForDom();case 3:return r=[],void 0!==e&&(Array.isArray(e)?r.push.apply(r,o(e.map(this.chart,this))):r.push(this.chart(e))),Y((function(){n.emitEvent(T.DRAW)})),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"factory",value:function(t){return e=t,function(t){return F().chart({type:e,containerId:t})};var e}},{key:"chart",value:function(t){var e=new U(t);return this.register(e)}},{key:"charts",value:function(t){return t.map(this.chart,this)}},{key:"dashboard",value:function(t){var e=new J(t);return this.register(e)}},{key:"bind",value:function(t,e){return new A(t,e)}},{key:"register",value:function(t){return this.loader.register(t),this.registry[t.id]={},t}},{key:"waitForDom",value:(r=u(a.a.mark((function t(){var e=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){["interactive","complete"].includes(document.readyState)?(t(),e.domReady=!0,e.emit(T.DOM_READY)):document.addEventListener("DOMContentLoaded",(function(){return t()}))})));case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"attachResizeHandler",value:function(){var t,e=this;!function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null!=t&&(t.addEventListener?t.addEventListener(e,r,n):t.attachEvent?t.attachEvent("on"+e,r):t["on"+e]=r)}(window,"resize",(function(){clearTimeout(t),t=setTimeout((function(){e.emit(T.DRAW)}),e.options.debounceTimeout)}))}}]),e}(I);w(Z,"VERSION","4.0.0-alpha1"),window.LavaJs=Z,window.lava=new window.LavaJs}]);
//# sourceMappingURL=lava.js.map